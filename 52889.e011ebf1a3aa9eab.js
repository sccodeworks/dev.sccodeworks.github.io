"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[52889,11790,38754,85645,62313],{11790:(Y,J,m)=>{m.d(J,{y:()=>M});var W=m(65412),h=m(94650),n=m(97392),f=m(4859);let X=(()=>{class S{constructor(T,O){this.dialogRef=T,this.data=O}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return S.\u0275fac=function(T){return new(T||S)(h.Y36(W.so),h.Y36(W.WI))},S.\u0275cmp=h.Xpm({type:S,selectors:[["app-alert-dialog"]],decls:10,vars:3,consts:[[1,"confirm-dialog-container"],[1,"content-container"],["id","close-icon",3,"click"],[1,"content-span","full-width"],["mat-flat-button","","id","no-button",3,"mat-dialog-close"],["mat-flat-button","","id","yes-button",3,"mat-dialog-close"]],template:function(T,O){1&T&&(h.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),h.NdJ("click",function(){return O.closeDialog()}),h._uU(3,"close "),h.qZA(),h.TgZ(4,"span",3),h._uU(5),h.qZA()(),h.TgZ(6,"button",4),h._uU(7,"Cancel"),h.qZA(),h.TgZ(8,"button",5),h._uU(9,"Delete"),h.qZA()()),2&T&&(h.xp6(5),h.Oqu(O.data.message),h.xp6(1),h.Q6J("mat-dialog-close",!1),h.xp6(2),h.Q6J("mat-dialog-close",!0))},dependencies:[n.Hw,f.lW,W.ZT]}),S})(),M=(()=>{class S{constructor(T){this.dialog=T}openCustomAlert(T){return this.dialog.open(X,{width:"450px",panelClass:"confirm-dialog-container",disableClose:!0,data:{message:T}})}}return S.\u0275fac=function(T){return new(T||S)(h.LFG(W.uw))},S.\u0275prov=h.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},10573:(Y,J,m)=>{m.d(J,{a:()=>D});var W=m(80529),h=m(61135),n=m(75625),f=m(70262),X=m(62843),M=m(92340),S=m(94650);let D=(()=>{class T{constructor(t){this.httpClient=t,this.itemDataSource=new h.X([]),this.url=M.N.API_BASE_URL,this.httpHeader={headers:new W.WM({"Content-Type":"application/json"})}}getItemAll(t){return this.httpClient.get(`${this.url}/item/read?user=${t}`)}updateItemDataSource(t){let e=this.itemDataSource.getValue();e.unshift(t),this.itemDataSource.next(e)}getAll(t){return this.httpClient.get(`${this.url}/consignee/readAll?user=${t}`)}getItemTally(t,e,r,s){return this.httpClient.get(`${this.url}/item/read/tally?user=${t}&storer=${e}&suffix=${r}&item=${s}`)}ItemTallyWorkWith(t,e,r,s){return this.httpClient.get(`${this.url}/item/tallyWorkWith?user=${t}&storer=${e}&suffix=${r}&item=${s}`)}getItemAdjustmentBySearch(t,e,r,s,a,l,p,I,g,C,d,A,$,_){return this.httpClient.get(`${this.url}/itemAdjustment/readBySearch?user=${t}&storer=${e}&item=${r}&type=${s}&lot1=${a}&lot2=${l}&lot3=${p}&building=${I}&floor=${g}&aisle=${C}&slot=${d}&year=${A}&month=${$}&date=${_}`)}activeSearch(t,e,r,s,a,l,p,I){return this.httpClient.get(`${this.url}/item/activeSearch?user=${t}&onlyActive=${e}&storer=${r}&suffix=${s}&item=${a}&description=${l}&product=${p}&type=${I}`)}getItemBySearch(t,e,r,s,a){return this.httpClient.get(`${this.url}/item/readBySearch?user=${t}&storer=${e}&suffix=${r}&item=${s}&description=${a}`)}getItemForTally(t,e,r,s,a,l,p){return this.httpClient.get(`${this.url}/item/read/new?user=${t}&storer=${e}&suffix=${r}&item=${s}&description=${a}&pageNum=${l}&recordsPerPage=${p}`)}getItemAdjustment(t,e){return this.httpClient.get(`${this.url}/itemAdjustment/read?user=${t}&storer=${e}`)}getItemAdjustmentInquiry(t,e,r=null,s=null,a=null,l=null,p=null,I=null,g=null,C=null,d=null,A=null){return this.httpClient.get(`${this.url}/itemAdjustment/itemAdjInquiryRead?user=${t}&transaction=${e}`)}itemCreate1(t,e,r,s,a,l,p,I,g,C,d,A,$,_){return this.httpClient.post(`${this.url}/item/create1`,{storeNumber:t,suffix:e,item:r,itemDescription1:s,itemDescription2:a,itemUpcCode:l,itemUpcTailCode:p,manufacturerProdCode:I,quickItem:g,lottedItem:C,lotUnitWeight:d,lotSortMask:A,primSortMaskPointer:$,prevItem:_}).pipe((0,n.X)(1),(0,f.K)(this.httpError))}itemCreate2(t,e,r,s,a,l,p,I,g,C,d,A,$,_,w,y,Z,U,E,R,K){return this.httpClient.put(`${this.url}/item/create2`,{storeNumber:t,suffix:e,item:r,unitGrossWeight:s,unitWeightType:a,casesPerTier:l,tiersPerPallet:p,unitSquareFeet:I,unitCubeFeet:g,unitInchesHigh:C,unitInchesWide:d,unitInchesDeep:A,unitOfMeasure1:$,unitOfMeasure2:_,qtyPer2UnitOfMultiplier:w,unitOfMeasure3:y,qtyPer3UnitOfMultiplier:Z,unitOfMeasure4:U,qtyPer4UnitOfMultiplier:E,inventoryUnit:R,shippingUnit:K}).pipe((0,n.X)(1),(0,f.K)(this.httpError))}itemCreate3(t,e,r,s,a,l,p,I,g,C,d,A,$,_,w,y,Z){return this.httpClient.put(`${this.url}/item/create3`,{storeNumber:t,suffix:e,item:r,domesticSurface:s,domesticAir:a,internationalSurface:l,internationalAir:p,matHandlingCode1:I,matHandlingCode2:g,matHandlingCode3:C,warehouseZone:d,bmtCode:A,palletsHigh:$,palletsDeep:_,lowStockPoint:w,prefferedLocation:y,pickLine:Z}).pipe((0,n.X)(1),(0,f.K)(this.httpError))}itemCreate4(t,e,r,s,a,l,p,I,g,C,d,A,$,_,w,y,Z,U,E){return this.httpClient.put(`${this.url}/item/create4`,{storeNumber:t,suffix:e,item:r,rcvStageRate:s,rcvStageBase:a,rcvStorageMin:l,rcrStorageRate:p,rcrStorageBase:I,rcrStorageMin:g,regHandlingRate:C,regHandlingBase:d,regHandlingMin:A,distHandlingRate:$,distHandlingBase:_,distHandlingMin:w,altHandlingRate:y,altHandlingBase:Z,altHandlingMin:U,insLiabilityAmount:E}).pipe((0,n.X)(1),(0,f.K)(this.httpError))}itemCreate5(t){return this.httpClient.put(`${this.url}/item/create5`,t).pipe((0,n.X)(1),(0,f.K)(this.httpError))}itemServiceUpdate1(t,e,r,s,a,l,p,I,g,C,d,A,$,_){return this.httpClient.put(`${this.url}/item/update1`,{storeNumber:t,suffix:e,item:r,itemDescription1:s,itemDescription2:a,itemUpcCode:l,itemUpcTailCode:p,manufacturerProdCode:I,quickItem:g,lottedItem:C,lotUnitWeight:d,lotSortMask:A,primSortMaskPointer:$,prevItem:_}).pipe((0,n.X)(1),(0,f.K)(this.httpError))}itemServiceUpdate2(t,e,r,s,a,l,p,I,g,C,d,A,$,_,w,y,Z,U,E,R,K){return this.httpClient.put(`${this.url}/item/update2`,{storeNumber:t,suffix:e,item:r,unitGrossWeight:s,unitWeightType:a,casesPerTier:l,tiersPerPallet:p,unitSquareFeet:I,unitCubeFeet:g,unitInchesHigh:C,unitInchesWide:d,unitInchesDeep:A,unitOfMeasure1:$,unitOfMeasure2:_,qtyPer2UnitOfMultiplier:w,unitOfMeasure3:y,qtyPer3UnitOfMultiplier:Z,unitOfMeasure4:U,qtyPer4UnitOfMultiplier:E,inventoryUnit:R,shippingUnit:K}).pipe((0,n.X)(1),(0,f.K)(this.httpError))}itemServiceUpdate3(t,e,r,s,a,l,p,I,g,C,d,A,$,_,w,y,Z){return this.httpClient.put(`${this.url}/item/update3`,{storeNumber:t,suffix:e,item:r,domesticSurface:s,domesticAir:a,internationalSurface:l,internationalAir:p,matHandlingCode1:I,matHandlingCode2:g,matHandlingCode3:C,warehouseZone:d,bmtCode:A,palletsHigh:$,palletsDeep:_,lowStockPoint:w,prefferedLocation:y,PickLine:Z}).pipe((0,n.X)(1),(0,f.K)(this.httpError))}itemServiceUpdate4(t,e,r,s,a,l,p,I,g,C,d,A,$,_,w,y,Z,U,E){return this.httpClient.put(`${this.url}/item/update4`,{storeNumber:t,suffix:e,item:r,rcvStageRate:s,rcvStageBase:a,rcvStorageMin:l,rcrStorageRate:p,rcrStorageBase:I,rcrStorageMin:g,regHandlingRate:C,regHandlingBase:d,regHandlingMin:A,distHandlingRate:$,distHandlingBase:_,distHandlingMin:w,altHandlingRate:y,altHandlingBase:Z,altHandlingMin:U,insLiabilityAmount:E}).pipe((0,n.X)(1),(0,f.K)(this.httpError))}itemServiceUpdate5(t){return this.httpClient.put(`${this.url}/item/update5`,t).pipe((0,n.X)(1),(0,f.K)(this.httpError))}getImageByItemCode(t){return this.httpClient.get(`${this.url}/item/image/${t}`,{responseType:"blob"})}deleteItem(t,e,r){return this.httpClient.delete(`${this.url}/item/delete?storeNumber=${t}&suffix=${e}&item=${r}`)}itemRebalanceService(t,e,r){return this.httpClient.put(this.url+"/item/itemRebalance",{storer:t,suffix:e,item:r}).pipe((0,n.X)(1),(0,f.K)(this.httpError))}getItemXRef(t,e,r,s){return this.httpClient.get(`${this.url}/itemXreference/read?user=${t}&storer=${e}&suffix=${r}&itemCode=${s}`)}createItemXref(t,e,r,s,a,l,p){return this.httpClient.post(this.url+"/itemXreference/create",{user:t,acdl:e,storer:r,suffix:s,itemXcode:a,itemCode:l,itemXupc:p}).pipe((0,n.X)(1),(0,f.K)(this.httpError))}updateItemXref(t,e,r,s,a,l,p){return this.httpClient.put(this.url+"/itemXreference/update",{user:t,acdl:e,storer:r,suffix:s,itemXcode:a,itemCode:l,itemXupc:p}).pipe((0,n.X)(1),(0,f.K)(this.httpError))}deleteItemXref(t,e,r,s){return this.httpClient.delete(`${this.url}/itemXreference/delete?user=${t}&storer=${e}&suffix=${r}&itemCode=${s}`)}readItemLotService(t,e,r,s,a,l,p){return this.httpClient.get(`${this.url}/item/readItemLots?user=${t}&storer=${e}&suffix=${r}&item=${s}&lot1=${a}&lot2=${l}&lot3=${p}`)}updateItemLotsService(t,e,r,s,a,l,p,I,g,C,d){return this.httpClient.put(`${this.url}/item/updateItemLots`,{user:t,storer:e,suffix:r,item:s,lot1:a,lot2:l,lot3:p,lotUnitWeight:I,lotFirstRecieved:g,lotLastShipped:C,status:d}).pipe((0,n.X)(1),(0,f.K)(this.httpError))}setLastUsed(t,e,r,s,a,l){return this.httpClient.put(this.url+"/item/setLastUsed",{storer:t,suffix:e,item:r,lot1:s,lot2:a,lot3:l}).pipe((0,n.X)(1),(0,f.K)(this.httpError))}deleteItemLotsService(t,e,r,s,a,l,p){return this.httpClient.delete(`${this.url}/item/deleteItemLots?user=${t}&storer=${e}&suffix=${r}&item=${s}&lot1=${a}&lot2=${l}&lot3=${p}`)}deleteItemAdjustment(t){return this.httpClient.delete(`${this.url}/itemAdjustment/delete?TransacNum=${t}`)}readItemCommentService(t,e,r,s){return this.httpClient.get(`${this.url}/item/comments/read?user=${t}&storerAndItem=${e}&subType=${r}&sequence=${s}`).pipe((0,n.X)(1),(0,f.K)(this.httpError))}createItemCommentService(t,e,r,s,a){return this.httpClient.post(`${this.url}/item/comments/create`,{storerAndItem:t,subType:e,sequence:r,comment:s,user:a}).pipe((0,n.X)(1),(0,f.K)(this.httpError))}updateItemCommentService(t,e,r,s,a){return this.httpClient.put(`${this.url}/item/comments/update`,{storerAndItem:t,subType:e,sequence:r,comment:s,user:a}).pipe((0,n.X)(1),(0,f.K)(this.httpError))}deleteItemCommentService(t,e,r,s){return this.httpClient.delete(`${this.url}/item/comments/delete?user=${t}&storerAndItem=${e}&subType=${r}&sequence=${s}`).pipe((0,n.X)(1),(0,f.K)(this.httpError))}itemStockActivityReadService(t,e,r,s){return this.httpClient.get(`${this.url}/item/stockActivity?user=${t}&storer=${e}&suffix=${r}&item=${s}`)}itemOrdersReadService(t,e,r,s,a){return this.httpClient.get(`${this.url}/item/itemOrders?user=${t}&storer=${e}&suffix=${r}&item=${s}&status=${a}`)}readItemTallyInquiryService(t,e){return this.httpClient.get(`${this.url}/item/itemTallyInquiry?user=${t}&tally=${e}`)}readItemTallyWrInquiryService(t,e){return this.httpClient.get(`${this.url}/item/itemTallyWrInquiry?user=${t}&tally=${e}`)}BucketXRefUpdate(t,e,r,s,a,l,p,I,g,C,d){return this.httpClient.put(`${this.url}/item/BucketXRefUpdate`,{Storer:t,Suffix:e,Item:r,Lotcode1:s,Lotcode2:a,Lotcode3:l,From:p,To:I,Reason:g,Comment:C,Filename:d}).pipe((0,n.X)(1),(0,f.K)(this.httpError))}getAllBucketError(t,e){return this.httpClient.get(`${this.url}/item/getAllBucketError?user=${t}&Filename=${e}`)}deactivateItem(t,e,r){return this.httpClient.put(this.url+"/item/deactivate",{storer:t,suffix:e,item:r}).pipe((0,n.X)(1),(0,f.K)(this.httpError))}activateItem(t,e,r){return this.httpClient.put(this.url+"/item/activate",{storer:t,suffix:e,item:r}).pipe((0,n.X)(1),(0,f.K)(this.httpError))}recalculateTransit(t,e,r,s){return this.httpClient.put(this.url+"/item/recalculateTransit",{storer:t,suffix:e,item:r,quantity:s}).pipe((0,n.X)(1),(0,f.K)(this.httpError))}pickInquiry(t,e,r,s,a,l){return this.httpClient.get(`${this.url}/item/pickInquiry?user=${t}&storer=${e}&suffix=${r}&item=${s}&recordsPerPage=${a}&pageNo=${l}`)}maintainWeight(t,e,r,s,a,l,p,I,g,C,d,A,$,_,w,y,Z,U,E,R,K){return this.httpClient.put(`${this.url}/item/update2`,{storeNumber:t,suffix:e,item:r,unitGrossWeight:s,unitWeightType:a,casesPerTier:l,tiersPerPallet:p,unitSquareFeet:I,unitCubeFeet:g,unitInchesHigh:C,unitInchesWide:d,unitInchesDeep:A,unitOfMeasure1:$,unitOfMeasure2:_,qtyPer2UnitOfMultiplier:w,unitOfMeasure3:y,qtyPer3UnitOfMultiplier:Z,unitOfMeasure4:U,qtyPer4UnitOfMultiplier:E,inventoryUnit:R,shippingUnit:K}).pipe((0,n.X)(1),(0,f.K)(this.httpError))}httpError(t){let e="";return e=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,console.log(e),(0,X._)(()=>new Error(e))}}return T.\u0275fac=function(t){return new(t||T)(S.LFG(W.eN))},T.\u0275prov=S.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},52889:(Y,J,m)=>{m.r(J),m.d(J,{WwItemAttributesComponent:()=>j});var W=m(98739),h=m(7155),n=m(24006),f=m(65412),X=m(35226),M=m.n(X),S=m(70879),D=m(48529),T=m(86385),O=m(69501),t=m(94650),e=m(67445),r=m(10573),s=m(11240),a=m(19132),l=m(36895),p=m(97392),I=m(4859),g=m(59549),C=m(44144),d=m(73546),A=m(39505);const $=["itemInput"];function _(c,v){if(1&c){const i=t.EpF();t.TgZ(0,"div")(1,"mat-form-field",16)(2,"mat-label"),t._uU(3,"Storer Number"),t.qZA(),t.TgZ(4,"input",17),t.NdJ("focus",function(){t.CHM(i);const u=t.oxw();return t.KtG(u.toggleDropdown())})("change",function(u){t.CHM(i);const b=t.oxw();return t.KtG(b.onValueChange(u))}),t.qZA()()()}}function w(c,v){if(1&c){const i=t.EpF();t.TgZ(0,"div",18)(1,"app-dropdown",19),t.NdJ("selectionChange",function(u){t.CHM(i);const b=t.oxw();return t.KtG(b.onValueChange(u))}),t.qZA()()}if(2&c){const i=t.oxw();t.xp6(1),t.Q6J("options",i.storerOptions)("valueControlName",i.StorerNumberControlName)("isRequired",!0)}}let y=(()=>{class c{constructor(i,o,u,b,N,x,H){this.anyvariable=i,this.dialogRef=o,this.ItemAttributes=u,this.IitemService=b,this.iStorService=N,this.fb=x,this.router=H,this.user=localStorage.getItem("userName")||"",this.dropdownControl=new n.NI,this.update=!1,this.selectedAttribute="",this.isDropdownClicked=!1,this.showDropdown=!1,this.valueChanged=!1,this.displayOptions=[],this.itemOptions=[],this.updatedItemOptions=[],this.storerOptions=[],this.createUrl="/main-nav/item-attributes/read",this.dropdownControl.valueChanges.subscribe(G=>{this.onValueChange(G)})}onItemFocus(){if(this.itemOptions.length>0&&this.itemInputComponent?.control){const i=this.itemInputComponent.control.value||"";this.itemInputComponent.control.setValue(i+" "),setTimeout(()=>{this.itemInputComponent.control.setValue(i)},0)}}ngOnInit(){this.selectedAttribute=this.anyvariable.WKSTOR,this.form=this.fb.group({IASTOR:this.selectedAttribute,IAITEM:this.anyvariable.WKITEM,IANTYP:["",n.kI.required],IANUMB:["",[n.kI.required,n.kI.maxLength(40)]]}),this.fetchStorer(),this.fetchNumberTypes(),this.fetchItems(this.anyvariable.WKSTOR),document.addEventListener("click",this.onDocumentClick.bind(this))}toggleDropdown(){this.showDropdown=!0}get StorerNumberControlName(){return this.form.controls.IASTOR}onValueChange(i){this.valueChanged=!0,this.fetchItems(i),this.showDropdown=!1}fetchNumberTypes(){this.ItemAttributes.getNumberTypes().subscribe(i=>{this.result=i;for(const o of this.result)this.displayOptions.push(o.NTNTYP)})}fetchItems(i){this.itemOptions=[],this.ItemAttributes.getItems(i).subscribe(o=>{this.result=o;for(const u of this.result)this.itemOptions.push(u.ITEM)})}updateItemOptions(i){this.ItemAttributes.getItems(i).subscribe(o=>{this.result=o;for(const u of this.result)this.updatedItemOptions.push(u.ITEM)})}fetchStorer(){this.ItemAttributes.getStorers().subscribe(i=>{this.storerOptions=i.map(o=>({value:o.STORE,description:o.STORE}))})}onDocumentClick(i){const o=i.target instanceof HTMLElement&&(i.target.closest("mat-form-field")||i.target.closest("app-dropdown")),u=i.target instanceof HTMLElement&&i.target.closest(".buttons.addButton.new-tally-form-btn");!o&&!u&&!this.valueChanged&&(this.StorerNumberControlName.setValue(this.selectedAttribute),this.showDropdown=!1),this.isDropdownClicked=!1,this.valueChanged=!1}addItemAttributes(){var i=this.form.value;this.ItemAttributes.createItemAttributes(this.user,i.IASTOR,"",i.IAITEM,i.IANTYP,i.IANUMB).subscribe(o=>{const b=JSON.parse(o[0].data[o[0].data.length-1].value).returnedData.message;b.toUpperCase()===D.R.createMsg.toUpperCase()?(this.successMessage(b),this.closeDialog(),this.router.navigateByUrl(this.createUrl,{state:this.anyvariable})):this.failureMessage(b)})}successMessage(i){M().fire(i,"","success")}failureMessage(i){M().fire(i,"","error")}closeDialog(){this.dialogRef.close()}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(f.WI),t.Y36(f.so),t.Y36(e.Z),t.Y36(r.a),t.Y36(s.h),t.Y36(n.qu),t.Y36(a.F0))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-ww-item-attributes-create"]],viewQuery:function(i,o){if(1&i&&t.Gf($,5),2&i){let u;t.iGM(u=t.CRH())&&(o.itemInputComponent=u.first)}},standalone:!0,features:[t.jDz],decls:24,vars:6,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],[4,"ngIf"],["tabindex","0",4,"ngIf"],["formControlName","IAITEM","label","Item Code*","appearance","outline","required","",1,"full-width2",3,"options","focus","click"],["itemInput",""],["formControlName","IANTYP","label","Number Type*","appearance","outline","required","",1,"full-width2",3,"options"],["appearance","outline",1,"full-width2"],["matInput","","formControlName","IANUMB"],["mat-raised-button","",1,"buttons","addButton",3,"disabled","click"],["appearance","outline",1,"full-width"],["required","","matInput","","formControlName","IASTOR",3,"focus","change"],["tabindex","0"],["appearance","outline","label","Storer Number","placeholder","Search or Enter Storer",3,"options","valueControlName","isRequired","selectionChange"]],template:function(i,o){1&i&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Item Attributes"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7),t.YNc(12,_,5,0,"div",8),t.YNc(13,w,2,3,"div",9),t.TgZ(14,"custom-input-autocomplete",10,11),t.NdJ("focus",function(){return o.onItemFocus()})("click",function(){return o.onItemFocus()}),t.qZA(),t._UZ(16,"custom-input-autocomplete",12)(17,"br"),t.TgZ(18,"mat-form-field",13)(19,"mat-label"),t._uU(20,"Number"),t.qZA(),t._UZ(21,"input",14),t.qZA()()(),t.TgZ(22,"button",15),t.NdJ("click",function(){return o.addItemAttributes()}),t._uU(23," Add "),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("formGroup",o.form),t.xp6(3),t.Q6J("ngIf",!o.showDropdown),t.xp6(1),t.Q6J("ngIf",o.showDropdown),t.xp6(1),t.Q6J("options",o.itemOptions),t.xp6(2),t.Q6J("options",o.displayOptions),t.xp6(6),t.Q6J("disabled",!o.form.valid))},dependencies:[S.m,l.O5,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.sg,n.u,p.Hw,I.lW,g.KE,g.hX,C.Nt,d.a8,d.dk,d.dn,d.n5,T.j,A.L,O.J]}),c})(),Z=(()=>{class c{constructor(i,o,u,b,N){this.anyvariable=i,this.dialogRef=o,this.fb=u,this.ItemAttributes=b,this.router=N,this.user=localStorage.getItem("userName")||"",this.updateUrl="/main-nav/item-attributes/read"}ngOnDestroy(){this.Subscription&&this.Subscription.unsubscribe()}ngOnInit(){this.form=this.fb.group({IASTOR:{value:this.anyvariable[0].WKSTOR,disabled:!0},IAITEM:{value:this.anyvariable[0].WKITEM,disabled:!0},IANTYP:{value:this.anyvariable[1].IANTYP,disabled:!0},IANUMB:[this.anyvariable[1].IANUMB,n.kI.maxLength(40)]})}updateItemAttributes(){var i=this.form.value;this.Subscription&&this.Subscription.unsubscribe(),this.Subscription=this.ItemAttributes.updateItemAttributes(this.user,this.anyvariable[0].WKSTOR,this.anyvariable[0].WKSSFX,this.anyvariable[0].WKITEM,this.anyvariable[1].IANTYP,i.IANUMB).subscribe(o=>{const b=JSON.parse(o[0].data[o[0].data.length-1].value).returnedData.message;b.toUpperCase()===D.R.updateMsg.toUpperCase()?(this.successMessage(b),this.closeDialog(),this.router.navigateByUrl(this.updateUrl,{state:this.anyvariable[0]})):this.failureMessage(b)})}successMessage(i){M().fire(i,"","success")}failureMessage(i){M().fire(i,"","error")}closeDialog(){this.dialogRef.close()}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(f.WI),t.Y36(f.so),t.Y36(n.qu),t.Y36(e.Z),t.Y36(a.F0))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-ww-item-attributes-update"]],standalone:!0,features:[t.jDz],decls:30,vars:2,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width2"],["matInput","","formControlName","IASTOR"],["matInput","","formControlName","IAITEM"],["matInput","","formControlName","IANTYP"],["required","","matInput","","formControlName","IANUMB"],["mat-raised-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(i,o){1&i&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Item Attributes"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14," Storer "),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"Item Code"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field",8)(21,"mat-label"),t._uU(22," Number Type "),t.qZA(),t._UZ(23,"input",11),t.qZA(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26,"Number"),t.qZA(),t._UZ(27,"input",12),t.qZA()()(),t.TgZ(28,"button",13),t.NdJ("click",function(){return o.updateItemAttributes()}),t._uU(29," Update "),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("formGroup",o.form),t.xp6(19),t.Q6J("disabled",!(o.form.valid&&o.form.dirty)))},dependencies:[S.m,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.sg,n.u,p.Hw,I.lW,g.KE,g.hX,C.Nt,d.a8,d.dk,d.dn,d.n5]}),c})();var U=m(11790),E=m(10266);function R(c,v){1&c&&(t.TgZ(0,"th",23),t._uU(1,"Attribute"),t.qZA())}function K(c,v){if(1&c&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&c){const i=v.$implicit;t.xp6(1),t.Oqu(i.NTDESC)}}function B(c,v){1&c&&(t.TgZ(0,"th",23),t._uU(1,"Value"),t.qZA())}function k(c,v){if(1&c&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&c){const i=v.$implicit;t.xp6(1),t.Oqu(i.IANUMB)}}function F(c,v){1&c&&t._UZ(0,"th",25)}function L(c,v){if(1&c){const i=t.EpF();t.TgZ(0,"td",24)(1,"div",26)(2,"button",27)(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"ul",28)(6,"li")(7,"button",29),t.NdJ("click",function(){const b=t.CHM(i).$implicit,N=t.oxw();return t.KtG(N.update(b))}),t.TgZ(8,"mat-icon",30),t._uU(9,"edit"),t.qZA(),t.TgZ(10,"mat-label"),t._uU(11,"Edit"),t.qZA()()(),t.TgZ(12,"li")(13,"button",29),t.NdJ("click",function(){const b=t.CHM(i).$implicit,N=t.oxw();return t.KtG(N.deleteItemAttributes(b))}),t.TgZ(14,"mat-icon",31),t._uU(15,"delete"),t.qZA(),t.TgZ(16,"mat-label"),t._uU(17,"Delete"),t.qZA()()()()()()}}function P(c,v){1&c&&t._UZ(0,"tr",32)}function q(c,v){1&c&&t._UZ(0,"tr",33)}const Q=function(){return[8,16,24]};let j=(()=>{class c{constructor(i,o,u,b,N,x){this.ItemAttributes=i,this.fb=o,this.router=u,this.route=b,this.matDialog=N,this.CustomAlertService=x,this.displayedColumns=["Attribute","Value","Actions"],this.dataSource=new h.by,this.totalRecords=0,this.searchTextDisplay=!1,this.user=localStorage.getItem("userName")||"",this.pageSize=8,this.currentFilters=null,this.pageNumber=1,this.ItemBaseUrl="/main-nav/item/read"}ngOnInit(){this.element=history.state,this.form=this.fb.group({IASTOR:{value:this.element.WKSTOR,disabled:!0},IAITEM:{value:this.element.WKITEM,disabled:!0}}),this.getItemAttributes(this.pageSize,this.pageNumber)}ngOnDestroy(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe()}getItemAttributes(i,o){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe(),this.getAll2Subscription=this.ItemAttributes.getItemAttributes(this.user,this.element.WKSTOR,this.element.WKSSFX,this.element.WKITEM,i,o).subscribe(u=>{var b=JSON.parse(u[0].data[1]?.value);this.dataSource.data=b.returnedData,this.totalRecords=b.TotalRecords})}addItemAttributes(){this.matDialog.open(y,{width:"1000px",maxHeight:"80vh",autoFocus:!1,data:this.element})}update(i){this.matDialog.open(Z,{width:"1000px",maxHeight:"80vh",data:[this.element,i],autoFocus:!1})}deleteItemAttributes(i){this.CustomAlertService.openCustomAlert("Are you sure want to delete this Item Code: "+i.IANTYP+"?").afterClosed().subscribe(u=>{u&&(this.getAll2Subscription&&this.getAll2Subscription.unsubscribe(),this.getAll2Subscription=this.ItemAttributes.deleteItemAttributes(this.user,this.element.WKSTOR,this.element.WKSSFX,this.element.WKITEM,i.IANTYP).subscribe(b=>{const x=JSON.parse(b[0].data[b[0].data.length-1].value).returnedData.message;x.toUpperCase()===D.R.deleteMsg.toUpperCase()?(this.successMessage(x),this.getItemAttributes()):this.failureMessage(x)}))})}successMessage(i){M().fire(i,"","success")}failureMessage(i){M().fire(i,"","error")}onBack(){this.router.navigate([this.ItemBaseUrl])}onPaginateChange(i){this.pageSize=i.pageSize,this.getItemAttributes(i.pageSize,i.pageIndex+1)}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(e.Z),t.Y36(n.qu),t.Y36(a.F0),t.Y36(a.gz),t.Y36(f.uw),t.Y36(U.y))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-ww-item-attributes"]],viewQuery:function(i,o){if(1&i&&t.Gf(W.NW,5),2&i){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first)}},standalone:!0,features:[t.jDz],decls:37,vars:8,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"buttons"],["mat-button","","matTooltip","Add New Item Attributes",1,"addButton",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","IASTOR"],["matInput","","formControlName","IAITEM"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Attribute"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Value"],["matColumnDef","Actions"],["mat-header-cell","","class","tally_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"tally_actions_sec"],[1,"dropdown","more_options_btn"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],["mat-icon-button","","color","warn"],["mat-header-row",""],["mat-row",""]],template:function(i,o){1&i&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return o.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6," Work With Item Attributes"),t.qZA(),t.TgZ(7,"div",3)(8,"button",4),t.NdJ("click",function(){return o.addItemAttributes()}),t.TgZ(9,"mat-icon"),t._uU(10,"add"),t.qZA()()()(),t.TgZ(11,"mat-card-content",5)(12,"form",6)(13,"div",7)(14,"div",8)(15,"mat-form-field",9)(16,"mat-label"),t._uU(17,"Storer"),t.qZA(),t._UZ(18,"input",10),t.qZA(),t.TgZ(19,"mat-form-field",9)(20,"mat-label"),t._uU(21,"Item"),t.qZA(),t._UZ(22,"input",11),t.qZA()()()()(),t.TgZ(23,"table",12),t.ynx(24,13),t.YNc(25,R,2,0,"th",14),t.YNc(26,K,2,1,"td",15),t.BQk(),t.ynx(27,16),t.YNc(28,B,2,0,"th",14),t.YNc(29,k,2,1,"td",15),t.BQk(),t.ynx(30,17),t.YNc(31,F,1,0,"th",18),t.YNc(32,L,18,0,"td",15),t.BQk(),t.YNc(33,P,1,0,"tr",19),t.YNc(34,q,1,0,"tr",20),t.qZA(),t.TgZ(35,"mat-paginator",21,22),t.NdJ("page",function(b){return o.onPaginateChange(b)}),t.qZA()()),2&i&&(t.xp6(12),t.Q6J("formGroup",o.form),t.xp6(11),t.Q6J("dataSource",o.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("length",o.totalRecords)("pageSizeOptions",t.DdM(7,Q))("pageSize",o.pageSize))},dependencies:[S.m,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,W.NW,p.Hw,I.lW,g.KE,g.hX,C.Nt,d.a8,d.dk,d.dn,d.n5,h.BZ,h.fO,h.as,h.w1,h.Dz,h.nj,h.ge,h.ev,h.XQ,h.Gk,E.gM]}),c})()}}]);