"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[99398],{99398:(j,U,i)=>{i.r(U),i.d(U,{OrderCommentsComponent:()=>X});var O=i(35226),f=i.n(O),u=i(7155),p=i(65412),r=i(24006),C=i(70879),e=i(94650),g=i(65105),Z=i(19132),v=i(97392),b=i(4859),c=i(59549),_=i(44144),T=i(84385),y=i(3238),s=i(73546);let A=(()=>{class a{constructor(t,o,n,l,d,h){this.orderService=t,this.anyvariable=o,this.fb=n,this.router=l,this.matDialog=d,this.dialogRef=h,this.user=localStorage.getItem("userName")}ngOnInit(){console.log(this.anyvariable),this.form=this.fb.group({bill:this.anyvariable.OHBILL,sequence:0,Comment:["",r.kI.maxLength(60)],print:"N",Form:"",Type:""})}closeDialog(){this.dialogRef.close()}addComment(){var t=this.form.value;console.log(t),this.result=this.orderService.createOrderCommentService(t.bill,t.sequence,"",t.Comment,t.print,t.Form,t.Type).subscribe(o=>{this.result=o;var l=this.result[0].data[this.result[0].data.length-1].value;"Created Successfully"===l?(this.successMessage(l),this.closeDialog(),console.log(this.anyvariable),this.router.navigateByUrl("/main-nav/orders/Comments",{state:this.anyvariable})):this.failureMessage(l)})}successMessage(t){f().fire(t,"","success")}failureMessage(t){f().fire(t,"","error")}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(g.p),e.Y36(p.WI),e.Y36(r.qu),e.Y36(Z.F0),e.Y36(p.uw),e.Y36(p.so))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-order-comments-create"]],standalone:!0,features:[e.jDz],decls:48,vars:2,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["readonly","","matInput","","formControlName","bill"],["readonly","","matInput","","formControlName","sequence"],["appearance","outline",1,"full-width","w-100"],["matInput","","required","","maxlength","60","formControlName","Comment"],["appearance","outline","formControlName","print"],["value","Y"],["value","N"],["matInput","","formControlName","Form"],["matInput","","formControlName","Type"],["mat-raised-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),e._uU(4," Order Comments Maintenance"),e.qZA()(),e.TgZ(5,"button",2),e.NdJ("click",function(){return o.closeDialog()}),e.TgZ(6,"mat-icon",3),e._uU(7,"close"),e.qZA()()(),e.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),e._uU(14," Bill Number "),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"mat-form-field",8)(17,"mat-label"),e._uU(18," Sequence"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"mat-form-field",11)(21,"mat-label"),e._uU(22,"Comment :"),e.qZA(),e.TgZ(23,"textarea",12),e._uU(24," "),e.qZA(),e.TgZ(25,"mat-hint"),e._uU(26," Only "),e.TgZ(27,"strong"),e._uU(28,"60 characters "),e.qZA(),e._uU(29," are allowed"),e.qZA()(),e.TgZ(30,"mat-form-field",8)(31,"mat-label"),e._uU(32,"Print "),e.qZA(),e.TgZ(33,"mat-select",13)(34,"mat-option",14),e._uU(35,"Yes"),e.qZA(),e.TgZ(36,"mat-option",15),e._uU(37,"No"),e.qZA()()(),e.TgZ(38,"mat-form-field",8)(39,"mat-label"),e._uU(40," Form"),e.qZA(),e._UZ(41,"input",16),e.qZA(),e.TgZ(42,"mat-form-field",8)(43,"mat-label"),e._uU(44," Type"),e.qZA(),e._UZ(45,"input",17),e.qZA()()(),e.TgZ(46,"button",18),e.NdJ("click",function(){return o.addComment()}),e._uU(47," Create "),e.qZA()()()()),2&t&&(e.xp6(9),e.Q6J("formGroup",o.form),e.xp6(37),e.Q6J("disabled",!(o.form.valid&&o.form.dirty)))},dependencies:[C.m,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,r.sg,r.u,v.Hw,b.lW,c.KE,c.bx,c.hX,_.Nt,T.gD,y.ey,s.a8,s.dk,s.dn,s.n5]}),a})(),q=(()=>{class a{constructor(t,o,n,l,d,h){this.orderService=t,this.anyvariable=o,this.fb=n,this.router=l,this.matDialog=d,this.dialogRef=h,this.user=localStorage.getItem("userName")}ngOnInit(){console.log(this.anyvariable),this.form=this.fb.group({bill:this.anyvariable[0].OCBILL,sequence:0,Comment:[this.anyvariable[0].OCCMNT,r.kI.maxLength(60)],print:"NP"===this.anyvariable[0].OCSTAT?"N":"Y",Form:this.anyvariable[0].OCSGID,Type:this.anyvariable[0].OCQUAL})}closeDialog(){this.dialogRef.close()}editComment(){var t=this.form.value;console.log(t),this.result=this.orderService.updateOrderCommentService(t.bill,t.sequence,this.anyvariable[0].OCSEQ,t.Comment,t.print,t.Form,t.Type).subscribe(o=>{this.result=o;var l=this.result[0].data[this.result[0].data.length-1].value;"Updated Successfully"===l?(this.successMessage(l),this.closeDialog(),this.router.navigateByUrl("/main-nav/orders/Comments",{state:this.anyvariable[1]})):this.failureMessage(l)})}successMessage(t){f().fire(t,"","success")}failureMessage(t){f().fire(t,"","error")}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(g.p),e.Y36(p.WI),e.Y36(r.qu),e.Y36(Z.F0),e.Y36(p.uw),e.Y36(p.so))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-order-comment-update"]],standalone:!0,features:[e.jDz],decls:48,vars:2,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["readonly","","matInput","","formControlName","bill"],["readonly","","matInput","","formControlName","sequence"],["appearance","outline",1,"full-width","w-100"],["matInput","","required","","maxlength","60","formControlName","Comment"],["appearance","outline","formControlName","print"],["value","Y"],["value","N"],["matInput","","formControlName","Form"],["matInput","","formControlName","Type"],["mat-raised-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),e._uU(4," Order Comments Maintenance"),e.qZA()(),e.TgZ(5,"button",2),e.NdJ("click",function(){return o.closeDialog()}),e.TgZ(6,"mat-icon",3),e._uU(7,"close"),e.qZA()()(),e.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),e._uU(14," Bill Number "),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"mat-form-field",8)(17,"mat-label"),e._uU(18," Sequence"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"mat-form-field",11)(21,"mat-label"),e._uU(22,"Comment :"),e.qZA(),e.TgZ(23,"textarea",12),e._uU(24," "),e.qZA(),e.TgZ(25,"mat-hint"),e._uU(26," Only "),e.TgZ(27,"strong"),e._uU(28,"60 characters "),e.qZA(),e._uU(29," are allowed"),e.qZA()(),e.TgZ(30,"mat-form-field",8)(31,"mat-label"),e._uU(32,"Print "),e.qZA(),e.TgZ(33,"mat-select",13)(34,"mat-option",14),e._uU(35,"Yes"),e.qZA(),e.TgZ(36,"mat-option",15),e._uU(37,"No"),e.qZA()()(),e.TgZ(38,"mat-form-field",8)(39,"mat-label"),e._uU(40," Form"),e.qZA(),e._UZ(41,"input",16),e.qZA(),e.TgZ(42,"mat-form-field",8)(43,"mat-label"),e._uU(44," Type"),e.qZA(),e._UZ(45,"input",17),e.qZA()()(),e.TgZ(46,"button",18),e.NdJ("click",function(){return o.editComment()}),e._uU(47," Update "),e.qZA()()()()),2&t&&(e.xp6(9),e.Q6J("formGroup",o.form),e.xp6(37),e.Q6J("disabled",!(o.form.valid&&o.form.dirty)))},dependencies:[C.m,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,r.sg,r.u,v.Hw,b.lW,c.KE,c.bx,c.hX,_.Nt,T.gD,y.ey,s.a8,s.dk,s.dn,s.n5]}),a})(),N=(()=>{class a{constructor(t,o,n,l,d,h){this.orderService=t,this.anyvariable=o,this.fb=n,this.router=l,this.matDialog=d,this.dialogRef=h,this.user=localStorage.getItem("userName")}ngOnInit(){console.log(this.anyvariable),this.form=this.fb.group({bill:this.anyvariable[0].OCBILL,sequence:0,Comment:[this.anyvariable[0].OCCMNT,r.kI.maxLength(60)],print:"NP"===this.anyvariable[0].OCSTAT?"N":"Y",Form:this.anyvariable[0].OCSGID,Type:this.anyvariable[0].OCQUAL})}closeDialog(){this.dialogRef.close()}deleteComment(){var t=this.form.value;console.log(t),this.result=this.orderService.updateOrderCommentService(this.anyvariable[0].OCBILL,0,this.anyvariable[0].OCSEQ,"",t.print,t.Form,t.Type).subscribe(o=>{this.result=o;const l=this.result[0].data[this.result[0].data.length-1].value;"Updated Successfully"===l?(this.successMessage("Deleted Successfully"),this.closeDialog(),this.router.navigateByUrl("/main-nav/orders/Comments",{state:this.anyvariable[1]})):this.failureMessage(l)})}successMessage(t){f().fire(t,"","success")}failureMessage(t){f().fire(t,"","error")}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(g.p),e.Y36(p.WI),e.Y36(r.qu),e.Y36(Z.F0),e.Y36(p.uw),e.Y36(p.so))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-order-comment-delete"]],standalone:!0,features:[e.jDz],decls:48,vars:1,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["readonly","","matInput","","formControlName","bill"],["readonly","","matInput","","formControlName","sequence"],["appearance","outline",1,"full-width","w-100"],["matInput","","required","","maxlength","60","formControlName","Comment"],["appearance","outline","formControlName","print"],["value","Y"],["value","N"],["matInput","","formControlName","Form"],["matInput","","formControlName","Type"],["mat-raised-button","",1,"buttons","addButton",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),e._uU(4," Order Comments Maintenance"),e.qZA()(),e.TgZ(5,"button",2),e.NdJ("click",function(){return o.closeDialog()}),e.TgZ(6,"mat-icon",3),e._uU(7,"close"),e.qZA()()(),e.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),e._uU(14," Bill Number "),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"mat-form-field",8)(17,"mat-label"),e._uU(18," Sequence"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"mat-form-field",11)(21,"mat-label"),e._uU(22,"Comment :"),e.qZA(),e.TgZ(23,"textarea",12),e._uU(24," "),e.qZA(),e.TgZ(25,"mat-hint"),e._uU(26," Only "),e.TgZ(27,"strong"),e._uU(28,"60 characters "),e.qZA(),e._uU(29," are allowed"),e.qZA()(),e.TgZ(30,"mat-form-field",8)(31,"mat-label"),e._uU(32,"Print "),e.qZA(),e.TgZ(33,"mat-select",13)(34,"mat-option",14),e._uU(35,"Yes"),e.qZA(),e.TgZ(36,"mat-option",15),e._uU(37,"No"),e.qZA()()(),e.TgZ(38,"mat-form-field",8)(39,"mat-label"),e._uU(40," Form"),e.qZA(),e._UZ(41,"input",16),e.qZA(),e.TgZ(42,"mat-form-field",8)(43,"mat-label"),e._uU(44," Type"),e.qZA(),e._UZ(45,"input",17),e.qZA()()(),e.TgZ(46,"button",18),e.NdJ("click",function(){return o.deleteComment()}),e._uU(47," Delete "),e.qZA()()()()),2&t&&(e.xp6(9),e.Q6J("formGroup",o.form))},dependencies:[C.m,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,r.sg,r.u,v.Hw,b.lW,c.KE,c.bx,c.hX,_.Nt,T.gD,y.ey,s.a8,s.dk,s.dn,s.n5]}),a})();var D=i(15627),w=i(98739);const Y=["paginator"];function S(a,m){1&a&&(e.TgZ(0,"th",24),e._uU(1,"Comments"),e.qZA())}function F(a,m){if(1&a&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&a){const t=m.$implicit;e.xp6(1),e.Oqu(t.OCCMNT)}}function I(a,m){1&a&&(e.TgZ(0,"th",24),e._uU(1,"Print"),e.qZA())}function x(a,m){if(1&a&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&a){const t=m.$implicit;e.xp6(1),e.hij(" ","NP"===t.OCSTAT?"N":"Y"," ")}}function k(a,m){1&a&&(e.TgZ(0,"th",24),e._uU(1,"Form"),e.qZA())}function J(a,m){if(1&a&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&a){const t=m.$implicit;e.xp6(1),e.Oqu(t.OCSGID)}}function B(a,m){1&a&&(e.TgZ(0,"th",24),e._uU(1,"Type"),e.qZA())}function M(a,m){if(1&a&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&a){const t=m.$implicit;e.xp6(1),e.Oqu(t.OCQUAL)}}function Q(a,m){1&a&&e._UZ(0,"th",26)}function L(a,m){if(1&a){const t=e.EpF();e.TgZ(0,"td",25)(1,"div",27)(2,"button",28)(3,"mat-icon"),e._uU(4,"more_vert"),e.qZA()(),e.TgZ(5,"ul",29)(6,"li")(7,"button",30),e.NdJ("click",function(){const l=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.updateOrderComment(l))}),e.TgZ(8,"mat-icon",31),e._uU(9,"edit"),e.qZA(),e.TgZ(10,"mat-label"),e._uU(11,"Edit"),e.qZA()()(),e.TgZ(12,"li")(13,"button",32),e.NdJ("click",function(){const l=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.DeleteOrderComment(l))}),e.TgZ(14,"mat-icon",33),e._uU(15,"delete"),e.qZA(),e.TgZ(16,"mat-label"),e._uU(17,"Delete"),e.qZA()()()()()()}}function H(a,m){1&a&&e._UZ(0,"tr",34)}function G(a,m){1&a&&e._UZ(0,"tr",35)}const R=function(){return[8,16,24]};let X=(()=>{class a{constructor(t,o,n,l,d){this.iHeaderSvc=t,this.orderService=o,this.fb=n,this.router=l,this.matDialog=d,this.displayedColumns=["Comments","Print","Form","Type","Actions"],this.user=localStorage.getItem("userName")}ngOnInit(){this.element=history.state,console.log(this.element),console.log(this.element.OHBILL),this.bol=this.element.OHBILL,this.seq=0,this.form=this.fb.group({}),this.readOrderComments()}readOrderComments(){this.orderService.readOrderCommentService(this.user,this.bol,this.seq).subscribe(t=>{this.result=t;var o=this.result[0].data[1]?.value,n=JSON.parse(o);this.duplicateSource=n.returnedData,console.log("Order Comments Data : "),console.log(this.duplicateSource),this.dataSource=new u.by(this.duplicateSource),this.dataSource.paginator=this.paginator})}onBack(){this.router.navigateByUrl("/main-nav/orders/read",{})}createOrderComment(){var t=history.state;console.log(t),this.matDialog.open(A,{width:"1000px",maxHeight:"80vh",data:t,autoFocus:!1})}updateOrderComment(t){var o=t,l=[o,history.state];console.log(o),console.log(history.state),console.log(o),this.matDialog.open(q,{width:"1000px",maxHeight:"80vh",data:l,autoFocus:!1})}DeleteOrderComment(t){var o=t,l=[o,history.state];console.log(o),console.log(history.state),console.log(o),this.matDialog.open(N,{width:"1000px",maxHeight:"80vh",data:l,autoFocus:!1})}rowClick(t){this.selectedRow=t}successMessage(t){f().fire(t,"","success"),this.router.navigate(["/main-nav/orders/read"])}failureMessage(t){f().fire(t,"","error")}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(D.X),e.Y36(g.p),e.Y36(r.qu),e.Y36(Z.F0),e.Y36(p.uw))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-order-comments"]],viewQuery:function(t,o){if(1&t&&e.Gf(Y,5),2&t){let n;e.iGM(n=e.CRH())&&(o.paginator=n.first)}},standalone:!0,features:[e.jDz],decls:45,vars:8,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"buttons"],["mat-button","",1,"addButton",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["readonly","","matInput","",3,"value"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Comments"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Print"],["matColumnDef","Form"],["matColumnDef","Type"],["matColumnDef","Actions"],["mat-header-cell","","width","20%",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"pageSizeOptions"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","width","20%"],[1,"dropdown","more_options_btn"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],["mat-button","",3,"click"],["mat-icon-button","","color","warn"],["mat-header-row",""],["mat-row",""]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),e.NdJ("click",function(){return o.onBack()}),e.TgZ(4,"mat-icon"),e._uU(5,"navigate_before "),e.qZA()(),e._uU(6," Order Comments"),e.qZA(),e.TgZ(7,"div",3)(8,"button",4),e.NdJ("click",function(){return o.createOrderComment()}),e.TgZ(9,"mat-icon"),e._uU(10,"add"),e.qZA(),e.TgZ(11,"span"),e._uU(12,"New Order Comment"),e.qZA()()()(),e.TgZ(13,"mat-card-content",5)(14,"form",6)(15,"div",7)(16,"div",8)(17,"mat-form-field",9)(18,"mat-label"),e._uU(19," BOL: "),e.qZA(),e._UZ(20,"input",10),e.qZA(),e.TgZ(21,"mat-form-field",9)(22,"mat-label"),e._uU(23," Sequence: "),e.qZA(),e._UZ(24,"input",10),e.qZA()()()()(),e.TgZ(25,"table",11),e.ynx(26,12),e.YNc(27,S,2,0,"th",13),e.YNc(28,F,2,1,"td",14),e.BQk(),e.ynx(29,15),e.YNc(30,I,2,0,"th",13),e.YNc(31,x,2,1,"td",14),e.BQk(),e.ynx(32,16),e.YNc(33,k,2,0,"th",13),e.YNc(34,J,2,1,"td",14),e.BQk(),e.ynx(35,17),e.YNc(36,B,2,0,"th",13),e.YNc(37,M,2,1,"td",14),e.BQk(),e.ynx(38,18),e.YNc(39,Q,1,0,"th",19),e.YNc(40,L,18,0,"td",14),e.BQk(),e.YNc(41,H,1,0,"tr",20),e.YNc(42,G,1,0,"tr",21),e.qZA(),e._UZ(43,"mat-paginator",22,23),e.qZA()),2&t&&(e.xp6(14),e.Q6J("formGroup",o.form),e.xp6(6),e.s9C("value",o.bol),e.xp6(4),e.s9C("value",o.seq),e.xp6(1),e.Q6J("dataSource",o.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(7,R)))},dependencies:[C.m,r._Y,r.JL,r.sg,w.NW,v.Hw,b.lW,c.KE,c.hX,_.Nt,s.a8,s.dk,s.dn,s.n5,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk]}),a})()}}]);