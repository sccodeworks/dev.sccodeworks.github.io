"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[8438],{8438:(M,_,a)=>{a.r(_),a.d(_,{StagePutComponent:()=>D});var r=a(24006),c=a(35226),s=a.n(c),d=a(70879),t=a(94650),g=a(19132),p=a(65925),f=a(36895),h=a(97392),Z=a(4859),m=a(59549),T=a(44144),U=a(84385),b=a(3238),i=a(73546);function E(o,u){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Item is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function v(o,u){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Quantity is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function C(o,u){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Lot1 is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function A(o,u){if(1&o&&(t.TgZ(0,"div")(1,"mat-form-field",7)(2,"mat-label"),t._uU(3,"Lot1"),t.qZA(),t._UZ(4,"input",18),t.YNc(5,C,4,0,"mat-error",10),t.qZA(),t.TgZ(6,"mat-form-field",7)(7,"mat-label"),t._uU(8,"Lot2"),t.qZA(),t._UZ(9,"input",19),t.qZA(),t.TgZ(10,"mat-form-field",7)(11,"mat-label"),t._uU(12,"Lot3"),t.qZA(),t._UZ(13,"input",20),t.qZA(),t.TgZ(14,"mat-form-field",7)(15,"mat-label"),t._uU(16,"Lot Unit Weight"),t.qZA(),t._UZ(17,"input",21),t.qZA()()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.form.controls.lot1.hasError("required"))}}function I(o,u){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Location is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function P(o,u){if(1&o&&(t.TgZ(0,"div")(1,"mat-form-field",7)(2,"mat-label"),t._uU(3,"Location"),t.qZA(),t._UZ(4,"input",22),t.YNc(5,I,4,0,"mat-error",10),t.qZA()()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.form.controls.location.hasError("required"))}}function y(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.getCount2())}),t._uU(1," Next "),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",!e.form.valid)}}function L(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.onSubmit())}),t._uU(1," Submit "),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",!e.form.valid)}}let D=(()=>{class o{constructor(e,n,l){this.fb=e,this.router=n,this.iStepSvc=l,this.error="",this.result=[],this.count=0,this.update=!1,this.user=localStorage.getItem("userName"),this.tallyUrl="/main-nav/tallys/read"}ngOnInit(){this.element=history.state,this.form=this.fb.group({tallyNumber:this.element.IHTALY,item:[null,r.kI.required],Quantity:[null,r.kI.required],InventoryType:[null,r.kI.required],lot1:"",lot2:"",lot3:"",location:"",LotUnitWeight:["",r.kI.pattern("[0-9]{1,7}(.[0-9]{1,2})?")]})}successMessage(e){s().fire(e,"","success"),this.reloadCurrentRoute()}FailureMessage(e){s().fire(e,"","error")}reloadCurrentRoute(){let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}getCount2(){this.count++}onSubmit(){this.error="";var e=this.form.value;console.log(e.LotUnitWeight),e.location=e.location?.toUpperCase(),e.lot1=null!=e.lot1?e.lot1:"",e.lot2=null!=e.lot2?e.lot2:"",e.lot3=null!=e.lot3?e.lot3:"",this.result=this.iStepSvc.getData(this.element.IHTALY,e.item,e.lot1,e.lot2,e.lot3,e.LotUnitWeight,e.Quantity,e.location,e.InventoryType,this.user).subscribe(n=>{this.result=n;const l=this.result[0].data[this.result[0].data.length-1].value;"Lot Not Valid."===l?this.update=!0:"Record Created/Updated Successfully"===l?(this.successMessage(l),this.router.navigate([this.tallyUrl])):this.FailureMessage(l)})}onBack(){this.router.navigate([this.tallyUrl])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.qu),t.Y36(g.F0),t.Y36(p.p))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-stage-put"]],standalone:!0,features:[t.jDz],decls:40,vars:7,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],["novalidate","",1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Tally Number","formControlName","tallyNumber","readonly",""],["matInput","","placeholder","Item","formControlName","item"],[4,"ngIf"],["matInput","","placeholder","Quantity","formControlName","Quantity"],["formControlName","InventoryType"],["value","A"],["value","D"],["value","H"],["class","buttons addButton","type","submit","mat-raised-button","","type","submit",3,"disabled","click",4,"ngIf"],["class","buttons addButton","type","submit","mat-raised-button","","mat-button","","type","submit",3,"disabled","click",4,"ngIf"],["required","","matInput","","placeholder","Lot1","formControlName","lot1"],["matInput","","placeholder","Lot2","formControlName","lot2"],["matInput","","placeholder","Lot3","formControlName","lot3"],["matInput","","placeholder","LotUnitWeight","formControlName","LotUnitWeight"],["matInput","","placeholder","Location","formControlName","location","required",""],["type","submit","mat-raised-button","","type","submit",1,"buttons","addButton",3,"disabled","click"],["type","submit","mat-raised-button","","mat-button","","type","submit",1,"buttons","addButton",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return n.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6," Inbound Stage/Putaway"),t.qZA()(),t.TgZ(7,"mat-card-content",3)(8,"form",4)(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),t._uU(13,"Tally Number"),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"mat-form-field",7)(16,"mat-label"),t._uU(17,"Item"),t.qZA(),t._UZ(18,"input",9),t.YNc(19,E,4,0,"mat-error",10),t.qZA(),t.TgZ(20,"mat-form-field",7)(21,"mat-label"),t._uU(22,"Quantity"),t.qZA(),t._UZ(23,"input",11),t.YNc(24,v,4,0,"mat-error",10),t.qZA(),t.TgZ(25,"mat-form-field",7)(26,"mat-label"),t._uU(27,"Type "),t.qZA(),t.TgZ(28,"mat-select",12)(29,"mat-option",13),t._uU(30,"A - Available "),t.qZA(),t.TgZ(31,"mat-option",14),t._uU(32,"D - Damaged "),t.qZA(),t.TgZ(33,"mat-option",15),t._uU(34,"H - Held "),t.qZA()()(),t.YNc(35,A,18,1,"div",10),t.YNc(36,P,6,1,"div",10),t.qZA(),t.TgZ(37,"mat-card-actions"),t.YNc(38,y,2,1,"button",16),t.YNc(39,L,2,1,"button",17),t.qZA()()()()()),2&e&&(t.xp6(8),t.Q6J("formGroup",n.form),t.xp6(11),t.Q6J("ngIf",n.form.controls.item.hasError("required")),t.xp6(5),t.Q6J("ngIf",n.form.controls.Quantity.hasError("required")),t.xp6(11),t.Q6J("ngIf",n.update),t.xp6(1),t.Q6J("ngIf",1==n.count),t.xp6(2),t.Q6J("ngIf",0==n.count),t.xp6(1),t.Q6J("ngIf",1==n.count))},dependencies:[d.m,f.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,h.Hw,Z.lW,m.TO,m.KE,m.hX,T.Nt,U.gD,b.ey,i.a8,i.dk,i.dn,i.n5,i.hq]}),o})()}}]);