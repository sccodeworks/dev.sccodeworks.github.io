"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[52889,11790,38754,85645,62313],{11790:(Y,J,u)=>{u.d(J,{y:()=>M});var W=u(65412),c=u(94650),a=u(97392),f=u(4859);let X=(()=>{class y{constructor(v,O){this.dialogRef=v,this.data=O}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return y.\u0275fac=function(v){return new(v||y)(c.Y36(W.so),c.Y36(W.WI))},y.\u0275cmp=c.Xpm({type:y,selectors:[["app-alert-dialog"]],decls:10,vars:3,consts:[[1,"confirm-dialog-container"],[1,"content-container"],["id","close-icon",3,"click"],[1,"content-span","full-width"],["mat-flat-button","","id","no-button",3,"mat-dialog-close"],["mat-flat-button","","id","yes-button",3,"mat-dialog-close"]],template:function(v,O){1&v&&(c.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),c.NdJ("click",function(){return O.closeDialog()}),c._uU(3,"close "),c.qZA(),c.TgZ(4,"span",3),c._uU(5),c.qZA()(),c.TgZ(6,"button",4),c._uU(7,"Cancel"),c.qZA(),c.TgZ(8,"button",5),c._uU(9,"Delete"),c.qZA()()),2&v&&(c.xp6(5),c.Oqu(O.data.message),c.xp6(1),c.Q6J("mat-dialog-close",!1),c.xp6(2),c.Q6J("mat-dialog-close",!0))},dependencies:[a.Hw,f.lW,W.ZT]}),y})(),M=(()=>{class y{constructor(v){this.dialog=v}openCustomAlert(v){return this.dialog.open(X,{width:"450px",panelClass:"confirm-dialog-container",disableClose:!0,data:{message:v}})}}return y.\u0275fac=function(v){return new(v||y)(c.LFG(W.uw))},y.\u0275prov=c.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},10573:(Y,J,u)=>{u.d(J,{a:()=>D});var W=u(80529),c=u(61135),a=u(75625),f=u(70262),X=u(62843),M=u(92340),y=u(94650);let D=(()=>{class v{constructor(t){this.httpClient=t,this.itemDataSource=new c.X([]),this.url=M.N.API_BASE_URL,this.httpHeader={headers:new W.WM({"Content-Type":"application/json"})}}getItemAll(t){return this.httpClient.get(`${this.url}/item/read?user=${t}`)}updateItemDataSource(t){let e=this.itemDataSource.getValue();e.unshift(t),this.itemDataSource.next(e)}getAll(t){return this.httpClient.get(`${this.url}/consignee/readAll?user=${t}`)}getItemTally(t,e,r,s){return this.httpClient.get(`${this.url}/item/read/tally?user=${t}&storer=${e}&suffix=${r}&item=${s}`)}ItemTallyWorkWith(t,e,r,s){return this.httpClient.get(`${this.url}/item/tallyWorkWith?user=${t}&storer=${e}&suffix=${r}&item=${s}`)}getItemAdjustmentBySearch(t,e,r,s,n,l,m,b,g,C,h,A,$,T){return this.httpClient.get(`${this.url}/itemAdjustment/readBySearch?user=${t}&storer=${e}&item=${r}&type=${s}&lot1=${n}&lot2=${l}&lot3=${m}&building=${b}&floor=${g}&aisle=${C}&slot=${h}&year=${A}&month=${$}&date=${T}`)}activeSearch(t,e,r,s,n,l,m,b){return this.httpClient.get(`${this.url}/item/activeSearch?user=${t}&onlyActive=${e}&storer=${r}&suffix=${s}&item=${n}&description=${l}&product=${m}&type=${b}`)}getItemBySearch(t,e,r,s,n){return this.httpClient.get(`${this.url}/item/readBySearch?user=${t}&storer=${e}&suffix=${r}&item=${s}&description=${n}`)}getItemForTally(t,e,r,s,n,l,m){return this.httpClient.get(`${this.url}/item/read/new?user=${t}&storer=${e}&suffix=${r}&item=${s}&description=${n}&pageNum=${l}&recordsPerPage=${m}`)}getItemAdjustment(t,e){return this.httpClient.get(`${this.url}/itemAdjustment/read?user=${t}&storer=${e}`)}getItemAdjustmentInquiry(t,e,r=null,s=null,n=null,l=null,m=null,b=null,g=null,C=null,h=null,A=null){return this.httpClient.get(`${this.url}/itemAdjustment/itemAdjInquiryRead?user=${t}&transaction=${e}`)}itemCreate1(t,e,r,s,n,l,m,b,g,C,h,A,$,T){return this.httpClient.post(`${this.url}/item/create1`,{storeNumber:t,suffix:e,item:r,itemDescription1:s,itemDescription2:n,itemUpcCode:l,itemUpcTailCode:m,manufacturerProdCode:b,quickItem:g,lottedItem:C,lotUnitWeight:h,lotSortMask:A,primSortMaskPointer:$,prevItem:T}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}itemCreate2(t,e,r,s,n,l,m,b,g,C,h,A,$,T,_,w,Z,U,E,R,x){return this.httpClient.put(`${this.url}/item/create2`,{storeNumber:t,suffix:e,item:r,unitGrossWeight:s,unitWeightType:n,casesPerTier:l,tiersPerPallet:m,unitSquareFeet:b,unitCubeFeet:g,unitInchesHigh:C,unitInchesWide:h,unitInchesDeep:A,unitOfMeasure1:$,unitOfMeasure2:T,qtyPer2UnitOfMultiplier:_,unitOfMeasure3:w,qtyPer3UnitOfMultiplier:Z,unitOfMeasure4:U,qtyPer4UnitOfMultiplier:E,inventoryUnit:R,shippingUnit:x}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}itemCreate3(t,e,r,s,n,l,m,b,g,C,h,A,$,T,_,w,Z){return this.httpClient.put(`${this.url}/item/create3`,{storeNumber:t,suffix:e,item:r,domesticSurface:s,domesticAir:n,internationalSurface:l,internationalAir:m,matHandlingCode1:b,matHandlingCode2:g,matHandlingCode3:C,warehouseZone:h,bmtCode:A,palletsHigh:$,palletsDeep:T,lowStockPoint:_,prefferedLocation:w,pickLine:Z}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}itemCreate4(t,e,r,s,n,l,m,b,g,C,h,A,$,T,_,w,Z,U,E){return this.httpClient.put(`${this.url}/item/create4`,{storeNumber:t,suffix:e,item:r,rcvStageRate:s,rcvStageBase:n,rcvStorageMin:l,rcrStorageRate:m,rcrStorageBase:b,rcrStorageMin:g,regHandlingRate:C,regHandlingBase:h,regHandlingMin:A,distHandlingRate:$,distHandlingBase:T,distHandlingMin:_,altHandlingRate:w,altHandlingBase:Z,altHandlingMin:U,insLiabilityAmount:E}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}itemCreate5(t){return this.httpClient.put(`${this.url}/item/create5`,t).pipe((0,a.X)(1),(0,f.K)(this.httpError))}itemServiceUpdate1(t,e,r,s,n,l,m,b,g,C,h,A,$,T){return this.httpClient.put(`${this.url}/item/update1`,{storeNumber:t,suffix:e,item:r,itemDescription1:s,itemDescription2:n,itemUpcCode:l,itemUpcTailCode:m,manufacturerProdCode:b,quickItem:g,lottedItem:C,lotUnitWeight:h,lotSortMask:A,primSortMaskPointer:$,prevItem:T}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}itemServiceUpdate2(t,e,r,s,n,l,m,b,g,C,h,A,$,T,_,w,Z,U,E,R,x){return this.httpClient.put(`${this.url}/item/update2`,{storeNumber:t,suffix:e,item:r,unitGrossWeight:s,unitWeightType:n,casesPerTier:l,tiersPerPallet:m,unitSquareFeet:b,unitCubeFeet:g,unitInchesHigh:C,unitInchesWide:h,unitInchesDeep:A,unitOfMeasure1:$,unitOfMeasure2:T,qtyPer2UnitOfMultiplier:_,unitOfMeasure3:w,qtyPer3UnitOfMultiplier:Z,unitOfMeasure4:U,qtyPer4UnitOfMultiplier:E,inventoryUnit:R,shippingUnit:x}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}itemServiceUpdate3(t,e,r,s,n,l,m,b,g,C,h,A,$,T,_,w,Z){return this.httpClient.put(`${this.url}/item/update3`,{storeNumber:t,suffix:e,item:r,domesticSurface:s,domesticAir:n,internationalSurface:l,internationalAir:m,matHandlingCode1:b,matHandlingCode2:g,matHandlingCode3:C,warehouseZone:h,bmtCode:A,palletsHigh:$,palletsDeep:T,lowStockPoint:_,prefferedLocation:w,PickLine:Z}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}itemServiceUpdate4(t,e,r,s,n,l,m,b,g,C,h,A,$,T,_,w,Z,U,E){return this.httpClient.put(`${this.url}/item/update4`,{storeNumber:t,suffix:e,item:r,rcvStageRate:s,rcvStageBase:n,rcvStorageMin:l,rcrStorageRate:m,rcrStorageBase:b,rcrStorageMin:g,regHandlingRate:C,regHandlingBase:h,regHandlingMin:A,distHandlingRate:$,distHandlingBase:T,distHandlingMin:_,altHandlingRate:w,altHandlingBase:Z,altHandlingMin:U,insLiabilityAmount:E}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}itemServiceUpdate5(t){return this.httpClient.put(`${this.url}/item/update5`,t).pipe((0,a.X)(1),(0,f.K)(this.httpError))}getImageByItemCode(t){return this.httpClient.get(`${this.url}/item/image/${t}`,{responseType:"blob"})}deleteItem(t,e,r){return this.httpClient.delete(`${this.url}/item/delete?storeNumber=${t}&suffix=${e}&item=${r}`)}itemRebalanceService(t,e,r){return this.httpClient.put(this.url+"/item/itemRebalance",{storer:t,suffix:e,item:r}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}getItemXRef(t,e,r,s){return this.httpClient.get(`${this.url}/itemXreference/read?user=${t}&storer=${e}&suffix=${r}&itemCode=${s}`)}createItemXref(t,e,r,s,n,l,m){return this.httpClient.post(this.url+"/itemXreference/create",{user:t,acdl:e,storer:r,suffix:s,itemXcode:n,itemCode:l,itemXupc:m}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}updateItemXref(t,e,r,s,n,l,m){return this.httpClient.put(this.url+"/itemXreference/update",{user:t,acdl:e,storer:r,suffix:s,itemXcode:n,itemCode:l,itemXupc:m}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}deleteItemXref(t,e,r,s){return this.httpClient.delete(`${this.url}/itemXreference/delete?user=${t}&storer=${e}&suffix=${r}&itemCode=${s}`)}readItemLotService(t,e,r,s,n,l,m){return this.httpClient.get(`${this.url}/item/readItemLots?user=${t}&storer=${e}&suffix=${r}&item=${s}&lot1=${n}&lot2=${l}&lot3=${m}`)}updateItemLotsService(t,e,r,s,n,l,m,b,g,C,h){return this.httpClient.put(`${this.url}/item/updateItemLots`,{user:t,storer:e,suffix:r,item:s,lot1:n,lot2:l,lot3:m,lotUnitWeight:b,lotFirstRecieved:g,lotLastShipped:C,status:h}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}setLastUsed(t,e,r,s,n,l){return this.httpClient.put(this.url+"/item/setLastUsed",{storer:t,suffix:e,item:r,lot1:s,lot2:n,lot3:l}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}deleteItemLotsService(t,e,r,s,n,l,m){return this.httpClient.delete(`${this.url}/item/deleteItemLots?user=${t}&storer=${e}&suffix=${r}&item=${s}&lot1=${n}&lot2=${l}&lot3=${m}`)}deleteItemAdjustment(t){return this.httpClient.delete(`${this.url}/itemAdjustment/delete?TransacNum=${t}`)}readItemCommentService(t,e,r,s){return this.httpClient.get(`${this.url}/item/comments/read?user=${t}&storerAndItem=${e}&subType=${r}&sequence=${s}`).pipe((0,a.X)(1),(0,f.K)(this.httpError))}createItemCommentService(t,e,r,s,n){return this.httpClient.post(`${this.url}/item/comments/create`,{storerAndItem:t,subType:e,sequence:r,comment:s,user:n}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}updateItemCommentService(t,e,r,s,n){return this.httpClient.put(`${this.url}/item/comments/update`,{storerAndItem:t,subType:e,sequence:r,comment:s,user:n}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}deleteItemCommentService(t,e,r,s){return this.httpClient.delete(`${this.url}/item/comments/delete?user=${t}&storerAndItem=${e}&subType=${r}&sequence=${s}`).pipe((0,a.X)(1),(0,f.K)(this.httpError))}itemStockActivityReadService(t,e,r,s){return this.httpClient.get(`${this.url}/item/stockActivity?user=${t}&storer=${e}&suffix=${r}&item=${s}`)}itemOrdersReadService(t,e,r,s,n){return this.httpClient.get(`${this.url}/item/itemOrders?user=${t}&storer=${e}&suffix=${r}&item=${s}&status=${n}`)}readItemTallyInquiryService(t,e){return this.httpClient.get(`${this.url}/item/itemTallyInquiry?user=${t}&tally=${e}`)}readItemTallyWrInquiryService(t,e){return this.httpClient.get(`${this.url}/item/itemTallyWrInquiry?user=${t}&tally=${e}`)}BucketXRefUpdate(t,e,r,s,n,l,m,b,g,C,h){return this.httpClient.put(`${this.url}/item/BucketXRefUpdate`,{Storer:t,Suffix:e,Item:r,Lotcode1:s,Lotcode2:n,Lotcode3:l,From:m,To:b,Reason:g,Comment:C,Filename:h}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}getAllBucketError(t,e){return this.httpClient.get(`${this.url}/item/getAllBucketError?user=${t}&Filename=${e}`)}deactivateItem(t,e,r){return this.httpClient.put(this.url+"/item/deactivate",{storer:t,suffix:e,item:r}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}activateItem(t,e,r){return this.httpClient.put(this.url+"/item/activate",{storer:t,suffix:e,item:r}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}recalculateTransit(t,e,r,s){return this.httpClient.put(this.url+"/item/recalculateTransit",{storer:t,suffix:e,item:r,quantity:s}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}pickInquiry(t,e,r,s,n,l){return this.httpClient.get(`${this.url}/item/pickInquiry?user=${t}&storer=${e}&suffix=${r}&item=${s}&recordsPerPage=${n}&pageNo=${l}`)}maintainWeight(t,e,r,s,n,l,m,b,g,C,h,A,$,T,_,w,Z,U,E,R,x){return this.httpClient.put(`${this.url}/item/update2`,{storeNumber:t,suffix:e,item:r,unitGrossWeight:s,unitWeightType:n,casesPerTier:l,tiersPerPallet:m,unitSquareFeet:b,unitCubeFeet:g,unitInchesHigh:C,unitInchesWide:h,unitInchesDeep:A,unitOfMeasure1:$,unitOfMeasure2:T,qtyPer2UnitOfMultiplier:_,unitOfMeasure3:w,qtyPer3UnitOfMultiplier:Z,unitOfMeasure4:U,qtyPer4UnitOfMultiplier:E,inventoryUnit:R,shippingUnit:x}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}httpError(t){let e="";return e=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,console.log(e),(0,X._)(()=>new Error(e))}}return v.\u0275fac=function(t){return new(t||v)(y.LFG(W.eN))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},52889:(Y,J,u)=>{u.r(J),u.d(J,{WwItemAttributesComponent:()=>Q});var W=u(98739),c=u(7155),a=u(24006),f=u(65412),X=u(35226),M=u.n(X),y=u(70879),D=u(48529),v=u(86385),O=u(69501),t=u(94650),e=u(67445),r=u(10573),s=u(11240),n=u(19132),l=u(36895),m=u(97392),b=u(4859),g=u(59549),C=u(44144),h=u(73546),A=u(39505);function $(p,S){if(1&p){const i=t.EpF();t.TgZ(0,"div")(1,"mat-form-field",15)(2,"mat-label"),t._uU(3,"Storer Number"),t.qZA(),t.TgZ(4,"input",16),t.NdJ("focus",function(){t.CHM(i);const d=t.oxw();return t.KtG(d.toggleDropdown())})("change",function(d){t.CHM(i);const I=t.oxw();return t.KtG(I.onValueChange(d))}),t.qZA()()()}}function T(p,S){if(1&p){const i=t.EpF();t.TgZ(0,"div",17)(1,"app-dropdown",18),t.NdJ("selectionChange",function(d){t.CHM(i);const I=t.oxw();return t.KtG(I.onValueChange(d))}),t.qZA()()}if(2&p){const i=t.oxw();t.xp6(1),t.Q6J("options",i.storerOptions)("valueControlName",i.StorerNumberControlName)("isRequired",!0)}}let _=(()=>{class p{constructor(i,o,d,I,N,K,j){this.anyvariable=i,this.dialogRef=o,this.ItemAttributes=d,this.IitemService=I,this.iStorService=N,this.fb=K,this.router=j,this.user=localStorage.getItem("userName")||"",this.dropdownControl=new a.NI,this.update=!1,this.selectedAttribute="",this.isDropdownClicked=!1,this.showDropdown=!1,this.valueChanged=!1,this.displayOptions=[],this.itemOptions=[],this.updatedItemOptions=[],this.storerOptions=[],this.createUrl="/main-nav/item-attributes/read",this.dropdownControl.valueChanges.subscribe(H=>{this.onValueChange(H)})}ngOnInit(){this.selectedAttribute=this.anyvariable.WKSTOR,this.form=this.fb.group({IASTOR:this.selectedAttribute,IAITEM:this.anyvariable.WKITEM,IANTYP:["",a.kI.required],IANUMB:["",[a.kI.required,a.kI.maxLength(40)]]}),this.fetchStorer(),this.fetchNumberTypes(),this.fetchItems(this.anyvariable.WKSTOR),document.addEventListener("click",this.onDocumentClick.bind(this))}toggleDropdown(){this.showDropdown=!0}get StorerNumberControlName(){return this.form.controls.IASTOR}onValueChange(i){this.valueChanged=!0,this.fetchItems(i),this.showDropdown=!1}fetchNumberTypes(){this.ItemAttributes.getNumberTypes().subscribe(i=>{this.result=i;for(const o of this.result)this.displayOptions.push(o.NTNTYP)})}fetchItems(i){this.itemOptions=[],this.ItemAttributes.getItems(i).subscribe(o=>{this.result=o;for(const d of this.result)this.itemOptions.push(d.ITEM)})}updateItemOptions(i){this.ItemAttributes.getItems(i).subscribe(o=>{this.result=o;for(const d of this.result)this.updatedItemOptions.push(d.ITEM)})}fetchStorer(){this.ItemAttributes.getStorers().subscribe(i=>{this.storerOptions=i.map(o=>({value:o.STORE,description:o.STORE}))})}onDocumentClick(i){const o=i.target instanceof HTMLElement&&(i.target.closest("mat-form-field")||i.target.closest("app-dropdown")),d=i.target instanceof HTMLElement&&i.target.closest(".buttons.addButton.new-tally-form-btn");!o&&!d&&!this.valueChanged&&(this.StorerNumberControlName.setValue(this.selectedAttribute),this.showDropdown=!1),this.isDropdownClicked=!1,this.valueChanged=!1}addItemAttributes(){var i=this.form.value;this.ItemAttributes.createItemAttributes(this.user,i.IASTOR,"",i.IAITEM,i.IANTYP,i.IANUMB).subscribe(o=>{const I=JSON.parse(o[0].data[o[0].data.length-1].value).returnedData.message;I.toUpperCase()===D.R.createMsg.toUpperCase()?(this.successMessage(I),this.closeDialog(),this.router.navigateByUrl(this.createUrl,{state:this.anyvariable})):this.failureMessage(I)})}successMessage(i){M().fire(i,"","success")}failureMessage(i){M().fire(i,"","error")}closeDialog(){this.dialogRef.close()}}return p.\u0275fac=function(i){return new(i||p)(t.Y36(f.WI),t.Y36(f.so),t.Y36(e.Z),t.Y36(r.a),t.Y36(s.h),t.Y36(a.qu),t.Y36(n.F0))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-ww-item-attributes-create"]],standalone:!0,features:[t.jDz],decls:23,vars:6,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],[4,"ngIf"],["tabindex","0",4,"ngIf"],["formControlName","IAITEM","label","Item Code*","appearance","outline","required","",1,"full-width2",3,"options"],["formControlName","IANTYP","label","Number Type*","appearance","outline","required","",1,"full-width2",3,"options"],["appearance","outline",1,"full-width2"],["matInput","","formControlName","IANUMB"],["mat-raised-button","",1,"buttons","addButton",3,"disabled","click"],["appearance","outline",1,"full-width"],["required","","matInput","","formControlName","IASTOR",3,"focus","change"],["tabindex","0"],["appearance","outline","label","Storer Number","placeholder","Search or Enter Storer",3,"options","valueControlName","isRequired","selectionChange"]],template:function(i,o){1&i&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Item Attributes"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7),t.YNc(12,$,5,0,"div",8),t.YNc(13,T,2,3,"div",9),t._UZ(14,"custom-input-autocomplete",10)(15,"custom-input-autocomplete",11)(16,"br"),t.TgZ(17,"mat-form-field",12)(18,"mat-label"),t._uU(19,"Number"),t.qZA(),t._UZ(20,"input",13),t.qZA()()(),t.TgZ(21,"button",14),t.NdJ("click",function(){return o.addItemAttributes()}),t._uU(22," Add "),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("formGroup",o.form),t.xp6(3),t.Q6J("ngIf",!o.showDropdown),t.xp6(1),t.Q6J("ngIf",o.showDropdown),t.xp6(1),t.Q6J("options",o.itemOptions),t.xp6(1),t.Q6J("options",o.displayOptions),t.xp6(6),t.Q6J("disabled",!o.form.valid))},dependencies:[y.m,l.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,m.Hw,b.lW,g.KE,g.hX,C.Nt,h.a8,h.dk,h.dn,h.n5,v.j,A.L,O.J]}),p})(),w=(()=>{class p{constructor(i,o,d,I,N){this.anyvariable=i,this.dialogRef=o,this.fb=d,this.ItemAttributes=I,this.router=N,this.user=localStorage.getItem("userName")||"",this.updateUrl="/main-nav/item-attributes/read"}ngOnDestroy(){this.Subscription&&this.Subscription.unsubscribe()}ngOnInit(){this.form=this.fb.group({IASTOR:{value:this.anyvariable[0].WKSTOR,disabled:!0},IAITEM:{value:this.anyvariable[0].WKITEM,disabled:!0},IANTYP:{value:this.anyvariable[1].IANTYP,disabled:!0},IANUMB:[this.anyvariable[1].IANUMB,a.kI.maxLength(40)]})}updateItemAttributes(){var i=this.form.value;this.Subscription&&this.Subscription.unsubscribe(),this.Subscription=this.ItemAttributes.updateItemAttributes(this.user,this.anyvariable[0].WKSTOR,this.anyvariable[0].WKSSFX,this.anyvariable[0].WKITEM,this.anyvariable[1].IANTYP,i.IANUMB).subscribe(o=>{const I=JSON.parse(o[0].data[o[0].data.length-1].value).returnedData.message;I.toUpperCase()===D.R.updateMsg.toUpperCase()?(this.successMessage(I),this.closeDialog(),this.router.navigateByUrl(this.updateUrl,{state:this.anyvariable[0]})):this.failureMessage(I)})}successMessage(i){M().fire(i,"","success")}failureMessage(i){M().fire(i,"","error")}closeDialog(){this.dialogRef.close()}}return p.\u0275fac=function(i){return new(i||p)(t.Y36(f.WI),t.Y36(f.so),t.Y36(a.qu),t.Y36(e.Z),t.Y36(n.F0))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-ww-item-attributes-update"]],standalone:!0,features:[t.jDz],decls:30,vars:2,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width2"],["matInput","","formControlName","IASTOR"],["matInput","","formControlName","IAITEM"],["matInput","","formControlName","IANTYP"],["required","","matInput","","formControlName","IANUMB"],["mat-raised-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(i,o){1&i&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Item Attributes"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14," Storer "),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"Item Code"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field",8)(21,"mat-label"),t._uU(22," Number Type "),t.qZA(),t._UZ(23,"input",11),t.qZA(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26,"Number"),t.qZA(),t._UZ(27,"input",12),t.qZA()()(),t.TgZ(28,"button",13),t.NdJ("click",function(){return o.updateItemAttributes()}),t._uU(29," Update "),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("formGroup",o.form),t.xp6(19),t.Q6J("disabled",!(o.form.valid&&o.form.dirty)))},dependencies:[y.m,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,m.Hw,b.lW,g.KE,g.hX,C.Nt,h.a8,h.dk,h.dn,h.n5]}),p})();var Z=u(11790),U=u(10266);function E(p,S){1&p&&(t.TgZ(0,"th",23),t._uU(1,"Attribute"),t.qZA())}function R(p,S){if(1&p&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&p){const i=S.$implicit;t.xp6(1),t.Oqu(i.NTDESC)}}function x(p,S){1&p&&(t.TgZ(0,"th",23),t._uU(1,"Value"),t.qZA())}function B(p,S){if(1&p&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&p){const i=S.$implicit;t.xp6(1),t.Oqu(i.IANUMB)}}function L(p,S){1&p&&t._UZ(0,"th",25)}function k(p,S){if(1&p){const i=t.EpF();t.TgZ(0,"td",24)(1,"div",26)(2,"button",27)(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"ul",28)(6,"li")(7,"button",29),t.NdJ("click",function(){const I=t.CHM(i).$implicit,N=t.oxw();return t.KtG(N.update(I))}),t.TgZ(8,"mat-icon",30),t._uU(9,"edit"),t.qZA(),t.TgZ(10,"mat-label"),t._uU(11,"Edit"),t.qZA()()(),t.TgZ(12,"li")(13,"button",29),t.NdJ("click",function(){const I=t.CHM(i).$implicit,N=t.oxw();return t.KtG(N.deleteItemAttributes(I))}),t.TgZ(14,"mat-icon",31),t._uU(15,"delete"),t.qZA(),t.TgZ(16,"mat-label"),t._uU(17,"Delete"),t.qZA()()()()()()}}function F(p,S){1&p&&t._UZ(0,"tr",32)}function P(p,S){1&p&&t._UZ(0,"tr",33)}const q=function(){return[8,16,24]};let Q=(()=>{class p{constructor(i,o,d,I,N,K){this.ItemAttributes=i,this.fb=o,this.router=d,this.route=I,this.matDialog=N,this.CustomAlertService=K,this.displayedColumns=["Attribute","Value","Actions"],this.dataSource=new c.by,this.totalRecords=0,this.searchTextDisplay=!1,this.user=localStorage.getItem("userName")||"",this.pageSize=8,this.currentFilters=null,this.pageNumber=1,this.ItemBaseUrl="/main-nav/item/read"}ngOnInit(){this.element=history.state,this.form=this.fb.group({IASTOR:{value:this.element.WKSTOR,disabled:!0},IAITEM:{value:this.element.WKITEM,disabled:!0}}),this.getItemAttributes(this.pageSize,this.pageNumber)}ngOnDestroy(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe()}getItemAttributes(i,o){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe(),this.getAll2Subscription=this.ItemAttributes.getItemAttributes(this.user,this.element.WKSTOR,this.element.WKSSFX,this.element.WKITEM,i,o).subscribe(d=>{var I=JSON.parse(d[0].data[1]?.value);this.dataSource.data=I.returnedData,this.totalRecords=I.TotalRecords})}addItemAttributes(){this.matDialog.open(_,{width:"1000px",maxHeight:"80vh",autoFocus:!1,data:this.element})}update(i){this.matDialog.open(w,{width:"1000px",maxHeight:"80vh",data:[this.element,i],autoFocus:!1})}deleteItemAttributes(i){this.CustomAlertService.openCustomAlert("Are you sure want to delete this Item Code: "+i.IANTYP+"?").afterClosed().subscribe(d=>{d&&(this.getAll2Subscription&&this.getAll2Subscription.unsubscribe(),this.getAll2Subscription=this.ItemAttributes.deleteItemAttributes(this.user,this.element.WKSTOR,this.element.WKSSFX,this.element.WKITEM,i.IANTYP).subscribe(I=>{const K=JSON.parse(I[0].data[I[0].data.length-1].value).returnedData.message;K.toUpperCase()===D.R.deleteMsg.toUpperCase()?(this.successMessage(K),this.getItemAttributes()):this.failureMessage(K)}))})}successMessage(i){M().fire(i,"","success")}failureMessage(i){M().fire(i,"","error")}onBack(){this.router.navigate([this.ItemBaseUrl])}onPaginateChange(i){this.pageSize=i.pageSize,this.getItemAttributes(i.pageSize,i.pageIndex+1)}}return p.\u0275fac=function(i){return new(i||p)(t.Y36(e.Z),t.Y36(a.qu),t.Y36(n.F0),t.Y36(n.gz),t.Y36(f.uw),t.Y36(Z.y))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-ww-item-attributes"]],viewQuery:function(i,o){if(1&i&&t.Gf(W.NW,5),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first)}},standalone:!0,features:[t.jDz],decls:37,vars:8,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"buttons"],["mat-button","","matTooltip","Add New Item Attributes",1,"addButton",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","IASTOR"],["matInput","","formControlName","IAITEM"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Attribute"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Value"],["matColumnDef","Actions"],["mat-header-cell","","class","tally_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"tally_actions_sec"],[1,"dropdown","more_options_btn"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],["mat-icon-button","","color","warn"],["mat-header-row",""],["mat-row",""]],template:function(i,o){1&i&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return o.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6," Work With Item Attributes"),t.qZA(),t.TgZ(7,"div",3)(8,"button",4),t.NdJ("click",function(){return o.addItemAttributes()}),t.TgZ(9,"mat-icon"),t._uU(10,"add"),t.qZA()()()(),t.TgZ(11,"mat-card-content",5)(12,"form",6)(13,"div",7)(14,"div",8)(15,"mat-form-field",9)(16,"mat-label"),t._uU(17,"Storer"),t.qZA(),t._UZ(18,"input",10),t.qZA(),t.TgZ(19,"mat-form-field",9)(20,"mat-label"),t._uU(21,"Item"),t.qZA(),t._UZ(22,"input",11),t.qZA()()()()(),t.TgZ(23,"table",12),t.ynx(24,13),t.YNc(25,E,2,0,"th",14),t.YNc(26,R,2,1,"td",15),t.BQk(),t.ynx(27,16),t.YNc(28,x,2,0,"th",14),t.YNc(29,B,2,1,"td",15),t.BQk(),t.ynx(30,17),t.YNc(31,L,1,0,"th",18),t.YNc(32,k,18,0,"td",15),t.BQk(),t.YNc(33,F,1,0,"tr",19),t.YNc(34,P,1,0,"tr",20),t.qZA(),t.TgZ(35,"mat-paginator",21,22),t.NdJ("page",function(I){return o.onPaginateChange(I)}),t.qZA()()),2&i&&(t.xp6(12),t.Q6J("formGroup",o.form),t.xp6(11),t.Q6J("dataSource",o.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("length",o.totalRecords)("pageSizeOptions",t.DdM(7,q))("pageSize",o.pageSize))},dependencies:[y.m,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,W.NW,m.Hw,b.lW,g.KE,g.hX,C.Nt,h.a8,h.dk,h.dn,h.n5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,U.gM]}),p})()}}]);