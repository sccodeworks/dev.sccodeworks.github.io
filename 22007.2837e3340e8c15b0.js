"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[22007],{4379:(b,D,i)=>{i.d(D,{B:()=>O});var Z=i(80529),A=i(61135),h=i(75625),c=i(70262),T=i(62843),e=i(92340),p=i(94650);let O=(()=>{class g{constructor(r){this.httpClient=r,this.url=e.N.API_BASE_URL,this.consigneeDataSource=new A.X([]),this.httpHeader={headers:new Z.WM({"Content-Type":"application/json"})}}updateconsigneeDataSource(r){let n=this.consigneeDataSource.getValue();n.unshift(...r),this.consigneeDataSource.next(n)}getConsignee(r,n,a){return this.httpClient.get(this.url+`/consignee/read?user=${r}&consCode=${n}&name=${a}`)}getAll(r){return this.httpClient.get(this.url+`/consignee/readAll?user=${r}`)}getAllrecords(r,n,a){return this.httpClient.get(this.url+`/consignee/readAll?user=${r}&pageNum=${n}&recordsPerPage=${a}`)}createConsignee(r,n,a,m,_,C,E,M,d,f,t,o,l,u){return this.httpClient.post(this.url+"/consignee/create",{CONSCD:r,CONAME:n,COADD1:a,COADD2:m,COADD3:_,COADD4:C,COZIP:E,COZSFX:M,COZONE:d,COPHAR:f,COPHEX:t,COPHNU:o,CODEST:l,user:u}).pipe((0,h.X)(1),(0,c.K)(this.httpError))}updateConsignee(r,n,a,m,_,C,E,M,d,f,t,o,l,u){return this.httpClient.put(this.url+"/consignee/update",{CONSCD:r,CONAME:n,COADD1:a,COADD2:m,COADD3:_,COADD4:C,COZIP:E,COZSFX:M,COZONE:d,COPHAR:f,COPHEX:t,COPHNU:o,CODEST:l,user:u}).pipe((0,h.X)(1),(0,c.K)(this.httpError))}deleteConsignee(r,n){return this.httpClient.delete(this.url+`/consignee/delete?user=${r}&consCode=${n}`)}getConsigneeXrefService(r,n,a,m){return this.httpClient.get(this.url+`/consigneeCrossRef/read?user=${r}&consigneeCode=${n}&pageNo=${a}&recordsPerPage=${m}`)}createConsigneeXrefService(r,n,a){return this.httpClient.post(this.url+"/consigneeCrossRef/create",{consigneeCode:r,parentConsignee:n,user:a}).pipe((0,h.X)(1),(0,c.K)(this.httpError))}updateConsigneeXrefService(r,n,a){return this.httpClient.put(this.url+"/consigneeCrossRef/update",{consigneeCode:r,parentConsignee:n,user:a}).pipe((0,h.X)(1),(0,c.K)(this.httpError))}deleteConsigneeXrefService(r,n){return this.httpClient.delete(this.url+`/consigneeCrossRef/delete?user=${r}&consigneeCode=${n}`)}getConsigneeComments(r,n,a,m){return this.httpClient.get(this.url+`/consignee/commentRead?user=${r}&consigneeCode=${n}&subType=${a}&sequence=${m}`)}createConsigneeCommentService(r,n,a,m,_){return this.httpClient.post(this.url+"/consignee/commentCreate",{consigneeCode:r,subType:n,sequence:a,comment:m,user:_}).pipe((0,h.X)(1),(0,c.K)(this.httpError))}updateConsigneeCommentService(r,n,a,m,_){return this.httpClient.put(this.url+"/consignee/commentUpdate ",{consigneeCode:r,subType:n,sequence:a,comment:m,user:_}).pipe((0,h.X)(1),(0,c.K)(this.httpError))}deleteconsigneeCommentService(r,n,a,m){return this.httpClient.delete(this.url+`/consignee/commentDelete?user=${r}&consigneeCode=${n}&subType=${a}&sequence=${m}`).pipe((0,h.X)(1),(0,c.K)(this.httpError))}httpError(r){let n="";return n=r.error instanceof ErrorEvent?r.error.message:`Error Code: ${r.status}\nMessage: ${r.message}`,console.log(n),(0,T._)(()=>new Error(n))}}return g.\u0275fac=function(r){return new(r||g)(p.LFG(Z.eN))},g.\u0275prov=p.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},22007:(b,D,i)=>{i.r(D),i.d(D,{MiscShipComponent:()=>M});var Z=i(7155),A=i(70879),h=i(48529),c=i(35226),T=i.n(c),e=i(94650),p=i(24006),O=i(65412),g=i(19132),U=i(4379),r=i(65105),n=i(97392),a=i(4859),m=i(59549),_=i(44144),C=i(73546);const E=["paginator"];let M=(()=>{class d{constructor(t,o,l,u,S){this.fb=t,this.matDialog=o,this.router=l,this.consigneeSrvc=u,this.Orderservice=S,this.OrdersURL="/main-nav/orders/read",this.user=localStorage.getItem("userName"),this.dataSource=[],this.duplicateSource=[],this.ShipOptions=[]}ngOnInit(){this.element=history.state,console.log(this.element);const t=new Date,o=`${t.getMonth()+1}/${t.getDate()}/${t.getFullYear().toString().slice(-2)}`,l=t.getHours()%12||12,u=t.getMinutes().toString().padStart(2,"0"),S=`${l.toString().padStart(2,"0")}:${u}`,P=this.element.OHSTME?this.getFormattedTime(this.element.OHSTME):S,s=this.element.returnedData?.[0]||{};console.log(this.element),this.form=this.fb.group({billNumber:this.element.OHBILL,Storer:s.WKSTOR,Consignee:s.WKCONS?.trim()||"",ProNumber:this.element.OHPRO||s.OHPRO?.trim()||"",Carrier:s.OHCAR?.trim()+"\xa0"+s.WKCNAME,ShipType:this.element.OHSHPT+"\xa0"+s?.WKSDESC,ShipDate:this.element.OHACTS||o,ShipTime:P,ShipDateChgCode:s.SCCHCD?.trim()||"",LoadCode:s.SCLDCD?.trim()||"",LoadQuantity:s.SCLQTY?.toString()||"",ChepPalletsReturned:s.SCCPRT?.toString()||"",loadOrderNumber:s.SCORD?.trim()||"",MasterReferenceNumber:s.SCMREF?.trim()||"",LinkSeqNbr:s.SCLINK?.trim()||"",EquipmentNumber:s.SCEQPT?.trim()||"",Seal1:s.SCSEL1?.trim()||"",Seal2:s.SCSEL2?.trim()||"",FreightCharge:s.SCFRTC?.toFixed(2).toString()||""}),this.dataSource=new Z.by(this.duplicateSource),this.dataSource.paginator=this.paginator}getFormattedTime(t){const o=t.toString().padStart(4,"0");return`${o.slice(0,2)}:${o.slice(2)}`}ngOnDestroy(){this.MiscellaneousShipSubscription&&this.MiscellaneousShipSubscription.unsubscribe()}dateToMMDDYY(t){const o=new Date(t);return`${(o.getMonth()+1).toString().padStart(2,"0")}${o.getDate().toString().padStart(2,"0")}${o.getFullYear().toString().slice(-2)}`}timeToNumber(t){return t.replace(":","").padStart(4,"0")}MiscShip(){const t=this.form.value;this.MiscellaneousShipSubscription&&this.MiscellaneousShipSubscription.unsubscribe();const o=this.dateToMMDDYY(t.ShipDate),l=this.timeToNumber(t.ShipTime);this.MiscellaneousShipSubscription&&this.MiscellaneousShipSubscription.unsubscribe(),this.MiscellaneousShipSubscription=this.Orderservice.MiscShipData(this.user,this.element.OHBILL,"","",t.ProNumber,"","",this.element.returnedData[0]?.OHSHPT,"",o,l,t.ShipDateChgCode,t.LoadCode,t.LoadQuantity,t.ChepPalletsReturned,t.loadOrderNumber,t.MasterReferenceNumber,t.LinkSeqNbr,t.EquipmentNumber,t.Seal1,t.Seal2,t.FreightCharge).subscribe(u=>{this.result=u;const S=u?.[0]?.data||[],s=S[S.length-1]?.value||"";s===h.R.updated?(this.successMessage(s),this.router.navigateByUrl(this.OrdersURL,{state:this.element})):this.failureMessage(s)})}successMessage(t){T().fire(t,"","success")}failureMessage(t){T().fire(t,"","error")}onBack(){this.router.navigate([this.OrdersURL])}}return d.\u0275fac=function(t){return new(t||d)(e.Y36(p.qu),e.Y36(O.uw),e.Y36(g.F0),e.Y36(U.B),e.Y36(r.p))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-misc-ship"]],viewQuery:function(t,o){if(1&t&&e.Gf(E,5),2&t){let l;e.iGM(l=e.CRH())&&(o.paginator=l.first)}},standalone:!0,features:[e.jDz],decls:89,vars:1,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","billNumber","readonly",""],["matInput","","formControlName","Storer","readonly",""],["matInput","","formControlName","Consignee","readonly",""],["matInput","","formControlName","ProNumber","readonly",""],["matInput","","formControlName","Carrier","readonly",""],["matInput","","formControlName","ShipType","readonly",""],["matInput","","type","date","formControlName","ShipDate","readonly",""],["matInput","","type","time","formControlName","ShipTime","readonly",""],["matInput","","formControlName","ShipDateChgCode"],["matInput","","formControlName","LoadCode"],["matInput","","formControlName","LoadQuantity"],["matInput","","formControlName","ChepPalletsReturned"],["matInput","","formControlName","loadOrderNumber"],["matInput","","formControlName","MasterReferenceNumber"],["matInput","","formControlName","LinkSeqNbr"],["matInput","","formControlName","EquipmentNumber"],["matInput","","formControlName","Seal1"],["matInput","","formControlName","Seal2"],["matInput","","formControlName","FreightCharge"],["mat-button","","mat-raised-button","",1,"buttons","addButton",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),e.NdJ("click",function(){return o.onBack()}),e.TgZ(4,"mat-icon"),e._uU(5,"navigate_before "),e.qZA()(),e._uU(6," Update Shipment Confirmation "),e.qZA()(),e.TgZ(7,"mat-card-content",3)(8,"form",4)(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),e._uU(13,"Bill Number"),e.qZA(),e._UZ(14,"input",8),e.qZA(),e.TgZ(15,"mat-form-field",7)(16,"mat-label"),e._uU(17,"Storer"),e.qZA(),e._UZ(18,"input",9),e.qZA(),e.TgZ(19,"mat-form-field",7)(20,"mat-label"),e._uU(21,"Consignee"),e.qZA(),e._UZ(22,"input",10),e.qZA(),e.TgZ(23,"mat-form-field",7)(24,"mat-label"),e._uU(25,"Pro Number"),e.qZA(),e._UZ(26,"input",11),e.qZA(),e.TgZ(27,"mat-form-field",7)(28,"mat-label"),e._uU(29,"Carrier"),e.qZA(),e._UZ(30,"input",12),e.qZA(),e.TgZ(31,"mat-form-field",7)(32,"mat-label"),e._uU(33,"Ship Type"),e.qZA(),e._UZ(34,"input",13),e.qZA(),e.TgZ(35,"mat-form-field",7)(36,"mat-label"),e._uU(37,"Ship Date"),e.qZA(),e._UZ(38,"input",14),e.qZA(),e.TgZ(39,"mat-form-field",7)(40,"mat-label"),e._uU(41,"Ship Time"),e.qZA(),e._UZ(42,"input",15),e.qZA(),e.TgZ(43,"mat-form-field",7)(44,"mat-label"),e._uU(45,"Ship Date Change Code"),e.qZA(),e._UZ(46,"input",16),e.qZA(),e.TgZ(47,"mat-form-field",7)(48,"mat-label"),e._uU(49,"Load Code"),e.qZA(),e._UZ(50,"input",17),e.qZA(),e.TgZ(51,"mat-form-field",7)(52,"mat-label"),e._uU(53,"Load Quantity"),e.qZA(),e._UZ(54,"input",18),e.qZA(),e.TgZ(55,"mat-form-field",7)(56,"mat-label"),e._uU(57,"CHEP Pallet Quantity"),e.qZA(),e._UZ(58,"input",19),e.qZA(),e.TgZ(59,"mat-form-field",7)(60,"mat-label"),e._uU(61,"Manifest No"),e.qZA(),e._UZ(62,"input",20),e.qZA(),e.TgZ(63,"mat-form-field",7)(64,"mat-label"),e._uU(65,"Master Ref No"),e.qZA(),e._UZ(66,"input",21),e.qZA(),e.TgZ(67,"mat-form-field",7)(68,"mat-label"),e._uU(69,"Link Sequence"),e.qZA(),e._UZ(70,"input",22),e.qZA(),e.TgZ(71,"mat-form-field",7)(72,"mat-label"),e._uU(73,"Equipment No"),e.qZA(),e._UZ(74,"input",23),e.qZA(),e.TgZ(75,"mat-form-field",7)(76,"mat-label"),e._uU(77,"Seal 1"),e.qZA(),e._UZ(78,"input",24),e.qZA(),e.TgZ(79,"mat-form-field",7)(80,"mat-label"),e._uU(81,"Seal 2"),e.qZA(),e._UZ(82,"input",25),e.qZA(),e.TgZ(83,"mat-form-field",7)(84,"mat-label"),e._uU(85,"Freight Chg"),e.qZA(),e._UZ(86,"input",26),e.qZA()()(),e.TgZ(87,"button",27),e.NdJ("click",function(){return o.MiscShip()}),e._uU(88," Submit "),e.qZA()()()()),2&t&&(e.xp6(8),e.Q6J("formGroup",o.form))},dependencies:[A.m,p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u,n.Hw,a.lW,m.KE,m.hX,_.Nt,C.a8,C.dk,C.dn,C.n5]}),d})()}}]);