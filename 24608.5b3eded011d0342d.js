"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[24608],{57180:(O,v,o)=>{o.d(v,{e:()=>y});var S=o(80529),u=o(75625),D=o(70262),t=o(62843),h=o(92340),T=o(94650);let y=(()=>{class f{constructor(a){this.httpClient=a,this.url=h.N.API_BASE_URL,this.httpHeader={headers:new S.WM({"Content-Type":"application/json"})}}readItemKit(a,r,l,m,c,_){return this.httpClient.get(`${this.url}/itemKit/read?user=${a}&storer=${r}&suffix=${l}&item=${m}&recordsPerPage=${c}&pageNum=${_}`)}createItemKit(a,r,l,m,c,_,d,g,A){return this.httpClient.post(this.url+"/itemKit/create",{user:a,storer:r,suffix:l,item:m,componentItem:c,quantity:_,commit:d,trackComponent:g,unit:A}).pipe((0,u.X)(1),(0,D.K)(this.httpError))}updateItemKit(a,r,l,m,c,_,d,g,A,K){return this.httpClient.put(this.url+"/itemKit/update",{user:a,storer:r,suffix:l,item:m,sequence:c,componentItem:_,quantity:d,commit:g,trackComponent:A,unit:K}).pipe((0,u.X)(1),(0,D.K)(this.httpError))}deleteItemKit(a,r,l,m,c){return this.httpClient.delete(this.url+`/itemKit/delete?user=${a}&storer=${r}&suffix=${l}&item=${m}&sequence=${c}`)}itemOrder(a,r,l,m,c,_,d){return this.httpClient.get(`${this.url}/itemKit/order?user=${a}&storer=${r}&suffix=${l}&item=${m}&status=${c}&recordsPerPage=${_}&pageNum=${d}`)}itemStock(a,r,l,m,c,_,d,g,A){return this.httpClient.get(`${this.url}/itemKit/kitStock?user=${a}&storer=${r}&suffix=${l}&item=${m}&startDate=${c}&endDate=${_}&adjacent=${d}&recordsPerPage=${g}&pageNum=${A}`)}itemPickInquiry(a,r,l,m,c,_){return this.httpClient.get(`${this.url}/itemKit/pickInquiry?user=${a}&storer=${r}&suffix=${l}&item=${m}&recordsPerPage=${c}&pageNum=${_}`)}kitPickSheet(a,r,l,m){return this.httpClient.put(this.url+"/itemKit/pickSheet",{user:a,storer:r,suffix:l,item:m}).pipe((0,u.X)(1),(0,D.K)(this.httpError))}httpError(a){let r="";return r=a.error instanceof ErrorEvent?a.error.message:`Error Code: ${a.status}\nMessage: ${a.message}`,console.log(r),(0,t._)(()=>new Error(r))}}return f.\u0275fac=function(a){return new(a||f)(T.LFG(S.eN))},f.\u0275prov=T.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},24608:(O,v,o)=>{o.r(v),o.d(v,{KitStockActivityComponent:()=>q});var S=o(98739),u=o(7155),D=o(70879),t=o(94650),h=o(24006),T=o(57180),y=o(19132),f=o(97392),E=o(4859),a=o(59549),r=o(44144),l=o(84385),m=o(3238),c=o(73546);function _(e,n){1&e&&(t.TgZ(0,"th",32),t._uU(1,"Date"),t.qZA())}function d(e,n){if(1&e&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.SDATE)}}function g(e,n){1&e&&(t.TgZ(0,"th",32),t._uU(1,"Storer Reference"),t.qZA())}function A(e,n){if(1&e&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.SAREF)}}function K(e,n){1&e&&(t.TgZ(0,"th",32),t._uU(1,"Wr/BOL"),t.qZA())}function U(e,n){if(1&e&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.SAABTA)}}function k(e,n){1&e&&(t.TgZ(0,"th",32),t._uU(1,"Description"),t.qZA())}function P(e,n){if(1&e&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.SADESC)}}function B(e,n){if(1&e&&(t.TgZ(0,"th",34),t._uU(1),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.hij(" ",i.SUNITS," ")}}function I(e,n){1&e&&(t.TgZ(0,"th",32),t._uU(1,"Amount"),t.qZA())}function M(e,n){if(1&e&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.SIQTY)}}function $(e,n){1&e&&(t.TgZ(0,"th",32),t._uU(1,"Balance"),t.qZA())}function N(e,n){if(1&e&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.SABALN)}}function R(e,n){1&e&&t._UZ(0,"tr",35)}function W(e,n){1&e&&t._UZ(0,"tr",35)}function x(e,n){1&e&&t._UZ(0,"tr",36)}const L=function(){return["Date","StorerReference","WrBol","Description","Units"]},Y=function(){return["Amount","Balance"]},b=function(){return[8,16,24]};let q=(()=>{class e{constructor(i,s,p,C){this.fb=i,this.iKitService=s,this.cdr=p,this.router=C,this.displayedColumns=["Date","StorerReference","WrBol","Description","Amount","Balance"],this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.pageNumber=1,this.user=localStorage.getItem("userName")||"",this.dataSource1=[],this.storer="",this.item="",this.key="",this.value="",this.date=new Date,this.firstDay=new Date(this.date.getFullYear(),this.date.getMonth(),1),this.lastDay=new Date(this.date.getFullYear(),this.date.getMonth()+1,0),this.dataSource=new u.by,this.start="",this.end="",this.ItemRoute="/main-nav/item/kit/read"}ngOnInit(){this.element=history.state,this.storerValue=this.element[0].WKSTOR,this.form=this.fb.group({start:this.firstDay.toLocaleDateString("fr-CA"),end:this.lastDay.toLocaleDateString("fr-CA"),locationAdj:"N"}),this.item=this.element[1].WCODSC+" "+this.element[1].WCODSC1,this.stockActivity(this.pageSize,this.pageNumber),this.cdr.detectChanges()}stockActivity(i,s){var p=this.form.value;this.stockActivitySubscription&&this.stockActivitySubscription.unsubscribe(),this.iKitService.itemStock(this.user,this.element[0].WKSTOR,this.element[0].WKSSFX,this.element[1].WCODSC,p.start,p.end,p.locationAdj,i,s).subscribe(C=>{var Z=JSON.parse(C[0].data[1]?.value);this.dataSource.data=Z.returnedData,this.totalRecords=Z.TotalRecords,this.duplicateSource=Z.returnedData,this.SUNITS=this.duplicateSource[0]?.SUNITS})}ngOnDestroy(){this.stockActivitySubscription&&this.stockActivitySubscription.unsubscribe()}onBack(){this.router.navigateByUrl(this.ItemRoute,{state:this.element[0]})}onPaginateChange(i){this.pageSize=i.pageSize,this.stockActivity(i.pageSize,i.pageIndex+1)}getStockBySearch(i){this.currentFilters=i,this.paginator.firstPage(),this.stockActivity(this.pageSize,this.pageNumber)}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(h.qu),t.Y36(T.e),t.Y36(t.sBO),t.Y36(y.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-kit-stock-activity"]],viewQuery:function(i,s){if(1&i&&t.Gf(S.NW,5),2&i){let p;t.iGM(p=t.CRH())&&(s.paginator=p.first)}},standalone:!0,features:[t.jDz],decls:63,vars:13,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["readonly","","matInput","",3,"value"],["appearance","outline",1,"full-width2"],["appearance","outline"],["matInput","","type","Date","formControlName","start"],["matInput","","type","Date","formControlName","end"],["formControlName","locationAdj"],["value","N"],["value","Y"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","tally-search-btn"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Date"],["mat-header-cell","","rowspan","2",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","StorerReference"],["matColumnDef","WrBol"],["matColumnDef","Description"],["matColumnDef","Units"],["mat-header-cell","","colspan","2",4,"matHeaderCellDef"],["matColumnDef","Amount"],["matColumnDef","Balance"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-header-cell","","rowspan","2"],["mat-cell",""],["mat-header-cell","","colspan","2"],["mat-header-row",""],["mat-row",""]],template:function(i,s){1&i&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return s.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6,"Stock Activity Inquiry"),t.qZA()(),t.TgZ(7,"mat-card-content",3)(8,"form",4),t.NdJ("ngSubmit",function(){return s.getStockBySearch(s.form.value)}),t.TgZ(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),t._uU(13,"Storer"),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"mat-form-field",9)(16,"mat-label"),t._uU(17,"Item"),t.qZA(),t._UZ(18,"input",8),t.qZA(),t.TgZ(19,"mat-form-field",10)(20,"mat-label"),t._uU(21,"Start"),t.qZA(),t._UZ(22,"input",11),t.qZA(),t.TgZ(23,"mat-form-field",10)(24,"mat-label"),t._uU(25,"End"),t.qZA(),t._UZ(26,"input",12),t.qZA(),t.TgZ(27,"mat-form-field",7)(28,"mat-label"),t._uU(29,"Location Adjustment"),t.qZA(),t.TgZ(30,"mat-select",13)(31,"mat-option",14),t._uU(32,"No"),t.qZA(),t.TgZ(33,"mat-option",15),t._uU(34,"Yes"),t.qZA()()()()(),t.TgZ(35,"button",16),t._uU(36," Search "),t.qZA()()(),t.TgZ(37,"table",17),t.ynx(38,18),t.YNc(39,_,2,0,"th",19),t.YNc(40,d,2,1,"td",20),t.BQk(),t.ynx(41,21),t.YNc(42,g,2,0,"th",19),t.YNc(43,A,2,1,"td",20),t.BQk(),t.ynx(44,22),t.YNc(45,K,2,0,"th",19),t.YNc(46,U,2,1,"td",20),t.BQk(),t.ynx(47,23),t.YNc(48,k,2,0,"th",19),t.YNc(49,P,2,1,"td",20),t.BQk(),t.ynx(50,24),t.YNc(51,B,2,1,"th",25),t.BQk(),t.ynx(52,26),t.YNc(53,I,2,0,"th",19),t.YNc(54,M,2,1,"td",20),t.BQk(),t.ynx(55,27),t.YNc(56,$,2,0,"th",19),t.YNc(57,N,2,1,"td",20),t.BQk(),t.YNc(58,R,1,0,"tr",28),t.YNc(59,W,1,0,"tr",28),t.YNc(60,x,1,0,"tr",29),t.qZA(),t.TgZ(61,"mat-paginator",30,31),t.NdJ("page",function(C){return s.onPaginateChange(C)}),t.qZA()()),2&i&&(t.xp6(8),t.Q6J("formGroup",s.form),t.xp6(6),t.s9C("value",s.storerValue),t.xp6(4),t.s9C("value",s.item),t.xp6(19),t.Q6J("dataSource",s.dataSource),t.xp6(21),t.Q6J("matHeaderRowDef",t.DdM(10,L)),t.xp6(1),t.Q6J("matHeaderRowDef",t.DdM(11,Y)),t.xp6(1),t.Q6J("matRowDefColumns",s.displayedColumns),t.xp6(1),t.Q6J("length",s.totalRecords)("pageSizeOptions",t.DdM(12,b))("pageSize",s.pageSize))},dependencies:[D.m,h._Y,h.Fj,h.JJ,h.JL,h.sg,h.u,S.NW,f.Hw,E.lW,a.KE,a.hX,r.Nt,l.gD,m.ey,c.a8,c.dk,c.dn,c.n5,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk]}),e})()}}]);