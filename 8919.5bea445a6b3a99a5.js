"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[8919],{8919:(st,c,r)=>{r.r(c),r.d(c,{OrderMoveHistoryInquiryComponent:()=>at});var d=r(98739),s=r(7155),f=r(70879),t=r(94650),u=r(24006),T=r(19132),y=r(11240),g=r(65105),v=r(36895),M=r(97392),p=r(28255),C=r(4859),h=r(59549),O=r(44144),Z=r(84385),A=r(3238),_=r(73546),H=r(10266),q=r(90455);function S(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"span",45),t.NdJ("click",function(a){return a.stopPropagation()}),t.TgZ(1,"mat-slide-toggle",46),t.NdJ("ngModelChange",function(a){const m=t.CHM(o).$implicit;return t.KtG(m.isActive=a)})("change",function(){const l=t.CHM(o).$implicit,m=t.oxw();return t.KtG(m.toggleColumn(l))}),t._uU(2),t.qZA(),t._UZ(3,"br"),t.qZA()}if(2&e){const o=i.$implicit;t.xp6(1),t.Q6J("ngModel",o.isActive),t.xp6(1),t.hij(" ",o.name," ")}}function D(e,i){1&e&&(t.TgZ(0,"th",47),t._uU(1,"Move Number"),t.qZA())}function I(e,i){if(1&e&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HMTRAN)}}function U(e,i){1&e&&(t.TgZ(0,"th",47),t._uU(1,"Item"),t.qZA())}function E(e,i){if(1&e&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HMITEM)}}function N(e,i){1&e&&(t.TgZ(0,"th",47),t._uU(1,"Lot"),t.qZA())}function x(e,i){if(1&e&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HLOTS)}}function P(e,i){1&e&&(t.TgZ(0,"th",47),t._uU(1,"Type"),t.qZA())}function L(e,i){if(1&e&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HMTTYP)}}function B(e,i){1&e&&(t.TgZ(0,"th",47),t._uU(1,"Sub"),t.qZA())}function Y(e,i){if(1&e&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HMSTYP)}}function b(e,i){1&e&&(t.TgZ(0,"th",47),t._uU(1,"Quantity"),t.qZA())}function Q(e,i){if(1&e&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HQTY)}}function R(e,i){1&e&&(t.TgZ(0,"th",47),t._uU(1,"On Queue"),t.qZA())}function w(e,i){if(1&e&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HMQDAT)}}function K(e,i){1&e&&(t.TgZ(0,"th",47),t._uU(1,"Assigned"),t.qZA())}function W(e,i){if(1&e&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HMADAT)}}function J(e,i){1&e&&(t.TgZ(0,"th",47),t._uU(1,"Completed"),t.qZA())}function $(e,i){if(1&e&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HMCDAT)}}function F(e,i){1&e&&(t.TgZ(0,"th",47),t._uU(1,"Start"),t.qZA())}function k(e,i){if(1&e&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HMSDAT)}}function z(e,i){1&e&&(t.TgZ(0,"th",47),t._uU(1,"From"),t.qZA())}function G(e,i){if(1&e&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HFRLOC)}}function j(e,i){1&e&&(t.TgZ(0,"th",47),t._uU(1,"To"),t.qZA())}function X(e,i){if(1&e&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HTOLOC)}}function V(e,i){1&e&&(t.TgZ(0,"th",47),t._uU(1,"Operator"),t.qZA())}function tt(e,i){if(1&e&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HMUSER)}}function et(e,i){1&e&&(t.TgZ(0,"th",47),t._uU(1,"Status"),t.qZA())}function ot(e,i){if(1&e&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HSTAT)}}function it(e,i){1&e&&t._UZ(0,"tr",49)}function nt(e,i){1&e&&t._UZ(0,"tr",50)}const rt=function(){return[5,10]};let at=(()=>{class e{constructor(o,n,a,l){this.fb=o,this.router=n,this.storerService=a,this.orderService=l,this.displayedColumns=["MoveNumber","Item","Lot","Type","Sub","Quantity"],this.user=localStorage.getItem("userName"),this.columnShowHideList=[],this.dataSource=[],this.account="",this.sort="Move Number",this.pendingMoves="",this.completedMoves="",this.transactionType="PK",this.document=""}ngOnInit(){this.element=history.state,this.form=this.fb.group({account1:this.account,document1:this.document,sort1:this.sort,pendingMoves1:this.pendingMoves,completedMoves1:this.completedMoves,transactionType1:this.transactionType}),this.editedRows=[],this.initializeColumnProperties(),this.storerService.storerSearch(this.user,"",this.element.OHSTOR,"","","").subscribe(o=>{this.result=o;var n=this.result[0].data[1]?.value,a=JSON.parse(n);this.duplicateSource=a.returnedData,this.duplicateSource[0]&&(this.account=this.element.OHSTOR+" "+this.duplicateSource[0].STSFX+" "+this.duplicateSource[0].STNAME)}),this.orderService.moveHistoryInquiryService(this.user,this.element.OHBILL,"PK",this.sort,"O").subscribe(o=>{this.result=o;var n=this.result[0].data[1]?.value,a=JSON.parse(n);this.duplicateSource=a.returnedData,this.dataSource=new s.by(this.duplicateSource),this.dataSource.paginator=this.paginator,this.duplicateSource[0]&&(this.pendingMoves=this.duplicateSource[0].HPNDQT,this.completedMoves=this.duplicateSource[0].HCMPQT,this.transactionType=this.duplicateSource[0].HTTYP,this.document=this.duplicateSource[0].HMDOCN)})}getMoveHistory(o){var n=this.form.value;n.sort1="Assignment Time"==n.sort1?"HMADAT":"Completion Time"==n.sort1?"HMCDAT":"HMTRAN",this.orderService.moveHistoryInquiryServiceSearch(this.user,this.element.OHBILL,o.transactionType1.toUpperCase(),n.sort1,"O").subscribe(a=>{this.result=a;var l=this.result[0].data[1]?.value,m=JSON.parse(l);this.duplicateSource=m.returnedData,this.dataSource=new s.by(this.duplicateSource),this.dataSource.paginator=this.paginator,this.duplicateSource[0]&&(this.pendingMoves=this.duplicateSource[0].HPNDQT,this.completedMoves=this.duplicateSource[0].HCMPQT,this.transactionType=this.duplicateSource[0].HTTYP,this.document=this.duplicateSource[0].HMDOCN)})}toggleColumn(o){if(o.isActive)this.displayedColumns.splice(o.position>this.displayedColumns.length-1?this.displayedColumns.length-1:o.position,0,o.name);else{let n=this.displayedColumns.indexOf(o.name);n>-1&&this.displayedColumns.splice(n,1)}}initializeColumnProperties(){this.displayedColumns.forEach((o,n)=>{"Actions"!=o&&this.columnShowHideList.push({position:n,name:o,isActive:!0})}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"OnQueue",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Assigned",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Completed",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Start",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"From",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"To",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Operator",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Status",isActive:!1})}onBack(){this.router.navigate(["/main-nav/orders/read"])}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(u.qu),t.Y36(T.F0),t.Y36(y.h),t.Y36(g.p))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-order-move-history-inquiry"]],viewQuery:function(o,n){if(1&o&&t.Gf(d.NW,5),2&o){let a;t.iGM(a=t.CRH())&&(n.paginator=a.first)}},standalone:!0,features:[t.jDz],decls:98,vars:12,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"buttons"],["mainMenuButton","matMenu"],[3,"click",4,"ngFor","ngForOf"],["mat-button","","matTooltip","Hide/Show Columns",1,"mat-focus-indicator","addButton","mat-button","mat-button-base","tally-toltip-btn",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],[1,"tally-serach-form"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width2"],["readonly","","matInput","","formControlName","account1",3,"value"],["appearance","outline",1,"full-width"],["readonly","","matInput","","formControlName","document1",3,"value"],["formControlName","sort1"],["default","","value","Move Number"],["value","Assignment Time"],["value","Completion Time"],["readonly","","matInput","","formControlName","pendingMoves1",3,"value"],["readonly","","matInput","","formControlName","completedMoves1",3,"value"],["matInput","","formControlName","transactionType1"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","MoveNumber"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Item"],["matColumnDef","Lot"],["matColumnDef","Type"],["matColumnDef","Sub"],["matColumnDef","Quantity"],["matColumnDef","OnQueue"],["matColumnDef","Assigned"],["matColumnDef","Completed"],["matColumnDef","Start"],["matColumnDef","From"],["matColumnDef","To"],["matColumnDef","Operator"],["matColumnDef","Status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"pageSizeOptions"],["paginator",""],[3,"click"],[2,"color","blue",3,"ngModel","ngModelChange","change"],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(o,n){if(1&o&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return n.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6,"\nMove History Inquiry "),t.qZA(),t.TgZ(7,"div",3)(8,"mat-menu",null,4),t.YNc(10,S,4,2,"span",5),t.qZA(),t.TgZ(11,"button",6,7)(13,"mat-icon"),t._uU(14,"visibility_off"),t.qZA()()()(),t.TgZ(15,"mat-card-content",8)(16,"form",9),t.NdJ("ngSubmit",function(){return n.getMoveHistory(n.form.value)}),t.TgZ(17,"div",10)(18,"div",11)(19,"mat-form-field",12)(20,"mat-label"),t._uU(21,"Account"),t.qZA(),t._UZ(22,"input",13),t.qZA(),t.TgZ(23,"mat-form-field",14)(24,"mat-label"),t._uU(25,"Document"),t.qZA(),t._UZ(26,"input",15),t.qZA(),t.TgZ(27,"mat-form-field",14)(28,"mat-label"),t._uU(29," Sort "),t.qZA(),t.TgZ(30,"mat-select",16)(31,"mat-option",17),t._uU(32,"Move Number"),t.qZA(),t.TgZ(33,"mat-option",18),t._uU(34,"Assignment Time"),t.qZA(),t.TgZ(35,"mat-option",19),t._uU(36,"Completion Time"),t.qZA()()(),t.TgZ(37,"mat-form-field",14)(38,"mat-label"),t._uU(39,"Pending Moves"),t.qZA(),t._UZ(40,"input",20),t.qZA(),t.TgZ(41,"mat-form-field",14)(42,"mat-label"),t._uU(43,"Completed Moves"),t.qZA(),t._UZ(44,"input",21),t.qZA(),t.TgZ(45,"mat-form-field",14)(46,"mat-label"),t._uU(47,"Transaction Type"),t.qZA(),t._UZ(48,"input",22),t.qZA()()(),t.TgZ(49,"button",23),t._uU(50," Search "),t.qZA()()(),t.TgZ(51,"table",24),t.ynx(52,25),t.YNc(53,D,2,0,"th",26),t.YNc(54,I,2,1,"td",27),t.BQk(),t.ynx(55,28),t.YNc(56,U,2,0,"th",26),t.YNc(57,E,2,1,"td",27),t.BQk(),t.ynx(58,29),t.YNc(59,N,2,0,"th",26),t.YNc(60,x,2,1,"td",27),t.BQk(),t.ynx(61,30),t.YNc(62,P,2,0,"th",26),t.YNc(63,L,2,1,"td",27),t.BQk(),t.ynx(64,31),t.YNc(65,B,2,0,"th",26),t.YNc(66,Y,2,1,"td",27),t.BQk(),t.ynx(67,32),t.YNc(68,b,2,0,"th",26),t.YNc(69,Q,2,1,"td",27),t.BQk(),t.ynx(70,33),t.YNc(71,R,2,0,"th",26),t.YNc(72,w,2,1,"td",27),t.BQk(),t.ynx(73,34),t.YNc(74,K,2,0,"th",26),t.YNc(75,W,2,1,"td",27),t.BQk(),t.ynx(76,35),t.YNc(77,J,2,0,"th",26),t.YNc(78,$,2,1,"td",27),t.BQk(),t.ynx(79,36),t.YNc(80,F,2,0,"th",26),t.YNc(81,k,2,1,"td",27),t.BQk(),t.ynx(82,37),t.YNc(83,z,2,0,"th",26),t.YNc(84,G,2,1,"td",27),t.BQk(),t.ynx(85,38),t.YNc(86,j,2,0,"th",26),t.YNc(87,X,2,1,"td",27),t.BQk(),t.ynx(88,39),t.YNc(89,V,2,0,"th",26),t.YNc(90,tt,2,1,"td",27),t.BQk(),t.ynx(91,40),t.YNc(92,et,2,0,"th",26),t.YNc(93,ot,2,1,"td",27),t.BQk(),t.YNc(94,it,1,0,"tr",41),t.YNc(95,nt,1,0,"tr",42),t.qZA(),t._UZ(96,"mat-paginator",43,44),t.qZA()),2&o){const a=t.MAs(9);t.xp6(10),t.Q6J("ngForOf",n.columnShowHideList),t.xp6(1),t.Q6J("matMenuTriggerFor",a),t.xp6(5),t.Q6J("formGroup",n.form),t.xp6(6),t.s9C("value",n.account),t.xp6(4),t.s9C("value",n.document),t.xp6(14),t.s9C("value",n.pendingMoves),t.xp6(4),t.s9C("value",n.completedMoves),t.xp6(7),t.Q6J("dataSource",n.dataSource),t.xp6(43),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(11,rt))}},dependencies:[f.m,v.sg,u._Y,u.Fj,u.JJ,u.JL,u.On,u.sg,u.u,d.NW,M.Hw,p.VK,p.p6,C.lW,h.KE,h.hX,O.Nt,Z.gD,A.ey,_.a8,_.dk,_.dn,_.n5,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,H.gM,q.Rr]}),e})()}}]);