"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[67379,79979],{34894:(P,g,e)=>{e.d(g,{e:()=>f});var o=e(94650),C=e(24006);let f=(()=>{class _{constructor(r,t){this.el=r,this.control=t}onInputChange(r){const t=this.el.nativeElement,d=t.value.toUpperCase();t.value=d,this.control&&this.control.control&&this.control.control.setValue(d,{emitEvent:!1})}}return _.\u0275fac=function(r){return new(r||_)(o.Y36(o.SBq),o.Y36(C.a5))},_.\u0275dir=o.lG2({type:_,selectors:[["","appUppercase",""]],hostBindings:function(r,t){1&r&&o.NdJ("input",function(c){return t.onInputChange(c)})},standalone:!0}),_})()},79979:(P,g,e)=>{e.d(g,{C:()=>d});var o=e(80529),C=e(61135),f=e(75625),_=e(70262),O=e(62843),r=e(92340),t=e(94650);let d=(()=>{class c{constructor(i){this.httpClient=i,this.carrierDataSource=new C.X([]),this.url=r.N.API_BASE_URL,this.httpHeader={headers:new o.WM({"Content-Type":"application/json"})}}updatecarrierDataSource(i){let p=this.carrierDataSource.getValue();p.unshift(...i),this.carrierDataSource.next(p)}getCarrier(i,p,l){return this.httpClient.get(this.url+`/carriers/read?user=${i}&carrierCode=${p}&carrierName=${l}`)}getAllCarriers(i,p,l){return this.httpClient.get(this.url+`/carriers/readAll?user=${i}&pageNum=${p}&recordsPerPage=${l}`)}createCarrier(i,p,l,h,a,u,m,T,E,I,n,s,v,D,M){return this.httpClient.post(this.url+"/carriers/create",{carrierCode:i,carrierName:p,carrierAdd1:l,carrierAdd2:h,zipcode:a,suffix:u,carrierScacCode:m,hazardousMaterials:T,palletExchange:E,billFrequency:I,loadingAllowance:n,hundredWeight:s,minimumAmount:v,maximumAmount:D,user:M}).pipe((0,f.X)(1),(0,_.K)(this.httpError))}updateCarrier(i,p,l,h,a,u,m,T,E,I,n,s,v,D,M){return this.httpClient.put(this.url+"/carriers/update",{carrierCode:i,carrierName:p,carrierAdd1:l,carrierAdd2:h,zipcode:a,suffix:u,carrierScacCode:m,hazardousMaterials:T,palletExchange:E,billFrequency:I,loadingAllowance:n,hundredWeight:s,minimumAmount:v,maximumAmount:D,user:M}).pipe((0,f.X)(1),(0,_.K)(this.httpError))}getCarrierNames(){return this.httpClient.get(this.url+"/carriers/carrierName")}httpError(i){let p="";return p=i.error instanceof ErrorEvent?i.error.message:`Error Code: ${i.status}\nMessage: ${i.message}`,console.log(p),(0,O._)(()=>new Error(p))}}return c.\u0275fac=function(i){return new(i||c)(t.LFG(o.eN))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},39505:(P,g,e)=>{e.d(g,{L:()=>p});var o=e(24006),C=e(59549),f=e(69751),_=e(68675),O=e(54004),r=e(94650),t=e(36895),d=e(47957),c=e(3238),A=e(44144);function i(l,h){if(1&l&&(r.TgZ(0,"mat-option",4),r._uU(1),r.qZA()),2&l){const a=h.$implicit;r.Q6J("value",a),r.xp6(1),r.Oqu(a)}}let p=(()=>{class l{constructor(a){this.fb=a,this.options=[],this.value="",this.placeholder="",this.id="",this.ngControl=null,this.label="",this.appearance="outline",this.describedBy="",this.touched=!1,this.focused=!1,this.empty=!1,this.required=!1,this.disabled=!1,this.shouldLabelFloat=!1,this.formControlName="",this.errorState=!1,this.previousValue="",this.onInput=u=>{},this.onChange=u=>{},this.onTouched=()=>{},this.control=this.fb.control(""),this.stateChanges=new f.y,this.filteredOptions=this.control.valueChanges.pipe((0,_.O)(this.value),(0,O.U)(u=>this._filter(u)))}setDescribedByIds(a){}onContainerClick(a){}markAsTouched(){this.touched||(this.touched=!0,this.onTouched())}writeValue(a){null!=a&&(this.control.setValue(a),this.value=a)}registerOnChange(a){this.onChange=a}registerOnTouched(a){this.onTouched=a}setDisabledState(a){this.disabled=a}_filter(a){if(null==a||0==a.length)return this.options;const u=a.toLowerCase(),m=this.options.filter(T=>T.toLowerCase().includes(u));return!this.disabled&&1===m.length&&this.control.value!=m[0]&&a.length>=(this.previousValue?.length??0)&&this.control.setValue(m[0]),this.onChange(this.control.value),this.previousValue=this.control.value,m}}return l.\u0275fac=function(a){return new(a||l)(r.Y36(o.qu))},l.\u0275cmp=r.Xpm({type:l,selectors:[["custom-input-autocomplete"]],hostVars:1,hostBindings:function(a,u){2&a&&r.uIk("aria-describedby",u.describedBy)},inputs:{options:"options",value:"value",placeholder:"placeholder",id:"id",ngControl:"ngControl",label:"label",appearance:"appearance"},features:[r._Bn([{provide:o.JU,multi:!0,useExisting:l},{provide:C.Eo,useExisting:l}],[{provide:o.gN,useExisting:o.sg}])],decls:8,vars:9,consts:[[3,"appearance"],["matInput","",3,"id","placeholder","formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(a,u){if(1&a&&(r.TgZ(0,"mat-form-field",0)(1,"mat-label"),r._uU(2),r.qZA(),r._UZ(3,"input",1),r.TgZ(4,"mat-autocomplete",null,2),r.YNc(6,i,2,2,"mat-option",3),r.ALo(7,"async"),r.qZA()()),2&a){const m=r.MAs(5);r.Q6J("appearance",u.appearance),r.xp6(2),r.Oqu(u.label),r.xp6(1),r.Q6J("id",u.id)("placeholder",u.placeholder)("formControl",u.control)("matAutocomplete",m),r.xp6(3),r.Q6J("ngForOf",r.lcZ(7,7,u.filteredOptions))}},dependencies:[t.sg,o.Fj,o.JJ,o.oH,d.XC,d.ZL,c.ey,C.KE,C.hX,A.Nt,t.Ov]}),l})()},67379:(P,g,e)=>{e.r(g),e.d(g,{CopyTallyComponent:()=>T});var o=e(24006),C=e(35226),f=e.n(C),_=e(70879),O=e(48529),r=e(86385),t=e(94650),d=e(19132),c=e(15627),A=e(79979),i=e(97392),p=e(4859),l=e(59549),h=e(44144),a=e(73546),u=e(34894),m=e(39505);let T=(()=>{class E{constructor(n,s,v,D,M){this.router=n,this.IheaderService=s,this.ICarSvc=v,this.ICarrierSvc=D,this.fb=M,this.user=localStorage.getItem("userName"),this.autoCharge=["Y","N"],this.loadOptions=["S","F","C","P"],this.carrierOptions=[],this.availableUrl="/main-nav/tallys/copy/available",this.copyMsg="Copied Successfully",this.tallyUrl="/main-nav/tallys/read",this.quantityUrl="/main-nav/tallys/copy/available"}ngOnInit(){this.element=history.state,this.fetchCarriers(),this.form=this.fb.group({Building:this.element.IHBLDG,StorerNumber:this.element.IHSTOR,StorerReference:[this.element.IHSTRF,o.kI.pattern(/^.{0,30}$/)],LoadType:[this.element.IHLDTY,o.kI.pattern(/^.{0,1}$/)],CarrierCode:[this.element.IHCARR,o.kI.required],ProNumber:[this.element.IHPRO,o.kI.pattern(/^.{0,30}$/)],OverrideWeight:[this.element.IHTWGT,o.kI.pattern(/^(?:\d{1,9}(?:\.\d{0,2})?)?$/)],TotalQuantity:[this.element.IHTQTY,o.kI.pattern(/^\d{0,7}$/)],ReceivedFrom:this.element.IHCONS,ApplyAutoCharges:"N"})}ngOnDestroy(){this.Subscription&&this.Subscription.unsubscribe()}fetchCarriers(){this.ICarSvc.getCarrierNames().subscribe(n=>{for(const s of n)this.carrierOptions.push(s.CRNAME)})}CopyTally(){var n=this.form.value;this.Subscription&&this.Subscription.unsubscribe(),this.Subscription=this.IheaderService.CopyTally(this.element.IHTALY,0,O.R.fullBuilding(n.Building),n.StorerNumber,n.StorerReference,n.LoadType,n.CarrierCode,n.ProNumber,n.OverrideWeight,n.TotalQuantity,n.ReceivedFrom,n.ApplyAutoCharges).subscribe(s=>{const D=s[0].data[s[0].data.length-1].value;D.toUpperCase()===this.copyMsg.toUpperCase()?this.available(s[0].data[2].value):this.failureMessage(D)})}available(n){this.router.navigateByUrl(this.availableUrl,{state:[n,this.element]})}onBack(){this.router.navigate([this.tallyUrl])}successMessage(n){f().fire(n,"","success")}failureMessage(n){f().fire(n,"","error")}quantity(n){this.router.navigate([this.quantityUrl,{state:[n,this.element]}])}}return E.\u0275fac=function(n){return new(n||E)(t.Y36(d.F0),t.Y36(c.X),t.Y36(A.C),t.Y36(A.C),t.Y36(o.qu))},E.\u0275cmp=t.Xpm({type:E,selectors:[["app-copy-tally"]],standalone:!0,features:[t.jDz],decls:46,vars:4,consts:[[1,"over-Flow"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","Building","readonly",""],["matInput","","formControlName","StorerNumber","readonly",""],["appearance","outline",1,"full-width2"],["matInput","","formControlName","StorerReference"],["formControlName","LoadType","label","Load Type","appearance","outline",1,"full-width2",3,"options"],["formControlName","CarrierCode","label","Carrier Code*","appearance","outline","required","",1,"full-width2",3,"options"],["matInput","","formControlName","ProNumber","appUppercase",""],["matInput","","formControlName","OverrideWeight"],["matInput","","formControlName","TotalQuantity"],["matInput","","formControlName","ReceivedFrom","appUppercase",""],["appearance","outline","formControlName","ApplyAutoCharges","label","Apply Auto Charges",3,"options"],["type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"click"]],template:function(n,s){1&n&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title")(3,"button",1),t.NdJ("click",function(){return s.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6," Transfer an Inbound Header "),t.qZA()(),t.TgZ(7,"mat-card-content",2)(8,"form",3)(9,"div",4)(10,"div",5)(11,"mat-form-field",6)(12,"mat-label"),t._uU(13,"Building"),t.qZA(),t._UZ(14,"input",7),t.qZA(),t.TgZ(15,"mat-form-field",6)(16,"mat-label"),t._uU(17," Storer Number"),t.qZA(),t._UZ(18,"input",8),t.qZA(),t.TgZ(19,"mat-form-field",9)(20,"mat-label"),t._uU(21,"Storer Reference"),t.qZA(),t._UZ(22,"input",10),t.qZA(),t._UZ(23,"custom-input-autocomplete",11)(24,"br")(25,"custom-input-autocomplete",12)(26,"br"),t.TgZ(27,"mat-form-field",6)(28,"mat-label"),t._uU(29,"Pro Number"),t.qZA(),t._UZ(30,"input",13),t.qZA(),t.TgZ(31,"mat-form-field",6)(32,"mat-label"),t._uU(33,"Override Weight"),t.qZA(),t._UZ(34,"input",14),t.qZA(),t.TgZ(35,"mat-form-field",6)(36,"mat-label"),t._uU(37,"Total Quantity"),t.qZA(),t._UZ(38,"input",15),t.qZA(),t.TgZ(39,"mat-form-field",6)(40,"mat-label"),t._uU(41,"Received From"),t.qZA(),t._UZ(42,"input",16),t.qZA(),t._UZ(43,"custom-input-autocomplete",17),t.qZA()(),t.TgZ(44,"button",18),t.NdJ("click",function(){return s.CopyTally()}),t._uU(45," Copy "),t.qZA()()()()),2&n&&(t.xp6(8),t.Q6J("formGroup",s.form),t.xp6(15),t.Q6J("options",s.loadOptions),t.xp6(2),t.Q6J("options",s.carrierOptions),t.xp6(18),t.Q6J("options",s.autoCharge))},dependencies:[_.m,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.sg,o.u,i.Hw,p.lW,l.KE,l.hX,h.Nt,a.a8,a.dk,a.dn,a.n5,u.e,r.j,m.L]}),E})()}}]);