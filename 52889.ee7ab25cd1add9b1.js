"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[52889,11790,38754,85645],{11790:(Y,J,l)=>{l.d(J,{y:()=>M});var W=l(65412),p=l(94650),a=l(97392),f=l(4859);let X=(()=>{class _{constructor(v,O){this.dialogRef=v,this.data=O}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return _.\u0275fac=function(v){return new(v||_)(p.Y36(W.so),p.Y36(W.WI))},_.\u0275cmp=p.Xpm({type:_,selectors:[["app-alert-dialog"]],decls:10,vars:3,consts:[[1,"confirm-dialog-container"],[1,"content-container"],["id","close-icon",3,"click"],[1,"content-span","full-width"],["mat-flat-button","","id","no-button",3,"mat-dialog-close"],["mat-flat-button","","id","yes-button",3,"mat-dialog-close"]],template:function(v,O){1&v&&(p.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),p.NdJ("click",function(){return O.closeDialog()}),p._uU(3,"close "),p.qZA(),p.TgZ(4,"span",3),p._uU(5),p.qZA()(),p.TgZ(6,"button",4),p._uU(7,"Cancel"),p.qZA(),p.TgZ(8,"button",5),p._uU(9,"Delete"),p.qZA()()),2&v&&(p.xp6(5),p.Oqu(O.data.message),p.xp6(1),p.Q6J("mat-dialog-close",!1),p.xp6(2),p.Q6J("mat-dialog-close",!0))},dependencies:[a.Hw,f.lW,W.ZT]}),_})(),M=(()=>{class _{constructor(v){this.dialog=v}openCustomAlert(v){return this.dialog.open(X,{width:"450px",panelClass:"confirm-dialog-container",disableClose:!0,data:{message:v}})}}return _.\u0275fac=function(v){return new(v||_)(p.LFG(W.uw))},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},10573:(Y,J,l)=>{l.d(J,{a:()=>D});var W=l(80529),p=l(61135),a=l(75625),f=l(70262),X=l(62843),M=l(92340),_=l(94650);let D=(()=>{class v{constructor(t){this.httpClient=t,this.itemDataSource=new p.X([]),this.url=M.N.API_BASE_URL,this.httpHeader={headers:new W.WM({"Content-Type":"application/json"})}}getItemAll(t){return this.httpClient.get(`${this.url}/item/read?user=${t}`)}updateItemDataSource(t){let e=this.itemDataSource.getValue();e.unshift(t),this.itemDataSource.next(e)}getAll(t){return this.httpClient.get(`${this.url}/consignee/readAll?user=${t}`)}getItemTally(t,e,r,s){return this.httpClient.get(`${this.url}/item/read/tally?user=${t}&storer=${e}&suffix=${r}&item=${s}`)}ItemTallyWorkWith(t,e,r,s){return this.httpClient.get(`${this.url}/item/tallyWorkWith?user=${t}&storer=${e}&suffix=${r}&item=${s}`)}getItemAdjustmentBySearch(t,e,r,s,n,u,h,I,g,A,c,C,T,$){return this.httpClient.get(`${this.url}/itemAdjustment/readBySearch?user=${t}&storer=${e}&item=${r}&type=${s}&lot1=${n}&lot2=${u}&lot3=${h}&building=${I}&floor=${g}&aisle=${A}&slot=${c}&year=${C}&month=${T}&date=${$}`)}getItemBySearch(t,e,r,s,n){return this.httpClient.get(`${this.url}/item/readBySearch?user=${t}&storer=${e}&suffix=${r}&item=${s}&description=${n}`)}getItemForTally(t,e,r,s,n,u,h){return this.httpClient.get(`${this.url}/item/read/new?user=${t}&storer=${e}&suffix=${r}&item=${s}&description=${n}&pageNum=${u}&recordsPerPage=${h}`)}getItemAdjustment(t,e){return this.httpClient.get(`${this.url}/itemAdjustment/read?user=${t}&storer=${e}`)}getItemAdjustmentInquiry(t,e,r=null,s=null,n=null,u=null,h=null,I=null,g=null,A=null,c=null,C=null){return this.httpClient.get(`${this.url}/itemAdjustment/itemAdjInquiryRead?user=${t}&transaction=${e}`)}itemCreate1(t,e,r,s,n,u,h,I,g,A,c,C,T,$){return this.httpClient.post(`${this.url}/item/create1`,{storeNumber:t,suffix:e,item:r,itemDescription1:s,itemDescription2:n,itemUpcCode:u,itemUpcTailCode:h,manufacturerProdCode:I,quickItem:g,lottedItem:A,lotUnitWeight:c,lotSortMask:C,primSortMaskPointer:T,prevItem:$}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}itemCreate2(t,e,r,s,n,u,h,I,g,A,c,C,T,$,y,Z,w,N,E,R,K){return this.httpClient.put(`${this.url}/item/create2`,{storeNumber:t,suffix:e,item:r,unitGrossWeight:s,unitWeightType:n,casesPerTier:u,tiersPerPallet:h,unitSquareFeet:I,unitCubeFeet:g,unitInchesHigh:A,unitInchesWide:c,unitInchesDeep:C,unitOfMeasure1:T,unitOfMeasure2:$,qtyPer2UnitOfMultiplier:y,unitOfMeasure3:Z,qtyPer3UnitOfMultiplier:w,unitOfMeasure4:N,qtyPer4UnitOfMultiplier:E,inventoryUnit:R,shippingUnit:K}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}itemCreate3(t,e,r,s,n,u,h,I,g,A,c,C,T,$,y,Z,w){return this.httpClient.put(`${this.url}/item/create3`,{storeNumber:t,suffix:e,item:r,domesticSurface:s,domesticAir:n,internationalSurface:u,internationalAir:h,matHandlingCode1:I,matHandlingCode2:g,matHandlingCode3:A,warehouseZone:c,bmtCode:C,palletsHigh:T,palletsDeep:$,lowStockPoint:y,prefferedLocation:Z,pickLine:w}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}itemCreate4(t,e,r,s,n,u,h,I,g,A,c,C,T,$,y,Z,w,N,E){return this.httpClient.put(`${this.url}/item/create4`,{storeNumber:t,suffix:e,item:r,rcvStageRate:s,rcvStageBase:n,rcvStorageMin:u,rcrStorageRate:h,rcrStorageBase:I,rcrStorageMin:g,regHandlingRate:A,regHandlingBase:c,regHandlingMin:C,distHandlingRate:T,distHandlingBase:$,distHandlingMin:y,altHandlingRate:Z,altHandlingBase:w,altHandlingMin:N,insLiabilityAmount:E}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}itemCreate5(t){return this.httpClient.put(`${this.url}/item/create5`,t).pipe((0,a.X)(1),(0,f.K)(this.httpError))}itemServiceUpdate1(t,e,r,s,n,u,h,I,g,A,c,C,T,$){return this.httpClient.put(`${this.url}/item/update1`,{storeNumber:t,suffix:e,item:r,itemDescription1:s,itemDescription2:n,itemUpcCode:u,itemUpcTailCode:h,manufacturerProdCode:I,quickItem:g,lottedItem:A,lotUnitWeight:c,lotSortMask:C,primSortMaskPointer:T,prevItem:$}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}itemServiceUpdate2(t,e,r,s,n,u,h,I,g,A,c,C,T,$,y,Z,w,N,E,R,K){return this.httpClient.put(`${this.url}/item/update2`,{storeNumber:t,suffix:e,item:r,unitGrossWeight:s,unitWeightType:n,casesPerTier:u,tiersPerPallet:h,unitSquareFeet:I,unitCubeFeet:g,unitInchesHigh:A,unitInchesWide:c,unitInchesDeep:C,unitOfMeasure1:T,unitOfMeasure2:$,qtyPer2UnitOfMultiplier:y,unitOfMeasure3:Z,qtyPer3UnitOfMultiplier:w,unitOfMeasure4:N,qtyPer4UnitOfMultiplier:E,inventoryUnit:R,shippingUnit:K}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}itemServiceUpdate3(t,e,r,s,n,u,h,I,g,A,c,C,T,$,y,Z,w){return this.httpClient.put(`${this.url}/item/update3`,{storeNumber:t,suffix:e,item:r,domesticSurface:s,domesticAir:n,internationalSurface:u,internationalAir:h,matHandlingCode1:I,matHandlingCode2:g,matHandlingCode3:A,warehouseZone:c,bmtCode:C,palletsHigh:T,palletsDeep:$,lowStockPoint:y,prefferedLocation:Z,PickLine:w}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}itemServiceUpdate4(t,e,r,s,n,u,h,I,g,A,c,C,T,$,y,Z,w,N,E){return this.httpClient.put(`${this.url}/item/update4`,{storeNumber:t,suffix:e,item:r,rcvStageRate:s,rcvStageBase:n,rcvStorageMin:u,rcrStorageRate:h,rcrStorageBase:I,rcrStorageMin:g,regHandlingRate:A,regHandlingBase:c,regHandlingMin:C,distHandlingRate:T,distHandlingBase:$,distHandlingMin:y,altHandlingRate:Z,altHandlingBase:w,altHandlingMin:N,insLiabilityAmount:E}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}itemServiceUpdate5(t){return this.httpClient.put(`${this.url}/item/update5`,t).pipe((0,a.X)(1),(0,f.K)(this.httpError))}getImageByItemCode(t){return this.httpClient.get(`${this.url}/item/image/${t}`,{responseType:"blob"})}deleteItem(t,e,r){return this.httpClient.delete(`${this.url}/item/delete?storeNumber=${t}&suffix=${e}&item=${r}`)}itemRebalanceService(t,e,r){return this.httpClient.put(this.url+"/item/itemRebalance",{storer:t,suffix:e,item:r}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}getItemXRef(t,e,r,s){return this.httpClient.get(`${this.url}/itemXreference/read?user=${t}&storer=${e}&suffix=${r}&itemCode=${s}`)}createItemXref(t,e,r,s,n,u,h){return this.httpClient.post(this.url+"/itemXreference/create",{user:t,acdl:e,storer:r,suffix:s,itemXcode:n,itemCode:u,itemXupc:h}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}updateItemXref(t,e,r,s,n,u,h){return this.httpClient.put(this.url+"/itemXreference/update",{user:t,acdl:e,storer:r,suffix:s,itemXcode:n,itemCode:u,itemXupc:h}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}deleteItemXref(t,e,r,s){return this.httpClient.delete(`${this.url}/itemXreference/delete?user=${t}&storer=${e}&suffix=${r}&itemCode=${s}`)}readItemLotService(t,e,r,s,n,u,h){return this.httpClient.get(`${this.url}/item/readItemLots?user=${t}&storer=${e}&suffix=${r}&item=${s}&lot1=${n}&lot2=${u}&lot3=${h}`)}updateItemLotsService(t,e,r,s,n,u,h,I,g,A,c){return this.httpClient.put(`${this.url}/item/updateItemLots`,{user:t,storer:e,suffix:r,item:s,lot1:n,lot2:u,lot3:h,lotUnitWeight:I,lotFirstRecieved:g,lotLastShipped:A,status:c}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}setLastUsed(t,e,r,s,n,u){return this.httpClient.put(this.url+"/item/setLastUsed",{storer:t,suffix:e,item:r,lot1:s,lot2:n,lot3:u}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}deleteItemLotsService(t,e,r,s,n,u,h){return this.httpClient.delete(`${this.url}/item/deleteItemLots?user=${t}&storer=${e}&suffix=${r}&item=${s}&lot1=${n}&lot2=${u}&lot3=${h}`)}deleteItemAdjustment(t){return this.httpClient.delete(`${this.url}/itemAdjustment/delete?TransacNum=${t}`)}readItemCommentService(t,e,r,s){return this.httpClient.get(`${this.url}/item/comments/read?user=${t}&storerAndItem=${e}&subType=${r}&sequence=${s}`).pipe((0,a.X)(1),(0,f.K)(this.httpError))}createItemCommentService(t,e,r,s,n){return this.httpClient.post(`${this.url}/item/comments/create`,{storerAndItem:t,subType:e,sequence:r,comment:s,user:n}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}updateItemCommentService(t,e,r,s,n){return this.httpClient.put(`${this.url}/item/comments/update`,{storerAndItem:t,subType:e,sequence:r,comment:s,user:n}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}deleteItemCommentService(t,e,r,s){return this.httpClient.delete(`${this.url}/item/comments/delete?user=${t}&storerAndItem=${e}&subType=${r}&sequence=${s}`).pipe((0,a.X)(1),(0,f.K)(this.httpError))}itemStockActivityReadService(t,e,r,s){return this.httpClient.get(`${this.url}/item/stockActivity?user=${t}&storer=${e}&suffix=${r}&item=${s}`)}itemOrdersReadService(t,e,r,s,n){return this.httpClient.get(`${this.url}/item/itemOrders?user=${t}&storer=${e}&suffix=${r}&item=${s}&status=${n}`)}readItemTallyInquiryService(t,e){return this.httpClient.get(`${this.url}/item/itemTallyInquiry?user=${t}&tally=${e}`)}readItemTallyWrInquiryService(t,e){return this.httpClient.get(`${this.url}/item/itemTallyWrInquiry?user=${t}&tally=${e}`)}BucketXRefUpdate(t,e,r,s,n,u,h,I,g,A,c){return this.httpClient.put(`${this.url}/item/BucketXRefUpdate`,{Storer:t,Suffix:e,Item:r,Lotcode1:s,Lotcode2:n,Lotcode3:u,From:h,To:I,Reason:g,Comment:A,Filename:c}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}getAllBucketError(t,e){return this.httpClient.get(`${this.url}/item/getAllBucketError?user=${t}&Filename=${e}`)}deactivateItem(t,e,r){return this.httpClient.put(this.url+"/item/deactivate",{storer:t,suffix:e,item:r}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}activateItem(t,e,r){return this.httpClient.put(this.url+"/item/activate",{storer:t,suffix:e,item:r}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}recalculateTransit(t,e,r,s){return this.httpClient.put(this.url+"/item/recalculateTransit",{storer:t,suffix:e,item:r,quantity:s}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}pickInquiry(t,e,r,s,n,u){return this.httpClient.get(`${this.url}/item/pickInquiry?user=${t}&storer=${e}&suffix=${r}&item=${s}&recordsPerPage=${n}&pageNo=${u}`)}maintainWeight(t,e,r,s,n,u,h,I,g,A,c,C,T,$,y,Z,w,N,E,R,K){return this.httpClient.put(`${this.url}/item/update2`,{storeNumber:t,suffix:e,item:r,unitGrossWeight:s,unitWeightType:n,casesPerTier:u,tiersPerPallet:h,unitSquareFeet:I,unitCubeFeet:g,unitInchesHigh:A,unitInchesWide:c,unitInchesDeep:C,unitOfMeasure1:T,unitOfMeasure2:$,qtyPer2UnitOfMultiplier:y,unitOfMeasure3:Z,qtyPer3UnitOfMultiplier:w,unitOfMeasure4:N,qtyPer4UnitOfMultiplier:E,inventoryUnit:R,shippingUnit:K}).pipe((0,a.X)(1),(0,f.K)(this.httpError))}httpError(t){let e="";return e=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,console.log(e),(0,X._)(()=>new Error(e))}}return v.\u0275fac=function(t){return new(t||v)(_.LFG(W.eN))},v.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},52889:(Y,J,l)=>{l.r(J),l.d(J,{WwItemAttributesComponent:()=>Q});var W=l(98739),p=l(7155),a=l(24006),f=l(65412),X=l(35226),M=l.n(X),_=l(70879),D=l(48529),v=l(86385),O=l(69501),t=l(94650),e=l(67445),r=l(10573),s=l(11240),n=l(19132),u=l(36895),h=l(97392),I=l(4859),g=l(59549),A=l(44144),c=l(73546),C=l(39505);function T(m,S){if(1&m){const i=t.EpF();t.TgZ(0,"div")(1,"mat-form-field",8)(2,"mat-label"),t._uU(3,"Storer Number"),t.qZA(),t.TgZ(4,"input",17),t.NdJ("focus",function(){t.CHM(i);const d=t.oxw();return t.KtG(d.toggleDropdown())})("change",function(d){t.CHM(i);const b=t.oxw();return t.KtG(b.onValueChange(d))}),t.qZA()()()}}function $(m,S){if(1&m){const i=t.EpF();t.TgZ(0,"div",18)(1,"app-dropdown",19),t.NdJ("selectionChange",function(d){t.CHM(i);const b=t.oxw();return t.KtG(b.onValueChange(d))}),t.qZA()()}if(2&m){const i=t.oxw();t.xp6(1),t.Q6J("options",i.storerOptions)("valueControlName",i.StorerNumberControlName)("isRequired",!0)}}let y=(()=>{class m{constructor(i,o,d,b,U,x,j){this.anyvariable=i,this.dialogRef=o,this.ItemAttributes=d,this.IitemService=b,this.iStorService=U,this.fb=x,this.router=j,this.user=localStorage.getItem("userName")||"",this.dropdownControl=new a.NI,this.update=!1,this.selectedAttribute="",this.isDropdownClicked=!1,this.showDropdown=!1,this.valueChanged=!1,this.displayOptions=[],this.itemOptions=[],this.updatedItemOptions=[],this.storerOptions=[],this.createUrl="/main-nav/item-attributes/read",this.dropdownControl.valueChanges.subscribe(H=>{this.onValueChange(H)})}ngOnInit(){this.selectedAttribute=this.anyvariable.WKSTOR,this.form=this.fb.group({IASTOR:this.selectedAttribute,IAITEM:this.anyvariable.WKITEM,IANTYP:["",a.kI.required],IANUMB:["",[a.kI.required,a.kI.maxLength(40)]]}),this.fetchStorer(),this.fetchNumberTypes(),this.fetchItems(this.anyvariable.WKSTOR),document.addEventListener("click",this.onDocumentClick.bind(this))}toggleDropdown(){this.showDropdown=!0}get StorerNumberControlName(){return this.form.controls.IASTOR}onValueChange(i){this.valueChanged=!0,this.fetchItems(i),this.showDropdown=!1}fetchNumberTypes(){this.ItemAttributes.getNumberTypes().subscribe(i=>{this.result=i;for(const o of this.result)this.displayOptions.push(o.NTNTYP)})}fetchItems(i){this.itemOptions=[],this.ItemAttributes.getItems(i).subscribe(o=>{this.result=o;for(const d of this.result)this.itemOptions.push(d.ITEM)})}updateItemOptions(i){this.ItemAttributes.getItems(i).subscribe(o=>{this.result=o;for(const d of this.result)this.updatedItemOptions.push(d.ITEM)})}fetchStorer(){this.ItemAttributes.getStorers().subscribe(i=>{this.storerOptions=i.map(o=>({value:o.STORE,description:o.STORE}))})}onDocumentClick(i){const o=i.target instanceof HTMLElement&&(i.target.closest("mat-form-field")||i.target.closest("app-dropdown")),d=i.target instanceof HTMLElement&&i.target.closest(".buttons.addButton.new-tally-form-btn");!o&&!d&&!this.valueChanged&&(this.StorerNumberControlName.setValue(this.selectedAttribute),this.showDropdown=!1),this.isDropdownClicked=!1,this.valueChanged=!1}addItemAttributes(){var i=this.form.value;this.ItemAttributes.createItemAttributes(this.user,i.IASTOR,"",i.IAITEM,i.IANTYP,i.IANUMB).subscribe(o=>{const b=JSON.parse(o[0].data[o[0].data.length-1].value).returnedData.message;b.toUpperCase()===D.R.createMsg.toUpperCase()?(this.successMessage(b),this.closeDialog(),this.router.navigateByUrl(this.createUrl,{state:this.anyvariable})):this.failureMessage(b)})}successMessage(i){M().fire(i,"","success")}failureMessage(i){M().fire(i,"","error")}closeDialog(){this.dialogRef.close()}}return m.\u0275fac=function(i){return new(i||m)(t.Y36(f.WI),t.Y36(f.so),t.Y36(e.Z),t.Y36(r.a),t.Y36(s.h),t.Y36(a.qu),t.Y36(n.F0))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-ww-item-attributes-create"]],standalone:!0,features:[t.jDz],decls:28,vars:6,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","IASTOR"],[4,"ngIf"],["tabindex","0",4,"ngIf"],["formControlName","IAITEM","label","Item Code*","appearance","outline","required","",1,"full-width2",3,"options"],["formControlName","IANTYP","label","Number Type*","appearance","outline","required","",1,"full-width2",3,"options"],["appearance","outline",1,"full-width2"],["matInput","","formControlName","IANUMB"],["mat-raised-button","",1,"buttons","addButton",3,"disabled","click"],["required","","matInput","","formControlName","IASTOR",3,"focus","change"],["tabindex","0"],["appearance","outline","label","Storer Number","placeholder","Search or Enter Storer",3,"options","valueControlName","isRequired","selectionChange"]],template:function(i,o){1&i&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Item Attributes"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14," Storer "),t.qZA(),t._UZ(15,"input",9),t.qZA(),t._uU(16," --\x3e "),t.YNc(17,T,5,0,"div",10),t.YNc(18,$,2,3,"div",11),t._UZ(19,"custom-input-autocomplete",12)(20,"custom-input-autocomplete",13)(21,"br"),t.TgZ(22,"mat-form-field",14)(23,"mat-label"),t._uU(24,"Number"),t.qZA(),t._UZ(25,"input",15),t.qZA()()(),t.TgZ(26,"button",16),t.NdJ("click",function(){return o.addItemAttributes()}),t._uU(27," Add "),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("formGroup",o.form),t.xp6(8),t.Q6J("ngIf",!o.showDropdown),t.xp6(1),t.Q6J("ngIf",o.showDropdown),t.xp6(1),t.Q6J("options",o.itemOptions),t.xp6(1),t.Q6J("options",o.displayOptions),t.xp6(6),t.Q6J("disabled",!o.form.valid))},dependencies:[_.m,u.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,h.Hw,I.lW,g.KE,g.hX,A.Nt,c.a8,c.dk,c.dn,c.n5,v.j,C.L,O.J]}),m})(),Z=(()=>{class m{constructor(i,o,d,b,U){this.anyvariable=i,this.dialogRef=o,this.fb=d,this.ItemAttributes=b,this.router=U,this.user=localStorage.getItem("userName")||"",this.updateUrl="/main-nav/item-attributes/read"}ngOnDestroy(){this.Subscription&&this.Subscription.unsubscribe()}ngOnInit(){this.form=this.fb.group({IASTOR:{value:this.anyvariable[0].WKSTOR,disabled:!0},IAITEM:{value:this.anyvariable[0].WKITEM,disabled:!0},IANTYP:{value:this.anyvariable[1].IANTYP,disabled:!0},IANUMB:[this.anyvariable[1].IANUMB,a.kI.maxLength(40)]})}updateItemAttributes(){var i=this.form.value;this.Subscription&&this.Subscription.unsubscribe(),this.Subscription=this.ItemAttributes.updateItemAttributes(this.user,this.anyvariable[0].WKSTOR,this.anyvariable[0].WKSSFX,this.anyvariable[0].WKITEM,this.anyvariable[1].IANTYP,i.IANUMB).subscribe(o=>{const b=JSON.parse(o[0].data[o[0].data.length-1].value).returnedData.message;b.toUpperCase()===D.R.updateMsg.toUpperCase()?(this.successMessage(b),this.closeDialog(),this.router.navigateByUrl(this.updateUrl,{state:this.anyvariable[0]})):this.failureMessage(b)})}successMessage(i){M().fire(i,"","success")}failureMessage(i){M().fire(i,"","error")}closeDialog(){this.dialogRef.close()}}return m.\u0275fac=function(i){return new(i||m)(t.Y36(f.WI),t.Y36(f.so),t.Y36(a.qu),t.Y36(e.Z),t.Y36(n.F0))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-ww-item-attributes-update"]],standalone:!0,features:[t.jDz],decls:30,vars:2,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width2"],["matInput","","formControlName","IASTOR"],["matInput","","formControlName","IAITEM"],["matInput","","formControlName","IANTYP"],["required","","matInput","","formControlName","IANUMB"],["mat-raised-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(i,o){1&i&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Item Attributes"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14," Storer "),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"Item Code"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field",8)(21,"mat-label"),t._uU(22," Number Type "),t.qZA(),t._UZ(23,"input",11),t.qZA(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26,"Number"),t.qZA(),t._UZ(27,"input",12),t.qZA()()(),t.TgZ(28,"button",13),t.NdJ("click",function(){return o.updateItemAttributes()}),t._uU(29," Update "),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("formGroup",o.form),t.xp6(19),t.Q6J("disabled",!(o.form.valid&&o.form.dirty)))},dependencies:[_.m,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,h.Hw,I.lW,g.KE,g.hX,A.Nt,c.a8,c.dk,c.dn,c.n5]}),m})();var w=l(11790),N=l(10266);function E(m,S){1&m&&(t.TgZ(0,"th",23),t._uU(1,"Attribute"),t.qZA())}function R(m,S){if(1&m&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&m){const i=S.$implicit;t.xp6(1),t.Oqu(i.NTDESC)}}function K(m,S){1&m&&(t.TgZ(0,"th",23),t._uU(1,"Value"),t.qZA())}function B(m,S){if(1&m&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&m){const i=S.$implicit;t.xp6(1),t.Oqu(i.IANUMB)}}function L(m,S){1&m&&t._UZ(0,"th",25)}function k(m,S){if(1&m){const i=t.EpF();t.TgZ(0,"td",24)(1,"div",26)(2,"button",27)(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"ul",28)(6,"li")(7,"button",29),t.NdJ("click",function(){const b=t.CHM(i).$implicit,U=t.oxw();return t.KtG(U.update(b))}),t.TgZ(8,"mat-icon",30),t._uU(9,"edit"),t.qZA(),t.TgZ(10,"mat-label"),t._uU(11,"Edit"),t.qZA()()(),t.TgZ(12,"li")(13,"button",29),t.NdJ("click",function(){const b=t.CHM(i).$implicit,U=t.oxw();return t.KtG(U.deleteItemAttributes(b))}),t.TgZ(14,"mat-icon",31),t._uU(15,"delete"),t.qZA(),t.TgZ(16,"mat-label"),t._uU(17,"Delete"),t.qZA()()()()()()}}function q(m,S){1&m&&t._UZ(0,"tr",32)}function F(m,S){1&m&&t._UZ(0,"tr",33)}const P=function(){return[8,16,24]};let Q=(()=>{class m{constructor(i,o,d,b,U,x){this.ItemAttributes=i,this.fb=o,this.router=d,this.route=b,this.matDialog=U,this.CustomAlertService=x,this.displayedColumns=["Attribute","Value","Actions"],this.dataSource=new p.by,this.totalRecords=0,this.searchTextDisplay=!1,this.user=localStorage.getItem("userName")||"",this.ItemBaseUrl="/main-nav/item/read",this.pageSize=8}ngOnInit(){this.element=history.state,this.form=this.fb.group({IASTOR:{value:this.element.WKSTOR,disabled:!0},IAITEM:{value:this.element.WKITEM,disabled:!0}}),this.getItemAttributes()}ngOnDestroy(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe()}getItemAttributes(i,o){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe(),this.getAll2Subscription=this.ItemAttributes.getItemAttributes(this.user,this.element.WKSTOR,this.element.WKSSFX,this.element.WKITEM,i,o).subscribe(d=>{var b=JSON.parse(d[0].data[1]?.value);this.dataSource.data=b.returnedData,this.totalRecords=b.TotalRecords})}addItemAttributes(){this.matDialog.open(y,{width:"1000px",maxHeight:"80vh",autoFocus:!1,data:this.element})}update(i){this.matDialog.open(Z,{width:"1000px",maxHeight:"80vh",data:[this.element,i],autoFocus:!1})}deleteItemAttributes(i){this.CustomAlertService.openCustomAlert("Are you sure want to delete this Item Code: "+i.IANTYP+"?").afterClosed().subscribe(d=>{d&&(this.getAll2Subscription&&this.getAll2Subscription.unsubscribe(),this.getAll2Subscription=this.ItemAttributes.deleteItemAttributes(this.user,this.element.WKSTOR,this.element.WKSSFX,this.element.WKITEM,i.IANTYP).subscribe(b=>{const x=JSON.parse(b[0].data[b[0].data.length-1].value).returnedData.message;x.toUpperCase()===D.R.deleteMsg.toUpperCase()?(this.successMessage(x),this.getItemAttributes()):this.failureMessage(x)}))})}successMessage(i){M().fire(i,"","success")}failureMessage(i){M().fire(i,"","error")}onBack(){this.router.navigate([this.ItemBaseUrl])}onPaginateChange(i){this.pageSize=i.pageSize,this.getItemAttributes(i.pageSize,i.pageIndex+1)}}return m.\u0275fac=function(i){return new(i||m)(t.Y36(e.Z),t.Y36(a.qu),t.Y36(n.F0),t.Y36(n.gz),t.Y36(f.uw),t.Y36(w.y))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-ww-item-attributes"]],viewQuery:function(i,o){if(1&i&&t.Gf(W.NW,5),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first)}},standalone:!0,features:[t.jDz],decls:37,vars:8,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"buttons"],["mat-button","","matTooltip","Add New Item Attributes",1,"addButton",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","IASTOR"],["matInput","","formControlName","IAITEM"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Attribute"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Value"],["matColumnDef","Actions"],["mat-header-cell","","class","tally_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"tally_actions_sec"],[1,"dropdown","more_options_btn"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],["mat-icon-button","","color","warn"],["mat-header-row",""],["mat-row",""]],template:function(i,o){1&i&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return o.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6," Work With Item Attributes"),t.qZA(),t.TgZ(7,"div",3)(8,"button",4),t.NdJ("click",function(){return o.addItemAttributes()}),t.TgZ(9,"mat-icon"),t._uU(10,"add"),t.qZA()()()(),t.TgZ(11,"mat-card-content",5)(12,"form",6)(13,"div",7)(14,"div",8)(15,"mat-form-field",9)(16,"mat-label"),t._uU(17,"Storer"),t.qZA(),t._UZ(18,"input",10),t.qZA(),t.TgZ(19,"mat-form-field",9)(20,"mat-label"),t._uU(21,"Item"),t.qZA(),t._UZ(22,"input",11),t.qZA()()()()(),t.TgZ(23,"table",12),t.ynx(24,13),t.YNc(25,E,2,0,"th",14),t.YNc(26,R,2,1,"td",15),t.BQk(),t.ynx(27,16),t.YNc(28,K,2,0,"th",14),t.YNc(29,B,2,1,"td",15),t.BQk(),t.ynx(30,17),t.YNc(31,L,1,0,"th",18),t.YNc(32,k,18,0,"td",15),t.BQk(),t.YNc(33,q,1,0,"tr",19),t.YNc(34,F,1,0,"tr",20),t.qZA(),t.TgZ(35,"mat-paginator",21,22),t.NdJ("page",function(b){return o.onPaginateChange(b)}),t.qZA()()),2&i&&(t.xp6(12),t.Q6J("formGroup",o.form),t.xp6(11),t.Q6J("dataSource",o.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("length",o.totalRecords)("pageSizeOptions",t.DdM(7,P))("pageSize",o.pageSize))},dependencies:[_.m,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,W.NW,h.Hw,I.lW,g.KE,g.hX,A.Nt,c.a8,c.dk,c.dn,c.n5,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,N.gM]}),m})()}}]);