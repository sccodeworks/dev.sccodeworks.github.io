"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[91403,11790,38754,85645,62313,34894],{34894:(E,k,n)=>{n.d(k,{e:()=>Z});var f=n(94650),s=n(24006);let Z=(()=>{class i{constructor(l,p){this.el=l,this.control=p}onInputChange(l){const p=this.el.nativeElement,T=p.value.toUpperCase();p.value=T,this.control&&this.control.control&&this.control.control.setValue(T,{emitEvent:!1})}}return i.\u0275fac=function(l){return new(l||i)(f.Y36(f.SBq),f.Y36(s.a5))},i.\u0275dir=f.lG2({type:i,selectors:[["","appUppercase",""]],hostBindings:function(l,p){1&l&&f.NdJ("input",function(t){return p.onInputChange(t)})},standalone:!0}),i})()},11790:(E,k,n)=>{n.d(k,{y:()=>l});var f=n(65412),s=n(94650),Z=n(97392),i=n(4859);let A=(()=>{class p{constructor(t,W){this.dialogRef=t,this.data=W}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return p.\u0275fac=function(t){return new(t||p)(s.Y36(f.so),s.Y36(f.WI))},p.\u0275cmp=s.Xpm({type:p,selectors:[["app-alert-dialog"]],decls:10,vars:3,consts:[[1,"confirm-dialog-container"],[1,"content-container"],["id","close-icon",3,"click"],[1,"content-span","full-width"],["mat-flat-button","","id","no-button",3,"mat-dialog-close"],["mat-flat-button","","id","yes-button",3,"mat-dialog-close"]],template:function(t,W){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),s.NdJ("click",function(){return W.closeDialog()}),s._uU(3,"close "),s.qZA(),s.TgZ(4,"span",3),s._uU(5),s.qZA()(),s.TgZ(6,"button",4),s._uU(7,"Cancel"),s.qZA(),s.TgZ(8,"button",5),s._uU(9,"Delete"),s.qZA()()),2&t&&(s.xp6(5),s.Oqu(W.data.message),s.xp6(1),s.Q6J("mat-dialog-close",!1),s.xp6(2),s.Q6J("mat-dialog-close",!0))},dependencies:[Z.Hw,i.lW,f.ZT]}),p})(),l=(()=>{class p{constructor(t){this.dialog=t}openCustomAlert(t){return this.dialog.open(A,{width:"450px",panelClass:"confirm-dialog-container",disableClose:!0,data:{message:t}})}}return p.\u0275fac=function(t){return new(t||p)(s.LFG(f.uw))},p.\u0275prov=s.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},39505:(E,k,n)=>{n.d(k,{L:()=>N});var f=n(24006),s=n(59549),Z=n(69751),i=n(68675),A=n(54004),l=n(94650),p=n(36895),T=n(47957),t=n(3238),W=n(44144);function R(S,U){if(1&S&&(l.TgZ(0,"mat-option",4),l._uU(1),l.qZA()),2&S){const m=U.$implicit;l.Q6J("value",m),l.xp6(1),l.Oqu(m)}}let N=(()=>{class S{constructor(m){this.fb=m,this.options=[],this.value="",this.placeholder="",this.id="",this.ngControl=null,this.label="",this.appearance="outline",this.describedBy="",this.touched=!1,this.focused=!1,this.empty=!1,this.required=!1,this.disabled=!1,this.shouldLabelFloat=!1,this.formControlName="",this.errorState=!1,this.previousValue="",this.onInput=g=>{},this.onChange=g=>{},this.onTouched=()=>{},this.control=this.fb.control(""),this.stateChanges=new Z.y,this.filteredOptions=this.control.valueChanges.pipe((0,i.O)(this.value),(0,A.U)(g=>this._filter(g)))}setDescribedByIds(m){}onContainerClick(m){}markAsTouched(){this.touched||(this.touched=!0,this.onTouched())}writeValue(m){null!=m&&(this.control.setValue(m),this.value=m)}registerOnChange(m){this.onChange=m}registerOnTouched(m){this.onTouched=m}setDisabledState(m){this.disabled=m}_filter(m){if(null==m||0==m.length)return this.options;const g=m.toLowerCase(),b=this.options.filter(D=>D.toLowerCase().includes(g));return!this.disabled&&1===b.length&&this.control.value!=b[0]&&m.length>=(this.previousValue?.length??0)&&this.control.setValue(b[0]),this.onChange(this.control.value),this.previousValue=this.control.value,b}}return S.\u0275fac=function(m){return new(m||S)(l.Y36(f.qu))},S.\u0275cmp=l.Xpm({type:S,selectors:[["custom-input-autocomplete"]],hostVars:1,hostBindings:function(m,g){2&m&&l.uIk("aria-describedby",g.describedBy)},inputs:{options:"options",value:"value",placeholder:"placeholder",id:"id",ngControl:"ngControl",label:"label",appearance:"appearance"},features:[l._Bn([{provide:f.JU,multi:!0,useExisting:S},{provide:s.Eo,useExisting:S}],[{provide:f.gN,useExisting:f.sg}])],decls:8,vars:9,consts:[[3,"appearance"],["matInput","",3,"id","placeholder","formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(m,g){if(1&m&&(l.TgZ(0,"mat-form-field",0)(1,"mat-label"),l._uU(2),l.qZA(),l._UZ(3,"input",1),l.TgZ(4,"mat-autocomplete",null,2),l.YNc(6,R,2,2,"mat-option",3),l.ALo(7,"async"),l.qZA()()),2&m){const b=l.MAs(5);l.Q6J("appearance",g.appearance),l.xp6(2),l.Oqu(g.label),l.xp6(1),l.Q6J("id",g.id)("placeholder",g.placeholder)("formControl",g.control)("matAutocomplete",b),l.xp6(3),l.Q6J("ngForOf",l.lcZ(7,7,g.filteredOptions))}},dependencies:[p.sg,f.Fj,f.JJ,f.oH,T.XC,T.ZL,t.ey,s.KE,s.hX,W.Nt,p.Ov]}),S})()},91403:(E,k,n)=>{n.r(k),n.d(k,{WwWorkScheduleComponent:()=>ht});var f=n(98739),s=n(7155),Z=n(70879),i=n(24006),A=n(35226),l=n.n(A),p=n(86385),T=n(48529),t=n(94650),W=n(80529),R=n(75625),N=n(70262),S=n(62843),U=n(92340);let m=(()=>{class o{constructor(e){this.httpClient=e,this.url=U.N.API_BASE_URL,this.httpHeader={headers:new W.WM({"Content-Type":"application/json"})}}getWorkSchedule(e,a,r,c,d,h){return this.httpClient.get(this.url+"/WorkSchedule/read",{params:{user:e,type:a??"",building:r??"",account:c??"",recordsPerPage:d??"",pageNo:h??""}})}createWorkSchedule(e,a,r,c,d,h,C,v){return this.httpClient.post(this.url+"/WorkSchedule/create",{user:e,type:a,building:r,account:c,dow:d,inout:h,start:C,end:v}).pipe((0,R.X)(1),(0,N.K)(this.httpError))}updateWorkSchedule(e,a,r,c,d,h,C,v,O){return this.httpClient.put(this.url+"/WorkSchedule/update",{user:e,type:a,building:r,account:c,dow:d,inout:h,startOld:C,start:v,end:O}).pipe((0,R.X)(1),(0,N.K)(this.httpError))}deleteWorkSchedule(e,a,r,c,d,h,C){return this.httpClient.delete(this.url+`/WorkSchedule/deleteWork?user=${e}&type=${a}&building=${r}&account=${c}&dow=${d}&subType=${h}&start=${C}`)}readErrors(e,a,r,c){return this.httpClient.get(this.url+"/WorkSchedule/read/Errors",{params:{user:e,appt:a??"",recordsPerPage:r??"",pageNo:c??""}})}httpError(e){let a="";return a=e.error instanceof ErrorEvent?e.error.message:`Error Code: ${e.status}\nMessage: ${e.message}`,console.log(a),(0,S._)(()=>new Error(a))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(W.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var g=n(65412),b=n(19132),D=n(97392),H=n(4859),y=n(59549),w=n(44144),x=n(84385),Y=n(3238),_=n(73546),B=n(34894),I=n(39505);let P=(()=>{class o{constructor(e,a,r,c){this.WorkSchedule=e,this.dialogRef=a,this.fb=r,this.router=c,this.types=["APPT","SHF1","SHF2","SHF3"],this.daysOfWeek=["1","2","3","4","5","6","7"],this.user=localStorage.getItem("userName")||"",this.createUrl="/main-nav/workSchedule/errors",this.readUrl="/main-nav/workSchedule/read"}ngOnInit(){this.form=this.fb.group({HRTYPE:["",i.kI.required],HRBLDG:["",[i.kI.pattern(/^[A-Za-z0-9 ]*$/),i.kI.maxLength(3)]],HRACCT:["",[i.kI.pattern(/^[A-Za-z0-9 ]*$/),i.kI.maxLength(10)]],HRDOW:["",i.kI.required],INOU:"",STRT:"",ENDT:""})}addWorkSchedule(){const e=this.form.value,a=e.STRT?.replace(":",""),r=e.ENDT?.replace(":","");this.workSubscription&&this.workSubscription.unsubscribe(),this.workSubscription=this.WorkSchedule.createWorkSchedule(this.user,e.HRTYPE,T.R.fullBuilding(e.HRBLDG),e.HRACCT,e.HRDOW,e.INOU,a,r).subscribe(c=>{const h=JSON.parse(c[0].data[c[0].data.length-1].value).returnedData,C=h.message;C.toUpperCase()===T.R.createMsg.toUpperCase()?"APPT"===e.HRTYPE?this.successMessage(C).then(()=>{this.failureMessage(h.message1).then(()=>{this.closeDialog(),this.router.navigate([this.createUrl])})}):(this.closeDialog(),this.router.navigate([this.readUrl]).then(()=>{this.successMessage(C)})):this.failureMessage(C)})}ngOnDestroy(){this.workSubscription&&this.workSubscription.unsubscribe()}successMessage(e){return l().fire(e,"","success")}failureMessage(e){return l().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m),t.Y36(g.so),t.Y36(i.qu),t.Y36(b.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-work-schedule-create"]],standalone:!0,features:[t.jDz],decls:43,vars:4,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline","formControlName","HRTYPE","label","Type Of Hours*",3,"options"],["appearance","outline",1,"full-width"],["matInput","","formControlName","HRBLDG","maxlength","3"],["matInput","","formControlName","HRACCT","appUppercase","","maxlength","10"],["appearance","outline","formControlName","HRDOW","label","Day Of The Week",3,"options"],["formControlName","INOU"],["value",""],["value","I"],["value","O"],["type","time","matInput","","formControlName","STRT"],["type","time","matInput","","formControlName","ENDT"],["mat-button","","mat-raised-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Hour Rules"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7),t._UZ(12,"custom-input-autocomplete",8),t.TgZ(13,"mat-form-field",9)(14,"mat-label"),t._uU(15,"Building Number"),t.qZA(),t._UZ(16,"input",10),t.qZA(),t.TgZ(17,"mat-form-field",9)(18,"mat-label"),t._uU(19,"Account Code"),t.qZA(),t._UZ(20,"input",11),t.qZA(),t._UZ(21,"custom-input-autocomplete",12),t.TgZ(22,"mat-form-field",9)(23,"mat-label"),t._uU(24,"In/Out"),t.qZA(),t.TgZ(25,"mat-select",13)(26,"mat-option",14),t._uU(27,"-- Select --"),t.qZA(),t.TgZ(28,"mat-option",15),t._uU(29,"INBOUND"),t.qZA(),t.TgZ(30,"mat-option",16),t._uU(31,"OUTBOUND"),t.qZA()()(),t._UZ(32,"br"),t.TgZ(33,"mat-form-field",9)(34,"mat-label"),t._uU(35,"Start Time"),t.qZA(),t._UZ(36,"input",17),t.qZA(),t.TgZ(37,"mat-form-field",9)(38,"mat-label"),t._uU(39," End Time "),t.qZA(),t._UZ(40,"input",18),t.qZA()()(),t.TgZ(41,"button",19),t.NdJ("click",function(){return a.addWorkSchedule()}),t._uU(42," Add "),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",a.form),t.xp6(3),t.Q6J("options",a.types),t.xp6(9),t.Q6J("options",a.daysOfWeek),t.xp6(20),t.Q6J("disabled",!(a.form.valid&&a.form.dirty)))},dependencies:[Z.m,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.sg,i.u,D.Hw,H.lW,y.KE,y.hX,w.Nt,x.gD,Y.ey,_.a8,_.dk,_.dn,_.n5,B.e,p.j,I.L]}),o})();var M=n(11790);let q=(()=>{class o{constructor(e,a,r,c,d,h){this.WorkSchedule=e,this.fb=a,this.anyvariable=r,this.router=c,this.CustomAlertService=d,this.dialogRef=h,this.user=localStorage.getItem("userName")||"",this.deleteUrl="/main-nav/workSchedule/errors"}ngOnInit(){console.log(this.anyvariable),this.form=this.fb.group({HRTYPE:this.anyvariable.HRTYPE,HRBLDG:this.anyvariable.HRBLDG,HRACCT:this.anyvariable.HRACCT,HRDOW:this.anyvariable.HRDOW+"\xa0"+this.anyvariable.WDAY,HRSBTP:this.anyvariable.HRSBTP,STRT:this.anyvariable.HRSTRT,ENDT:this.anyvariable.HRENDT}),this.form.disable()}deleteWorkSchedule(){const e=this.CustomAlertService.openCustomAlert("Are you sure you want to delete this Work Schedule?"),a=this.anyvariable.HRSTRT?.replace(":","");e.afterClosed().subscribe(r=>{r&&(this.workSubscription&&this.workSubscription.unsubscribe(),this.workSubscription=this.WorkSchedule.deleteWorkSchedule(this.user,this.anyvariable.HRTYPE,T.R.fullBuilding(this.anyvariable.HRBLDG),this.anyvariable.HRACCT,this.anyvariable.HRDOW,this.anyvariable.HRSBTP,a).subscribe(c=>{const h=JSON.parse(c[0].data[c[0].data.length-1].value).returnedData,C=h.message;C.toUpperCase()===T.R.deleteMsg.toUpperCase()?this.successMessage(C).then(()=>{"APPT"===this.anyvariable.HRTYPE?this.failureMessage(h.message1).then(()=>{this.closeDialog(),this.router.navigate([this.deleteUrl])}):(this.closeDialog(),this.router.navigate([this.deleteUrl]))}):this.failureMessage(C)}))})}ngOnDestroy(){this.workSubscription&&this.workSubscription.unsubscribe()}successMessage(e){return l().fire(e,"","success")}failureMessage(e){return l().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m),t.Y36(i.qu),t.Y36(g.WI),t.Y36(b.F0),t.Y36(M.y),t.Y36(g.so))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-work-schedule-delete"]],standalone:!0,features:[t.jDz],decls:42,vars:1,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","HRTYPE"],["matInput","","formControlName","HRBLDG"],["matInput","","formControlName","HRACCT"],["matInput","","formControlName","HRDOW"],["matInput","","formControlName","HRSBTP"],["matInput","","formControlName","STRT"],["matInput","","formControlName","ENDT"],["mat-button","",1,"buttons","removeButton",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Hour Rules"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"Type Of Hours"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"Building Number"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field",8)(21,"mat-label"),t._uU(22,"Account Code"),t.qZA(),t._UZ(23,"input",11),t.qZA(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26,"Day Of The Week"),t.qZA(),t._UZ(27,"input",12),t.qZA(),t.TgZ(28,"mat-form-field",8)(29,"mat-label"),t._uU(30,"Subtype of Hours"),t.qZA(),t._UZ(31,"input",13),t.qZA(),t.TgZ(32,"mat-form-field",8)(33,"mat-label"),t._uU(34,"Start Time"),t.qZA(),t._UZ(35,"input",14),t.qZA(),t.TgZ(36,"mat-form-field",8)(37,"mat-label"),t._uU(38," End Time "),t.qZA(),t._UZ(39,"input",15),t.qZA()()(),t.TgZ(40,"button",16),t.NdJ("click",function(){return a.deleteWorkSchedule()}),t._uU(41,"Delete"),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",a.form))},dependencies:[Z.m,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,D.Hw,H.lW,y.KE,y.hX,w.Nt,_.a8,_.dk,_.dn,_.n5]}),o})(),J=(()=>{class o{constructor(e,a,r,c,d){this.fb=e,this.WorkSchedule=a,this.router=r,this.anyvariable=c,this.dialogRef=d,this.user=localStorage.getItem("userName")||"",this.updateUrl="/main-nav/workSchedule/errors",this.readUrl="/main-nav/workSchedule/read"}ngOnInit(){this.form=this.fb.group({HRTYPE:{value:this.anyvariable.HRTYPE,disabled:!0},HRBLDG:{value:this.anyvariable.HRBLDG,disabled:!0},HRACCT:{value:this.anyvariable.HRACCT,disabled:!0},HRDOW:{value:this.anyvariable.HRDOW,disabled:!0},INOU:{value:this.anyvariable.HRSBTP,disabled:!0},STRT:this.anyvariable.HRSTRT,ENDT:this.anyvariable.HRENDT})}updateWorkSchedule(){var e=this.form.value;const a=this.anyvariable.HRSTRT?.replace(":","");this.workSubscription&&this.workSubscription.unsubscribe(),this.workSubscription=this.WorkSchedule.updateWorkSchedule(this.user,this.anyvariable.HRTYPE,T.R.fullBuilding(this.anyvariable.HRBLDG),this.anyvariable.HRACCT,this.anyvariable.HRDOW,this.anyvariable.HRSBTP,a,e.STRT?.replace(":",""),e.ENDT?.replace(":","")).subscribe(r=>{const d=JSON.parse(r[0].data[r[0].data.length-1].value).returnedData,h=d.message;h.toUpperCase()===T.R.updateMsg.toUpperCase()?this.successMessage(h).then(()=>{"APPT"===this.anyvariable.HRTYPE?this.failureMessage(d.message1).then(()=>{this.closeDialog(),this.router.navigate([this.updateUrl])}):(this.closeDialog(),this.router.navigate([this.readUrl]).then(()=>{this.successMessage(h)}))}):this.failureMessage(h)})}ngOnDestroy(){this.workSubscription&&this.workSubscription.unsubscribe()}successMessage(e){return l().fire(e,"","success")}failureMessage(e){return l().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(i.qu),t.Y36(m),t.Y36(b.F0),t.Y36(g.WI),t.Y36(g.so))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-work-schedule-update"]],standalone:!0,features:[t.jDz],decls:42,vars:2,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","HRTYPE"],["matInput","","formControlName","HRBLDG"],["matInput","","formControlName","HRACCT"],["matInput","","formControlName","HRDOW"],["matInput","","formControlName","INOU"],["type","time","matInput","","formControlName","STRT"],["type","time","matInput","","formControlName","ENDT"],["mat-button","","mat-raised-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Hour Rules"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"Type Of Hours"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"Building Number"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field",8)(21,"mat-label"),t._uU(22,"Account Code"),t.qZA(),t._UZ(23,"input",11),t.qZA(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26,"Day Of The Week"),t.qZA(),t._UZ(27,"input",12),t.qZA(),t.TgZ(28,"mat-form-field",8)(29,"mat-label"),t._uU(30,"In/Out"),t.qZA(),t._UZ(31,"input",13),t.qZA(),t.TgZ(32,"mat-form-field",8)(33,"mat-label"),t._uU(34,"Start Time"),t.qZA(),t._UZ(35,"input",14),t.qZA(),t.TgZ(36,"mat-form-field",8)(37,"mat-label"),t._uU(38," End Time "),t.qZA(),t._UZ(39,"input",15),t.qZA()()(),t.TgZ(40,"button",16),t.NdJ("click",function(){return a.updateWorkSchedule()}),t._uU(41," Update "),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",a.form),t.xp6(31),t.Q6J("disabled",!(a.form.valid&&a.form.dirty)))},dependencies:[Z.m,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,D.Hw,H.lW,y.KE,y.hX,w.Nt,_.a8,_.dk,_.dn,_.n5]}),o})();var F=n(36895),L=n(10266);function G(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.searchWorkSchedule())}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function Q(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.searchWorkSchedule())}),t.TgZ(1,"mat-icon"),t._uU(2,"search"),t.qZA()()}}function z(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"form",27),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.getBySearch(r.form.value))}),t.TgZ(1,"div",28)(2,"div",29),t._UZ(3,"custom-input-autocomplete",30),t.TgZ(4,"mat-form-field",31)(5,"mat-label"),t._uU(6,"Building"),t.qZA(),t._UZ(7,"input",32),t.qZA(),t.TgZ(8,"mat-form-field",31)(9,"mat-label"),t._uU(10,"Account Code"),t.qZA(),t._UZ(11,"input",33),t.qZA()()(),t.TgZ(12,"button",34),t._uU(13," Search "),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.form),t.xp6(3),t.Q6J("options",e.types)}}function K(o,u){1&o&&(t.TgZ(0,"th",35),t._uU(1," Type "),t.qZA())}function $(o,u){if(1&o&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&o){const e=u.$implicit;t.xp6(1),t.hij(" ",e.HRTYPE," ")}}function j(o,u){1&o&&(t.TgZ(0,"th",35),t._uU(1," Building "),t.qZA())}function X(o,u){if(1&o&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&o){const e=u.$implicit;t.xp6(1),t.Oqu(e.HRBLDG)}}function V(o,u){1&o&&(t.TgZ(0,"th",35),t._uU(1," Account "),t.qZA())}function tt(o,u){if(1&o&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&o){const e=u.$implicit;t.xp6(1),t.hij(" ",e.HRACCT," ")}}function et(o,u){1&o&&(t.TgZ(0,"th",35),t._uU(1," Day of the Week "),t.qZA())}function ot(o,u){if(1&o&&(t.TgZ(0,"td",36)(1,"div",37)(2,"span",38),t._uU(3),t.qZA(),t.TgZ(4,"span",39),t._uU(5),t.qZA()()()),2&o){const e=u.$implicit;t.xp6(3),t.Oqu(e.HRDOW),t.xp6(2),t.Oqu(e.WDAY)}}function at(o,u){1&o&&(t.TgZ(0,"th",35),t._uU(1," Sub Type "),t.qZA())}function nt(o,u){if(1&o&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&o){const e=u.$implicit;t.xp6(1),t.hij(" ",e.HRSBTP," ")}}function rt(o,u){1&o&&(t.TgZ(0,"th",35),t._uU(1,"Start Time"),t.qZA())}function it(o,u){if(1&o&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&o){const e=u.$implicit;t.xp6(1),t.Oqu(e.HRSTRT)}}function lt(o,u){1&o&&(t.TgZ(0,"th",35),t._uU(1,"End Time"),t.qZA())}function st(o,u){if(1&o&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&o){const e=u.$implicit;t.xp6(1),t.Oqu(e.HRENDT)}}function ut(o,u){1&o&&t._UZ(0,"th",40)}function ct(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"td",36)(1,"div",41)(2,"button",42)(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"ul",43)(6,"li")(7,"button",44),t.NdJ("click",function(){const c=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.updateWorkSchedule(c))}),t.TgZ(8,"mat-icon",45),t._uU(9,"edit"),t.qZA(),t.TgZ(10,"mat-label"),t._uU(11,"Update"),t.qZA()()(),t.TgZ(12,"li")(13,"button",46),t.NdJ("click",function(){const c=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.deleteWorkSchedule(c))}),t.TgZ(14,"mat-icon",47),t._uU(15,"delete"),t.qZA(),t.TgZ(16,"mat-label"),t._uU(17,"Delete"),t.qZA()()()()()()}}function mt(o,u){1&o&&t._UZ(0,"tr",48)}function dt(o,u){1&o&&t._UZ(0,"tr",49)}const pt=function(){return[8,16,24]};let ht=(()=>{class o{constructor(e,a,r,c,d){this.WorkSchedule=e,this.fb=a,this.router=r,this.route=c,this.matDialog=d,this.displayedColumns=["type","Build","Account","DayOfTheWeek","Type","StartTime","EndTime","Actions"],this.searchTextDisplay=!1,this.dataSource=new s.by,this.user=localStorage.getItem("userName")||"",this.pageSize=8,this.totalRecords=0,this.pageNumber=1,this.currentFilters=null,this.types=["APPT","SHF1","SHF2","SHF3"]}ngOnInit(){this.form=this.fb.group({TYPE:"",BLDG:"",ACCT:""}),this.getWorkSchedule(this.pageSize,this.pageNumber),this.dataSource.filterPredicate=this.createFilter()}getWorkSchedule(e,a){const r=this.currentFilters||{},{TYPE:c="",BLDG:d="",ACCT:h=""}=r;this.workSubscription&&this.workSubscription.unsubscribe(),this.workSubscription=this.WorkSchedule.getWorkSchedule(this.user,c,T.R.fullBuilding(d),h,e,a).subscribe(C=>{var v=JSON.parse(C[0].data[1]?.value);this.dataSource.data=v.returnedData,this.totalRecords=v.TotalRecords})}onPaginateChange(e){this.pageSize=e.pageSize,this.getWorkSchedule(e.pageSize,e.pageIndex+1)}getBySearch(e){this.currentFilters=e,this.paginator.firstPage(),this.getWorkSchedule(this.pageSize,this.pageNumber)}resetSearch(){this.form.reset();const e=this.pageSize,a=this.pageNumber;this.currentFilters=null,this.paginator.firstPage(),this.getWorkSchedule(e,a)}ngOnDestroy(){this.workSubscription&&this.workSubscription.unsubscribe()}createFilter(){return(e,a)=>{const r=JSON.parse(a);return Object.keys(r).every(c=>e[c].toString().toLowerCase().includes(r[c].toLowerCase()))}}addWorkSchedule(){this.matDialog.open(P,{width:"1000px",maxHeight:"90vh",autoFocus:!1})}updateWorkSchedule(e){this.matDialog.open(J,{width:"1000px",maxHeight:"90vh",data:e,autoFocus:!1})}searchWorkSchedule(){this.searchTextDisplay=1!=this.searchTextDisplay}deleteWorkSchedule(e){this.matDialog.open(q,{width:"1000px",maxHeight:"90vh",data:e,autoFocus:!1})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m),t.Y36(i.qu),t.Y36(b.F0),t.Y36(b.gz),t.Y36(g.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ww-work-schedule"]],viewQuery:function(e,a){if(1&e&&t.Gf(f.NW,5),2&e){let r;t.iGM(r=t.CRH())&&(a.paginator=r.first)}},standalone:!0,features:[t.jDz],decls:44,vars:10,consts:[[1,"over-Flow"],[1,"title"],[1,"buttons"],["mat-button","","class","addButton",3,"click",4,"ngIf"],["mat-button","","class","addButton","matTooltip","Search Workflow process",3,"click",4,"ngIf"],["mat-button","","matTooltip","Add New Work Schedule",1,"addButton",3,"click"],["mat-button","","type","reset","value","Reset","matTooltip","Reset values",1,"addButton","buttons",3,"click"],[1,"tally-serach-form"],[3,"formGroup","ngSubmit",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Build"],["matColumnDef","Account"],["matColumnDef","DayOfTheWeek"],["matColumnDef","Type"],["matColumnDef","StartTime"],["matColumnDef","EndTime"],["matColumnDef","Actions"],["mat-header-cell","","class","tally_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-button","",1,"addButton",3,"click"],["mat-button","","matTooltip","Search Workflow process",1,"addButton",3,"click"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["appearance","outline","formControlName","TYPE","label","Type Of Hours",3,"options"],["appearance","outline",1,"full-width"],["matInput","","formControlName","BLDG","maxlength","3"],["matInput","","formControlName","ACCT","maxlength","10","appUppercase",""],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","tally-search-btn"],["mat-header-cell",""],["mat-cell",""],[1,"day-cell"],[1,"day-number"],[1,"day-text"],["mat-header-cell","",1,"tally_actions_sec"],[1,"dropdown","more_options_btn"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["mat-icon-button","",1,"dropdown-item",3,"click"],["mat-icon-button","","color","primary"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","warn"],["mat-header-row",""],["mat-row",""]],template:function(e,a){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t._uU(3," Work With Work Schedule "),t.qZA(),t.TgZ(4,"div",2),t.YNc(5,G,3,0,"button",3),t.YNc(6,Q,3,0,"button",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return a.addWorkSchedule()}),t.TgZ(8,"mat-icon"),t._uU(9,"add"),t.qZA()(),t.TgZ(10,"button",6),t.NdJ("click",function(){return a.resetSearch()}),t.TgZ(11,"mat-icon"),t._uU(12,"loop"),t.qZA()()()(),t.TgZ(13,"mat-card-content",7),t.YNc(14,z,14,2,"form",8),t.qZA(),t.TgZ(15,"table",9),t.ynx(16,10),t.YNc(17,K,2,0,"th",11),t.YNc(18,$,2,1,"td",12),t.BQk(),t.ynx(19,13),t.YNc(20,j,2,0,"th",11),t.YNc(21,X,2,1,"td",12),t.BQk(),t.ynx(22,14),t.YNc(23,V,2,0,"th",11),t.YNc(24,tt,2,1,"td",12),t.BQk(),t.ynx(25,15),t.YNc(26,et,2,0,"th",11),t.YNc(27,ot,6,2,"td",12),t.BQk(),t.ynx(28,16),t.YNc(29,at,2,0,"th",11),t.YNc(30,nt,2,1,"td",12),t.BQk(),t.ynx(31,17),t.YNc(32,rt,2,0,"th",11),t.YNc(33,it,2,1,"td",12),t.BQk(),t.ynx(34,18),t.YNc(35,lt,2,0,"th",11),t.YNc(36,st,2,1,"td",12),t.BQk(),t.ynx(37,19),t.YNc(38,ut,1,0,"th",20),t.YNc(39,ct,18,0,"td",12),t.BQk(),t.YNc(40,mt,1,0,"tr",21),t.YNc(41,dt,1,0,"tr",22),t.qZA(),t.TgZ(42,"mat-paginator",23,24),t.NdJ("page",function(c){return a.onPaginateChange(c)}),t.qZA()()),2&e&&(t.xp6(5),t.Q6J("ngIf",a.searchTextDisplay),t.xp6(1),t.Q6J("ngIf",!a.searchTextDisplay),t.xp6(8),t.Q6J("ngIf",a.searchTextDisplay),t.xp6(1),t.Q6J("dataSource",a.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(1),t.Q6J("length",a.totalRecords)("pageSizeOptions",t.DdM(9,pt))("pageSize",a.pageSize))},dependencies:[Z.m,F.O5,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.sg,i.u,f.NW,D.Hw,H.lW,y.KE,y.hX,w.Nt,_.a8,_.dk,_.dn,_.n5,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,L.gM,B.e,p.j,I.L],styles:[".day-cell[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap;font-family:inherit;font-size:inherit}.day-number[_ngcontent-%COMP%]{display:inline-block;width:25px;text-align:right;padding-right:4px}.day-text[_ngcontent-%COMP%]{display:inline-block;text-align:left}"]}),o})()}}]);