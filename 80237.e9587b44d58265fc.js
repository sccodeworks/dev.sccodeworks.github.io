"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[80237],{80237:(lt,h,l)=>{l.r(h),l.d(h,{WorkWithLoadDetailWorkWithLoadsComponent:()=>nt});var u=l(98739),f=l(89225),_=l(7155),L=l(17411),D=l(70879),t=l(94650),p=l(19132),d=l(24006),C=l(65412),T=l(24898),c=l(36895),k=l(97392),W=l(28255),Z=l(4859),g=l(59549),A=l(44144),m=l(73546),b=l(10266),x=l(90455);function O(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.searchLoadDetail())}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function N(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",39),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.searchLoadDetail())}),t.TgZ(1,"mat-icon"),t._uU(2,"search"),t.qZA()()}}function M(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",40)(2,"div",41)(3,"span",42),t.NdJ("click",function(n){return n.stopPropagation()}),t.TgZ(4,"mat-slide-toggle",43),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.isActive=n)})("change",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.toggleColumn(r))}),t._uU(5),t.qZA()()()(),t.BQk()}if(2&o){const e=i.$implicit;t.xp6(4),t.Q6J("ngModel",e.isActive),t.xp6(1),t.hij(" ",e.name," ")}}function U(o,i){if(1&o&&(t.TgZ(0,"form",44)(1,"div",40)(2,"div",45)(3,"mat-form-field",46)(4,"mat-label"),t._uU(5,"Load Number"),t.qZA(),t._UZ(6,"input",47),t.qZA(),t.TgZ(7,"mat-form-field",48)(8,"mat-label"),t._uU(9,"Description"),t.qZA(),t._UZ(10,"input",49),t.qZA(),t.TgZ(11,"mat-form-field",46)(12,"mat-label"),t._uU(13,"Ship Date"),t.qZA(),t._UZ(14,"input",50),t.qZA(),t.TgZ(15,"mat-form-field",46)(16,"mat-label"),t._uU(17,"Carrier"),t.qZA(),t._UZ(18,"input",51),t.qZA()()()()),2&o){const e=t.oxw();t.Q6J("formGroup",e.form)}}function E(o,i){1&o&&(t.TgZ(0,"th",52),t._uU(1,"B/L Number"),t.qZA())}function S(o,i){if(1&o&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.Oqu(e.OHBILL)}}function y(o,i){1&o&&(t.TgZ(0,"th",52),t._uU(1,"HM"),t.qZA())}function v(o,i){if(1&o&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.Oqu(e.OHHAZD)}}function B(o,i){1&o&&(t.TgZ(0,"th",52),t._uU(1,"Status"),t.qZA())}function w(o,i){if(1&o&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.Oqu(e.OHSTAT)}}function P(o,i){1&o&&(t.TgZ(0,"th",52),t._uU(1,"Stop"),t.qZA())}function H(o,i){if(1&o&&(t.TgZ(0,"td",53),t._uU(1),t.ALo(2,"number"),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.hij(" ",0!==e.OHMSEQ?t.xi3(2,1,e.OHMSEQ,"1.2-2"):""," ")}}function q(o,i){1&o&&(t.TgZ(0,"th",52),t._uU(1,"Consignee Name"),t.qZA())}function Y(o,i){if(1&o&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.Oqu(e.WNNAME)}}function R(o,i){1&o&&(t.TgZ(0,"th",52),t._uU(1,"Total Pieces"),t.qZA())}function I(o,i){if(1&o&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.hij(" ",e.OHHQTY," ")}}function Q(o,i){1&o&&(t.TgZ(0,"th",52),t._uU(1,"Cubes"),t.qZA())}function K(o,i){if(1&o&&(t.TgZ(0,"td",53),t._uU(1),t.ALo(2,"number"),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.hij(" ",0!==e.OHCBFT?t.xi3(2,1,e.OHCBFT,"1.2-2"):""," ")}}function J(o,i){1&o&&(t.TgZ(0,"th",52),t._uU(1,"Gross Weight"),t.qZA())}function F(o,i){if(1&o&&(t.TgZ(0,"td",53),t._uU(1),t.ALo(2,"number"),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.hij(" ",0!==e.OHGRSW?t.xi3(2,1,e.OHGRSW,"1.2-2"):""," ")}}function G(o,i){1&o&&(t.TgZ(0,"th",54),t._uU(1," Storer"),t.qZA())}function $(o,i){if(1&o&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.Oqu(e.WSTNAM)}}function z(o,i){1&o&&(t.TgZ(0,"th",54),t._uU(1,"ConsigneeCity"),t.qZA())}function j(o,i){if(1&o&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.Oqu(e.WNCTST)}}function X(o,i){1&o&&(t.TgZ(0,"th",54),t._uU(1,"Zone"),t.qZA())}function V(o,i){if(1&o&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.Oqu(e.OHZONE)}}function tt(o,i){1&o&&t._UZ(0,"th",55)}function ot(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"td",53)(1,"div",56)(2,"button",57)(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"ul",58)(6,"li")(7,"button",59),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.BillSynopsis(r))}),t.TgZ(8,"mat-icon",60),t._uU(9,"call_made"),t.qZA(),t.TgZ(10,"mat-label"),t._uU(11,"Bill Synopsis"),t.qZA()()(),t.TgZ(12,"li")(13,"button",59),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.SpecialCharge(r))}),t.TgZ(14,"mat-icon",60),t._uU(15,"call_made"),t.qZA(),t.TgZ(16,"mat-label"),t._uU(17,"Special Charge"),t.qZA()()(),t.TgZ(18,"li")(19,"button",59),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.OrderDetails(r))}),t.TgZ(20,"mat-icon",60),t._uU(21,"call_made"),t.qZA(),t.TgZ(22,"mat-label"),t._uU(23,"Order Details"),t.qZA()()()()()()}}function et(o,i){1&o&&t._UZ(0,"tr",61)}function it(o,i){1&o&&t._UZ(0,"tr",62)}const at=function(){return[8,16,24]};let nt=(()=>{class o{constructor(e,a,n,r,s){this.router=e,this.fb=a,this.route=n,this.matDialog=r,this.WorkWithLoadsService=s,this.Description="",this.ShipDate="",this.LoadNumber="",this.Carrier="",this.TotalPieces="",this.form=this.fb.group({LoadNumber:" ",Description:" ",ShipDate:" ",Carrier:" "}),this.displayedColumns=["BLNumber","HM","Status","Stop","ConsigneeName","TotalPieces","Cubes","GrossWeight","Actions"],this.searchTextDisplay=!1,this.columnShowHideList=[],this.editedRows=[],this.user=localStorage.getItem("userName")||"",this.dataSource=new _.by,this.pageSize=8,this.totalRecords=0,this.pageNumber=1}ngOnInit(){this.element=history.state,console.log(this.element),this.searchTextDisplay=!0,this.initializeColumnProperties(),this.editedRows=[],this.LoadDetail(this.pageSize,this.pageNumber)}ngOnDestroy(){this.getLoadDetailsSubscription&&this.getLoadDetailsSubscription.unsubscribe()}toggleColumn(e){if(e.isActive)this.displayedColumns.splice(e.position>this.displayedColumns.length-1?this.displayedColumns.length-1:e.position,0,e.name);else{let a=this.displayedColumns.indexOf(e.name);a>-1&&this.displayedColumns.splice(a,1)}}initializeColumnProperties(){this.displayedColumns.forEach((e,a)=>{"Actions"!=e&&this.columnShowHideList.push({position:a,name:e,isActive:!0})}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Storer",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"ConsigneeCity",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Zone",isActive:!1})}LoadDetail(e,a){this.getLoadDetailsSubscription&&this.getLoadDetailsSubscription.unsubscribe(),this.getLoadDetailsSubscription=this.WorkWithLoadsService.WwLoadDetails(this.user,this.element.OLLOAD,e,a).subscribe(n=>{var r=JSON.parse(n[0].data[1]?.value);this.dataSource.data=r.returnedData,this.totalRecords=r.TotalRecords,this.Description=r.Description,this.ShipDate=r.ShipDate,this.LoadNumber=r.LoadNumber,this.Carrier=r.Carrier,this.TotalPieces=r.TotalPieces,this.form.patchValue({LoadNumber:this.LoadNumber,Description:this.Description,ShipDate:this.ShipDate,Carrier:this.Carrier})})}onPaginateChange(e){this.pageSize=e.pageSize,this.LoadDetail(e.pageSize,e.pageIndex+1)}onBack(){this.router.navigate(["/main-nav/Loads/read"])}add(){this.matDialog.open(f.AddWorkWithLoadDetailWorkWithLoadsComponent,{width:"1000px",maxHeight:"80vh",autoFocus:!1})}BillSynopsis(e){this.matDialog.open(L.w,{width:"1000px",maxHeight:"80vh",data:e,autoFocus:!1})}SpecialCharge(e){this.router.navigate(["/main-nav/Loads/specialcharge"])}OrderDetails(e){this.router.navigate(["/main-nav/Loads/orderdetails"])}searchLoadDetail(){this.searchTextDisplay=1!=this.searchTextDisplay}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.F0),t.Y36(d.qu),t.Y36(p.gz),t.Y36(C.uw),t.Y36(T.G))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-work-with-load-detail-work-with-loads"]],viewQuery:function(e,a){if(1&e&&t.Gf(u.NW,5),2&e){let n;t.iGM(n=t.CRH())&&(a.paginator=n.first)}},standalone:!0,features:[t.jDz],decls:71,vars:13,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"buttons"],["mat-button","","class","addButton",3,"click",4,"ngIf"],["mat-button","","class","addButton","matTooltip","search LoadDetail",3,"click",4,"ngIf"],[1,"menu-container"],["mainMenuButton","matMenu"],[1,"grid-container"],[4,"ngFor","ngForOf"],["mat-button","","matTooltip","Hide/Show Columns",1,"mat-focus-indicator","addButton","mat-button","mat-button-base","tally-tooltip-btn",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],["mat-button","",1,"addButton",3,"click"],[1,"tally-serach-form"],["class","form over-Flow",3,"formGroup",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","BLNumber"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","HM"],["matColumnDef","Status"],["matColumnDef","Stop"],["matColumnDef","ConsigneeName"],["matColumnDef","TotalPieces"],["matColumnDef","Cubes"],["matColumnDef","GrossWeight"],["matColumnDef","Storer"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","ConsigneeCity"],["matColumnDef","Zone"],["matColumnDef","Actions"],["mat-header-cell","","class","pending_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"Content-page-both"],[1,"left-side"],[1,"buttons","button3"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-button","","matTooltip","search LoadDetail",1,"addButton",3,"click"],[1,"row"],[1,"grid-item"],[3,"click"],[2,"color","blue",3,"ngModel","ngModelChange","change"],[1,"form","over-Flow",3,"formGroup"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","LoadNumber","readonly",""],["appearance","outline",1,"full-width2"],["matInput","","formControlName","Description",2,"text-transform","uppercase"],["readonly","","matInput","","formControlName","ShipDate"],["matInput","","formControlName","Carrier","readonly",""],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-cell",""],["mat-header-cell","",1,"pending_actions_sec"],[1,"dropdown","more_options_btn"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],["mat-header-row",""],["mat-row",""]],template:function(e,a){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return a.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6,"Work With Load Detail"),t.qZA(),t.TgZ(7,"div",3),t.YNc(8,O,3,0,"button",4),t.YNc(9,N,3,0,"button",5),t.TgZ(10,"mat-menu",6,7)(12,"div",8),t.YNc(13,M,6,2,"ng-container",9),t.qZA()(),t.TgZ(14,"button",10,11)(16,"mat-icon"),t._uU(17,"visibility_off"),t.qZA()(),t.TgZ(18,"button",12),t.NdJ("click",function(){return a.add()}),t.TgZ(19,"mat-icon"),t._uU(20,"add"),t.qZA()()()(),t.TgZ(21,"mat-card-content",13),t.YNc(22,U,19,1,"form",14),t.qZA(),t.TgZ(23,"table",15),t.ynx(24,16),t.YNc(25,E,2,0,"th",17),t.YNc(26,S,2,1,"td",18),t.BQk(),t.ynx(27,19),t.YNc(28,y,2,0,"th",17),t.YNc(29,v,2,1,"td",18),t.BQk(),t.ynx(30,20),t.YNc(31,B,2,0,"th",17),t.YNc(32,w,2,1,"td",18),t.BQk(),t.ynx(33,21),t.YNc(34,P,2,0,"th",17),t.YNc(35,H,3,4,"td",18),t.BQk(),t.ynx(36,22),t.YNc(37,q,2,0,"th",17),t.YNc(38,Y,2,1,"td",18),t.BQk(),t.ynx(39,23),t.YNc(40,R,2,0,"th",17),t.YNc(41,I,2,1,"td",18),t.BQk(),t.ynx(42,24),t.YNc(43,Q,2,0,"th",17),t.YNc(44,K,3,4,"td",18),t.BQk(),t.ynx(45,25),t.YNc(46,J,2,0,"th",17),t.YNc(47,F,3,4,"td",18),t.BQk(),t.ynx(48,26),t.YNc(49,G,2,0,"th",27),t.YNc(50,$,2,1,"td",18),t.BQk(),t.ynx(51,28),t.YNc(52,z,2,0,"th",27),t.YNc(53,j,2,1,"td",18),t.BQk(),t.ynx(54,29),t.YNc(55,X,2,0,"th",27),t.YNc(56,V,2,1,"td",18),t.BQk(),t.ynx(57,30),t.YNc(58,tt,1,0,"th",31),t.YNc(59,ot,24,0,"td",18),t.BQk(),t.YNc(60,et,1,0,"tr",32),t.YNc(61,it,1,0,"tr",33),t.qZA(),t.TgZ(62,"div",34)(63,"div",35)(64,"button",36),t._UZ(65,"br")(66,"br"),t.TgZ(67,"b"),t._uU(68),t.qZA()()()(),t.TgZ(69,"mat-paginator",37,38),t.NdJ("page",function(r){return a.onPaginateChange(r)}),t.qZA()()),2&e){const n=t.MAs(11);t.xp6(8),t.Q6J("ngIf",a.searchTextDisplay),t.xp6(1),t.Q6J("ngIf",!a.searchTextDisplay),t.xp6(4),t.Q6J("ngForOf",a.columnShowHideList),t.xp6(1),t.Q6J("matMenuTriggerFor",n),t.xp6(8),t.Q6J("ngIf",a.searchTextDisplay),t.xp6(1),t.Q6J("dataSource",a.dataSource),t.xp6(37),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(7),t.hij(" Load Totals : ",a.TotalPieces,""),t.xp6(1),t.Q6J("length",a.totalRecords)("pageSizeOptions",t.DdM(12,at))("pageSize",a.pageSize)}},dependencies:[D.m,c.sg,c.O5,d._Y,d.Fj,d.JJ,d.JL,d.On,d.sg,d.u,u.NW,k.Hw,W.VK,W.p6,Z.lW,g.KE,g.hX,A.Nt,m.a8,m.dk,m.dn,m.n5,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,b.gM,x.Rr,c.JJ],styles:["label[_ngcontent-%COMP%]{margin-left:500px}"]}),o})()}}]);