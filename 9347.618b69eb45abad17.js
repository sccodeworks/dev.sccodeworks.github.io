"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[9347],{9347:(v,W,l)=>{l.r(W),l.d(W,{ItemMasterInquiryComponent:()=>E});var M=l(70879),t=l(94650),o=l(24006),S=l(19132),L=l(44285),U=l(98739),O=l(97392),I=l(4859),R=l(59549),e=l(44144),r=l(73546),a=l(7155);function i(u,d){if(1&u&&(t.TgZ(0,"th",23),t._uU(1),t.qZA()),2&u){const m=d.$implicit;t.xp6(1),t.hij(" ",m.WFLAT," ")}}function s(u,d){if(1&u&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&u){const m=d.$implicit;t.xp6(1),t.Oqu(m.WLEADR)}}function n(u,d){if(1&u&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&u){const m=d.$implicit;t.xp6(1),t.Oqu(m.WVALUE)}}function h(u,d){1&u&&t._UZ(0,"tr",25)}function _(u,d){1&u&&t._UZ(0,"tr",25)}const g=function(){return["WFLAT"]},f=function(){return["WLEADR","WVALUE"]},C=function(){return[8,16,24]};let E=(()=>{class u{constructor(m,p,A){this.fb=m,this.router=p,this.Itemservice=A,this.totalRecords=0,this.element={},this.user=localStorage.getItem("userName"),this.dataSource=[],this.pageNumber=1,this.pageSize=8,this.groupedTable=[],this.isHeaderRow=(P,T)=>!0===T.isHeader,this.isDataRow=(P,T)=>!1===T.isHeader,this.ItemRoute="/main-nav/item/read"}ngOnInit(){this.element=history.state,console.log(this.element),this.ItemMasterInquiry=this.fb.group({Storer:this.element.WKSTOR,ProductCode:"",Item:this.element.WKITEM+"\xa0"+this.element.WKDSC1,UPC:"",xRef:""}),this.getItemMasterInquiry(this.pageSize,1)}getItemMasterInquiry(m=8,p=1){this.Itemservice.ItemMasterInquiry(this.user,this.element.WKSTOR,this.element.WKSSFX,this.element.WKITEM+"\xa0"+this.element.WKDSC1,p,m).subscribe(A=>{var P=JSON.parse(A[0].data[1]?.value);const T=P.returnedData||[];this.totalRecords=P.TotalRecords;const K=T.map(c=>({WFLAT:c["WFLAT "]?.trim()||"",WLEADR:c.WLEADR?.trim()||"",WVALUE:c.WVALUE?.trim()||""}));this.groupedTable=[];let D=null;for(const c of K)c.WFLAT&&(!D||c.WFLAT!==D.WFLAT)&&(D={WFLAT:c.WFLAT,items:[]},this.groupedTable.push(D)),D&&D.items.push({WLEADR:c.WLEADR,WVALUE:c.WVALUE});this.dataSource=[];for(const c of this.groupedTable)this.dataSource.push({WFLAT:c.WFLAT,isHeader:!0}),c.items.forEach(y=>{this.dataSource.push({...y,isHeader:!1})})})}onPaginateChange(m){this.pageSize=m.pageSize,this.pageNumber=m.pageIndex+1,this.getItemMasterInquiry(this.pageSize,this.pageNumber)}onBack(){this.router.navigate([this.ItemRoute])}}return u.\u0275fac=function(m){return new(m||u)(t.Y36(o.qu),t.Y36(S.F0),t.Y36(L.l))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-item-master-inquiry"]],standalone:!0,features:[t.jDz],decls:43,vars:12,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"button"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","Storer",2,"text-transform","uppercase"],["matInput","","formControlName","ProductCode",2,"text-transform","uppercase"],["matInput","","formControlName","Item",2,"text-transform","uppercase"],["matInput","","formControlName","UPC",2,"text-transform","uppercase"],["matInput","","formControlName","xRef",2,"text-transform","uppercase"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","WFLAT"],["colspan","2","mat-header-cell","",4,"matCellDef"],["matColumnDef","WLEADR"],["mat-cell","",4,"matCellDef"],["matColumnDef","WVALUE"],["mat-row","",4,"matRowDef","matRowDefColumns","matRowDefWhen"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["colspan","2","mat-header-cell",""],["mat-cell",""],["mat-row",""]],template:function(m,p){1&m&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return p.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6,"Item Master Inquiry"),t.qZA(),t._UZ(7,"div",3),t.qZA(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"Storer"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"Product Code"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field",8)(21,"mat-label"),t._uU(22,"Item"),t.qZA(),t._UZ(23,"input",11),t.qZA(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26,"UPC"),t.qZA(),t._UZ(27,"input",12),t.qZA(),t.TgZ(28,"mat-form-field",8)(29,"mat-label"),t._uU(30,"xRef"),t.qZA(),t._UZ(31,"input",13),t.qZA()()()(),t.TgZ(32,"table",14),t.ynx(33,15),t.YNc(34,i,2,1,"th",16),t.BQk(),t.ynx(35,17),t.YNc(36,s,2,1,"td",18),t.BQk(),t.ynx(37,19),t.YNc(38,n,2,1,"td",18),t.BQk(),t.YNc(39,h,1,0,"tr",20),t.YNc(40,_,1,0,"tr",20),t.qZA(),t.TgZ(41,"mat-paginator",21,22),t.NdJ("page",function(P){return p.onPaginateChange(P)}),t.qZA()()()),2&m&&(t.xp6(9),t.Q6J("formGroup",p.ItemMasterInquiry),t.xp6(23),t.Q6J("dataSource",p.dataSource),t.xp6(7),t.Q6J("matRowDefColumns",t.DdM(9,g))("matRowDefWhen",p.isHeaderRow),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(10,f))("matRowDefWhen",p.isDataRow),t.xp6(1),t.Q6J("length",p.totalRecords)("pageSizeOptions",t.DdM(11,C))("pageSize",p.pageSize))},dependencies:[M.m,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,U.NW,O.Hw,I.lW,R.KE,R.hX,e.Nt,r.a8,r.dk,r.dn,r.n5,a.BZ,a.w1,a.Dz,a.nj,a.ge,a.ev,a.Gk]}),u})()},44285:(v,W,l)=>{l.d(W,{l:()=>O});var M=l(80529),t=l(75625),o=l(70262),S=l(62843),L=l(92340),U=l(94650);let O=(()=>{class I{constructor(e){this.httpClient=e,this.url=L.N.API_BASE_URL1,this.url1=L.N.API_BASE_URL,this.httpHeader={headers:new M.WM({"Content-Type":"application/json"})},this.weachUrl="/itemWeach",this.packageUrl="/smallPackage"}getChangeWeaches(e,r,a,i,s,n){return this.httpClient.get(this.url1+this.weachUrl+"/read",{params:{user:e,storer:r??"",suffix:a??"",item:i??"",recordsPerPage:s??"",pageNo:n??""}})}updateWeach(e,r,a,i,s,n,h,_,g,f,C,E){return this.httpClient.put(this.url1+this.weachUrl+"/update",{user:e,storer:r,suffix:a,item:i,unitType:s,quantity:n,weight:h,weightUnit:_,height:g,width:f,depth:C,inventoryUnit:E}).pipe((0,t.X)(1),(0,o.K)(this.httpError))}createWeach(e,r,a,i,s,n,h,_,g,f,C,E){return this.httpClient.post(this.url1+this.weachUrl+"/create",{user:e,storer:r,suffix:a,item:i,unitType:s,quantity:n,weight:h,weightUnit:_,height:g,width:f,depth:C,inventoryUnit:E}).pipe((0,t.X)(1),(0,o.K)(this.httpError))}deleteWeach(e,r,a,i,s){return this.httpClient.delete(this.url1+`/itemWeach/delete?user=${e}&storer=${r}&suffix=${a}&item=${i}&type=${s}`)}convertFromLot(e,r,a,i){return this.httpClient.put(this.url1+"/item/fromLot",{user:e,storer:r,suffix:a,item:i}).pipe((0,t.X)(1),(0,o.K)(this.httpError))}convertToLot(e,r,a,i){return this.httpClient.put(this.url1+"/item/toLot",{user:e,storer:r,suffix:a,item:i}).pipe((0,t.X)(1),(0,o.K)(this.httpError))}hardDelete(e,r,a,i){return this.httpClient.delete(this.url1+`/item/hardDelete?user=${e}&storer=${r}&suffix=${a}&item=${i}`)}hazmatDelete(e,r,a){return this.httpClient.delete(this.url1+`/item/hazmatDelete?&storer=${e}&suffix=${r}&item=${a}`)}getItemAttribute(e,r,a,i,s,n){return this.httpClient.get(this.url1+"/item/itemAttribute/read",{params:{user:e,storer:r??"",suffix:a??"",item:i??"",recordsPerPage:s??"",pageNo:n??""}})}itemTallyInquiry(e,r,a,i){return this.httpClient.get(this.url1+"/ihcrud/inquiry/display",{params:{user:e,tally:r??"",recordsPerPage:a??"",pageNo:i??""}})}getSmallPackage(e,r,a,i,s,n){return this.httpClient.get(this.url1+this.packageUrl+"/read",{params:{user:e,storer:r??"",suffix:a??"",item:i??"",recordsPerPage:s??"",pageNo:n??""}})}deleteSmallPackage(e,r,a,i,s){return this.httpClient.delete(this.url1+`/smallPackage/delete?user=${e}&storer=${r}&suffix=${a}&item=${i}&type=${s}`)}updateSmallPackage(e,r,a,i,s,n){return this.httpClient.put(this.url1+this.packageUrl+"/update",{user:e,storer:r,suffix:a,item:i,sequence:s,email:n}).pipe((0,t.X)(1),(0,o.K)(this.httpError))}createSmallPackage(e,r,a,i,s){return this.httpClient.post(this.url1+this.packageUrl+"/create",{user:e,storer:r,suffix:a,item:i,email:s}).pipe((0,t.X)(1),(0,o.K)(this.httpError))}getAll(e){return this.httpClient.get(this.url+`/NewItems/readAll?user=${e}`)}unitOfMeasures(){return this.httpClient.get(this.url1+"/item/uom")}BucketXfer(e,r,a,i,s,n,h,_,g,f,C,E){return this.httpClient.post(this.url+"/NewItems/BucketXfer",{STOR:e,SSFX:r,STNAME:a,ITEM:i,LTC1:s,LTC2:n,LTC3:h,FROM:_,TO:g,AJREAS:f,COMM:C,user:E}).pipe((0,t.X)(1),(0,o.K)(this.httpError))}ItemsCopy(e,r,a,i,s,n,h,_){return this.httpClient.put(this.url1+"/item/copyItem",{fromStorer:e,fromSuffix:r,Item:a,toStorer:i,toSuffix:s,ItemDescription:n,NewItemCode:h,ToItem:_}).pipe((0,t.X)(1),(0,o.K)(this.httpError))}LotStatus(e,r,a,i,s,n){return this.httpClient.get(this.url1+`/item/LotStatus?user=${e}&WKSTOR=${r}&WKSTRX=${a}&WKITEM=${i}&recordsPerPage=${s}&pageNum=${n}`)}ItemschgUPCcode(e,r,a,i,s,n){return this.httpClient.put(this.url+"/NewItems/UPCcode",{ITSTOR:e,ITEM:r,ITUPCC:a,ITTAIL:i,ITPDCD:s,user:n}).pipe((0,t.X)(1),(0,o.K)(this.httpError))}ItemUPCcode(e,r,a,i,s,n,h,_,g,f,C,E,u){return this.httpClient.put(this.url1+"/item/ChangeUpcCode",{user:e,ITSTOR:r,ITEM:i,ITSSFX:a,ITUPCC:s,ITTAIL:n,ITPDCD:h,ITCHGY:_,ITCHGM:g,ITCHGD:f,ITCHGT:C,ITCHGU:E,ITCHGW:u}).pipe((0,t.X)(1),(0,o.K)(this.httpError))}kitPickSheet(e,r,a,i){return this.httpClient.post(this.url1+"/item/kitPickSheet",{user:e,storer:r,suffix:a,item:i}).pipe((0,t.X)(1),(0,o.K)(this.httpError))}reIdentifyItem(e,r,a,i,s,n){return this.httpClient.post(this.url1+"/item/ReidentifyItem",{user:e,storer:r,suffix:a,item:i,description:s,newItem:n}).pipe((0,t.X)(1),(0,o.K)(this.httpError))}EmailLowStock(e,r,a){return this.httpClient.put(this.url1+"/item/EmailLowStock",{storer:e,suffix:r,item:a}).pipe((0,t.X)(1),(0,o.K)(this.httpError))}Throughput(e,r,a,i,s,n){return this.httpClient.get(this.url1+"/item/Throughput",{params:{user:e,storer:r??"",suffix:a??"",item:i??"",start:s??"",end:n??""}})}Hazmat(e,r,a,i,s,n,h){return this.httpClient.get(this.url1+"/item/HazmatRead",{params:{user:e,storer:r??"",suffix:a??"",item:i??"",code:s??"",recordsPerPage:n??"",pageNo:h??""}})}Chemicals(){return this.httpClient.get(this.url1+"/item/Chemicals")}HazOptions(){return this.httpClient.get(this.url1+"/item/HazOptions")}HazUpdate(e,r,a,i,s,n,h,_,g,f,C,E,u,d,m,p,A,P,T,K,D,c,y,Z,$,N,x){return this.httpClient.put(this.url1+"/item/updateHazmat",{user:e,storer:r,suffix:a,item:i,code:s,description:n,perc1:h,chemId1:_,chemicalName1:g,perc2:f,chemId2:C,chemicalName2:E,perc3:u,chemId3:d,chemicalName3:m,perc4:p,chemId4:A,chemicalName4:P,perc5:T,chemId5:K,chemicalName5:D,perc6:c,chemId6:y,chemicalName6:Z,perc7:$,chemId7:N,chemicalName7:x}).pipe((0,t.X)(1),(0,o.K)(this.httpError))}deleteShelfLife(e,r,a){return this.httpClient.delete(this.url1+`/item/DeleteShelfLife?storer=${e}&suffix=${r}&item=${a}`)}shelfLife(e,r,a,i,s,n){return this.httpClient.put(this.url1+"/item/shelfLife",{storer:e,suffix:r,item:a,lotStyle:i,type:s,days:n}).pipe((0,t.X)(1),(0,o.K)(this.httpError))}LineSet(e,r,a,i,s,n){return this.httpClient.get(this.url1+"/item/LineSet",{params:{user:e,storer:r??"",suffix:a??"",item:i??"",recordsPerPage:s??"",pageNo:n??""}})}ItemMasterInquiry(e,r,a,i,s,n){return this.httpClient.get(this.url1+`/item/ItemMasterInquiry?user=${e}&WKSTOR=${r}&WKSSFX=${a}&WKITEM=${i}&recordsPerPage=${n}&pageNo=${s}`)}httpError(e){let r="";return r=e.error instanceof ErrorEvent?e.error.message:`Error Code: ${e.status}\nMessage: ${e.message}`,(0,S._)(()=>new Error(r))}}return I.\u0275fac=function(e){return new(e||I)(U.LFG(M.eN))},I.\u0275prov=U.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})()}}]);